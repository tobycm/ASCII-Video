// @bun
var VR=Object.create;var{defineProperty:M4,getPrototypeOf:WR,getOwnPropertyNames:UR}=Object;var RR=Object.prototype.hasOwnProperty;var OR=($,J,K)=>{K=$!=null?VR(WR($)):{};const Z=J||!$||!$.__esModule?M4(K,"default",{value:$,enumerable:!0}):K;for(let Q of UR($))if(!RR.call(Z,Q))M4(Z,Q,{get:()=>$[Q],enumerable:!0});return Z};var l=($,J)=>()=>(J||$((J={exports:{}}).exports,J),J.exports);var h0=l((S4)=>{var zR=function($){if(typeof $==="undefined")return!1;if(typeof $!=="function")throw new TypeError("Callback must be a function");return!0},NR=function($,J){if(typeof $==="string")$=new Error($);if(typeof J==="function")return J.call(this,$);throw $},PR=function($,J,K,Z,Q,Y){J=Math.round(J),K=Math.round(K),Z=Math.round(Z),Q=Math.round(Q);for(let G=K;G<K+Q;G++)for(let H=J;H<J+Z;H++){const q=$.bitmap.width*G+H<<2;Y.call($,H,G,q)}return $};function*AR($,J,K,Z,Q){J=Math.round(J),K=Math.round(K),Z=Math.round(Z),Q=Math.round(Q);for(let Y=K;Y<K+Q;Y++)for(let G=J;G<J+Z;G++){const H=$.bitmap.width*Y+G<<2;yield{x:G,y:Y,idx:H,image:$}}}Object.defineProperty(S4,"__esModule",{value:!0});S4.isNodePattern=zR;S4.scan=PR;S4.scanIterator=AR;S4.throwError=NR});var I4=l((XM,j4)=>{var C9=function($,J){if(!$||!J||!$.length||!J.length)throw new Error("Bad alphabet");this.srcAlphabet=$,this.dstAlphabet=J};C9.prototype.convert=function($){var J,K,Z,Q={},Y=this.srcAlphabet.length,G=this.dstAlphabet.length,H=$.length,q=typeof $==="string"?"":[];if(!this.isValid($))throw new Error('Number "'+$+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return $;for(J=0;J<H;J++)Q[J]=this.srcAlphabet.indexOf($[J]);do{K=0,Z=0;for(J=0;J<H;J++)if(K=K*Y+Q[J],K>=G)Q[Z++]=parseInt(K/G,10),K=K%G;else if(Z>0)Q[Z++]=0;H=Z,q=this.dstAlphabet.slice(K,K+1).concat(q)}while(Z!==0);return q};C9.prototype.isValid=function($){var J=0;for(;J<$.length;++J)if(this.srcAlphabet.indexOf($[J])===-1)return!1;return!0};j4.exports=C9});var w4=l((EM,T4)=>{var E6=function($,J){var K=new CR($,J);return function(Z){return K.convert(Z)}},CR=I4();E6.BIN="01";E6.OCT="01234567";E6.DEC="0123456789";E6.HEX="0123456789abcdef";T4.exports=E6});var y4=l((CM,_4)=>{var LR=function($,J,K,Z,Q,Y){if(!Y)Y={};var G=Y.threshold===void 0?0.1:Y.threshold,H=35215*G*G,q=0;for(var V=0;V<Q;V++)for(var W=0;W<Z;W++){var U=(V*Z+W)*4,R=v4($,J,U,U);if(R>H)if(!Y.includeAA&&(c5($,W,V,Z,Q,J)||c5(J,W,V,Z,Q,$))){if(K)L9(K,U,255,255,0)}else{if(K)L9(K,U,255,0,0);q++}else if(K){var O=_8(MR($,U),0.1);L9(K,U,O,O,O)}}return q},c5=function($,J,K,Z,Q,Y){var G=Math.max(J-1,0),H=Math.max(K-1,0),q=Math.min(J+1,Z-1),V=Math.min(K+1,Q-1),W=(K*Z+J)*4,U=0,R=0,O=0,B=0,M=0,C,E,T,L;for(var X=G;X<=q;X++)for(var z=H;z<=V;z++){if(X===J&&z===K)continue;var N=v4($,$,W,(z*Z+X)*4,!0);if(N===0)U++;else if(N<0)O++;else if(N>0)R++;if(U>2)return!1;if(!Y)continue;if(N<B)B=N,C=X,E=z;if(N>M)M=N,T=X,L=z}if(!Y)return!0;if(O===0||R===0)return!1;return!c5($,C,E,Z,Q)&&!c5(Y,C,E,Z,Q)||!c5($,T,L,Z,Q)&&!c5(Y,T,L,Z,Q)},v4=function($,J,K,Z,Q){var Y=$[K+3]/255,G=J[Z+3]/255,H=_8($[K+0],Y),q=_8($[K+1],Y),V=_8($[K+2],Y),W=_8(J[Z+0],G),U=_8(J[Z+1],G),R=_8(J[Z+2],G),O=M9(H,q,V)-M9(W,U,R);if(Q)return O;var B=D4(H,q,V)-D4(W,U,R),M=k4(H,q,V)-k4(W,U,R);return 0.5053*O*O+0.299*B*B+0.1957*M*M},M9=function($,J,K){return $*0.29889531+J*0.58662247+K*0.11448223},D4=function($,J,K){return $*0.59597799-J*0.2741761-K*0.32180189},k4=function($,J,K){return $*0.21147017-J*0.52261711+K*0.31114694},_8=function($,J){return 255+($-255)*J},L9=function($,J,K,Z,Q){$[J+0]=K,$[J+1]=Z,$[J+2]=Q,$[J+3]=255},MR=function($,J){var K=$[J+3]/255,Z=_8($[J+0],K),Q=_8($[J+1],K),Y=_8($[J+2],K);return M9(Z,Q,Y)};_4.exports=LR});var I9=l((S9,j9)=>{(function($,J){typeof S9==="object"&&typeof j9!=="undefined"?j9.exports=J():typeof define==="function"&&define.amd?define(J):($=typeof globalThis!=="undefined"?globalThis:$||self,$.tinycolor=J())})(S9,function(){function $(F){return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},$(F)}var J=/^\s+/,K=/\s+$/;function Z(F,A){if(F=F?F:"",A=A||{},F instanceof Z)return F;if(!(this instanceof Z))return new Z(F,A);var I=Q(F);if(this._originalInput=F,this._r=I.r,this._g=I.g,this._b=I.b,this._a=I.a,this._roundA=Math.round(100*this._a)/100,this._format=A.format||I.format,this._gradientType=A.gradientType,this._r<1)this._r=Math.round(this._r);if(this._g<1)this._g=Math.round(this._g);if(this._b<1)this._b=Math.round(this._b);this._ok=I.ok}Z.prototype={isDark:function F(){return this.getBrightness()<128},isLight:function F(){return!this.isDark()},isValid:function F(){return this._ok},getOriginalInput:function F(){return this._originalInput},getFormat:function F(){return this._format},getAlpha:function F(){return this._a},getBrightness:function F(){var A=this.toRgb();return(A.r*299+A.g*587+A.b*114)/1000},getLuminance:function F(){var A=this.toRgb(),I,D,c,m,f,i;if(I=A.r/255,D=A.g/255,c=A.b/255,I<=0.03928)m=I/12.92;else m=Math.pow((I+0.055)/1.055,2.4);if(D<=0.03928)f=D/12.92;else f=Math.pow((D+0.055)/1.055,2.4);if(c<=0.03928)i=c/12.92;else i=Math.pow((c+0.055)/1.055,2.4);return 0.2126*m+0.7152*f+0.0722*i},setAlpha:function F(A){return this._a=v(A),this._roundA=Math.round(100*this._a)/100,this},toHsv:function F(){var A=q(this._r,this._g,this._b);return{h:A.h*360,s:A.s,v:A.v,a:this._a}},toHsvString:function F(){var A=q(this._r,this._g,this._b),I=Math.round(A.h*360),D=Math.round(A.s*100),c=Math.round(A.v*100);return this._a==1?"hsv("+I+", "+D+"%, "+c+"%)":"hsva("+I+", "+D+"%, "+c+"%, "+this._roundA+")"},toHsl:function F(){var A=G(this._r,this._g,this._b);return{h:A.h*360,s:A.s,l:A.l,a:this._a}},toHslString:function F(){var A=G(this._r,this._g,this._b),I=Math.round(A.h*360),D=Math.round(A.s*100),c=Math.round(A.l*100);return this._a==1?"hsl("+I+", "+D+"%, "+c+"%)":"hsla("+I+", "+D+"%, "+c+"%, "+this._roundA+")"},toHex:function F(A){return W(this._r,this._g,this._b,A)},toHexString:function F(A){return"#"+this.toHex(A)},toHex8:function F(A){return U(this._r,this._g,this._b,this._a,A)},toHex8String:function F(A){return"#"+this.toHex8(A)},toRgb:function F(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function F(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function F(){return{r:Math.round(_(this._r,255)*100)+"%",g:Math.round(_(this._g,255)*100)+"%",b:Math.round(_(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function F(){return this._a==1?"rgb("+Math.round(_(this._r,255)*100)+"%, "+Math.round(_(this._g,255)*100)+"%, "+Math.round(_(this._b,255)*100)+"%)":"rgba("+Math.round(_(this._r,255)*100)+"%, "+Math.round(_(this._g,255)*100)+"%, "+Math.round(_(this._b,255)*100)+"%, "+this._roundA+")"},toName:function F(){if(this._a===0)return"transparent";if(this._a<1)return!1;return w[W(this._r,this._g,this._b,!0)]||!1},toFilter:function F(A){var I="#"+R(this._r,this._g,this._b,this._a),D=I,c=this._gradientType?"GradientType = 1, ":"";if(A){var m=Z(A);D="#"+R(m._r,m._g,m._b,m._a)}return"progid:DXImageTransform.Microsoft.gradient("+c+"startColorstr="+I+",endColorstr="+D+")"},toString:function F(A){var I=!!A;A=A||this._format;var D=!1,c=this._a<1&&this._a>=0,m=!I&&c&&(A==="hex"||A==="hex6"||A==="hex3"||A==="hex4"||A==="hex8"||A==="name");if(m){if(A==="name"&&this._a===0)return this.toName();return this.toRgbString()}if(A==="rgb")D=this.toRgbString();if(A==="prgb")D=this.toPercentageRgbString();if(A==="hex"||A==="hex6")D=this.toHexString();if(A==="hex3")D=this.toHexString(!0);if(A==="hex4")D=this.toHex8String(!0);if(A==="hex8")D=this.toHex8String();if(A==="name")D=this.toName();if(A==="hsl")D=this.toHslString();if(A==="hsv")D=this.toHsvString();return D||this.toHexString()},clone:function F(){return Z(this.toString())},_applyModification:function F(A,I){var D=A.apply(null,[this].concat([].slice.call(I)));return this._r=D._r,this._g=D._g,this._b=D._b,this.setAlpha(D._a),this},lighten:function F(){return this._applyModification(C,arguments)},brighten:function F(){return this._applyModification(E,arguments)},darken:function F(){return this._applyModification(T,arguments)},desaturate:function F(){return this._applyModification(O,arguments)},saturate:function F(){return this._applyModification(B,arguments)},greyscale:function F(){return this._applyModification(M,arguments)},spin:function F(){return this._applyModification(L,arguments)},_applyCombination:function F(A,I){return A.apply(null,[this].concat([].slice.call(I)))},analogous:function F(){return this._applyCombination(P,arguments)},complement:function F(){return this._applyCombination(X,arguments)},monochromatic:function F(){return this._applyCombination(S,arguments)},splitcomplement:function F(){return this._applyCombination(N,arguments)},triad:function F(){return this._applyCombination(z,[3])},tetrad:function F(){return this._applyCombination(z,[4])}},Z.fromRatio=function(F,A){if($(F)=="object"){var I={};for(var D in F)if(F.hasOwnProperty(D))if(D==="a")I[D]=F[D];else I[D]=n(F[D]);F=I}return Z(F,A)};function Q(F){var A={r:0,g:0,b:0},I=1,D=null,c=null,m=null,f=!1,i=!1;if(typeof F=="string")F=h(F);if($(F)=="object"){if(d(F.r)&&d(F.g)&&d(F.b))A=Y(F.r,F.g,F.b),f=!0,i=String(F.r).substr(-1)==="%"?"prgb":"rgb";else if(d(F.h)&&d(F.s)&&d(F.v))D=n(F.s),c=n(F.v),A=V(F.h,D,c),f=!0,i="hsv";else if(d(F.h)&&d(F.s)&&d(F.l))D=n(F.s),m=n(F.l),A=H(F.h,D,m),f=!0,i="hsl";if(F.hasOwnProperty("a"))I=F.a}return I=v(I),{ok:f,format:F.format||i,r:Math.min(255,Math.max(A.r,0)),g:Math.min(255,Math.max(A.g,0)),b:Math.min(255,Math.max(A.b,0)),a:I}}function Y(F,A,I){return{r:_(F,255)*255,g:_(A,255)*255,b:_(I,255)*255}}function G(F,A,I){F=_(F,255),A=_(A,255),I=_(I,255);var D=Math.max(F,A,I),c=Math.min(F,A,I),m,f,i=(D+c)/2;if(D==c)m=f=0;else{var a=D-c;switch(f=i>0.5?a/(2-D-c):a/(D+c),D){case F:m=(A-I)/a+(A<I?6:0);break;case A:m=(I-F)/a+2;break;case I:m=(F-A)/a+4;break}m/=6}return{h:m,s:f,l:i}}function H(F,A,I){var D,c,m;F=_(F,360),A=_(A,100),I=_(I,100);function f($0,Q0,W0){if(W0<0)W0+=1;if(W0>1)W0-=1;if(W0<0.16666666666666666)return $0+(Q0-$0)*6*W0;if(W0<0.5)return Q0;if(W0<0.6666666666666666)return $0+(Q0-$0)*(0.6666666666666666-W0)*6;return $0}if(A===0)D=c=m=I;else{var i=I<0.5?I*(1+A):I+A-I*A,a=2*I-i;D=f(a,i,F+0.3333333333333333),c=f(a,i,F),m=f(a,i,F-0.3333333333333333)}return{r:D*255,g:c*255,b:m*255}}function q(F,A,I){F=_(F,255),A=_(A,255),I=_(I,255);var D=Math.max(F,A,I),c=Math.min(F,A,I),m,f,i=D,a=D-c;if(f=D===0?0:a/D,D==c)m=0;else{switch(D){case F:m=(A-I)/a+(A<I?6:0);break;case A:m=(I-F)/a+2;break;case I:m=(F-A)/a+4;break}m/=6}return{h:m,s:f,v:i}}function V(F,A,I){F=_(F,360)*6,A=_(A,100),I=_(I,100);var D=Math.floor(F),c=F-D,m=I*(1-A),f=I*(1-c*A),i=I*(1-(1-c)*A),a=D%6,$0=[I,f,m,m,i,I][a],Q0=[i,I,I,f,m,m][a],W0=[m,m,i,I,I,f][a];return{r:$0*255,g:Q0*255,b:W0*255}}function W(F,A,I,D){var c=[g(Math.round(F).toString(16)),g(Math.round(A).toString(16)),g(Math.round(I).toString(16))];if(D&&c[0].charAt(0)==c[0].charAt(1)&&c[1].charAt(0)==c[1].charAt(1)&&c[2].charAt(0)==c[2].charAt(1))return c[0].charAt(0)+c[1].charAt(0)+c[2].charAt(0);return c.join("")}function U(F,A,I,D,c){var m=[g(Math.round(F).toString(16)),g(Math.round(A).toString(16)),g(Math.round(I).toString(16)),g(e(D))];if(c&&m[0].charAt(0)==m[0].charAt(1)&&m[1].charAt(0)==m[1].charAt(1)&&m[2].charAt(0)==m[2].charAt(1)&&m[3].charAt(0)==m[3].charAt(1))return m[0].charAt(0)+m[1].charAt(0)+m[2].charAt(0)+m[3].charAt(0);return m.join("")}function R(F,A,I,D){var c=[g(e(D)),g(Math.round(F).toString(16)),g(Math.round(A).toString(16)),g(Math.round(I).toString(16))];return c.join("")}Z.equals=function(F,A){if(!F||!A)return!1;return Z(F).toRgbString()==Z(A).toRgbString()},Z.random=function(){return Z.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function O(F,A){A=A===0?0:A||10;var I=Z(F).toHsl();return I.s-=A/100,I.s=x(I.s),Z(I)}function B(F,A){A=A===0?0:A||10;var I=Z(F).toHsl();return I.s+=A/100,I.s=x(I.s),Z(I)}function M(F){return Z(F).desaturate(100)}function C(F,A){A=A===0?0:A||10;var I=Z(F).toHsl();return I.l+=A/100,I.l=x(I.l),Z(I)}function E(F,A){A=A===0?0:A||10;var I=Z(F).toRgb();return I.r=Math.max(0,Math.min(255,I.r-Math.round(255*-(A/100)))),I.g=Math.max(0,Math.min(255,I.g-Math.round(255*-(A/100)))),I.b=Math.max(0,Math.min(255,I.b-Math.round(255*-(A/100)))),Z(I)}function T(F,A){A=A===0?0:A||10;var I=Z(F).toHsl();return I.l-=A/100,I.l=x(I.l),Z(I)}function L(F,A){var I=Z(F).toHsl(),D=(I.h+A)%360;return I.h=D<0?360+D:D,Z(I)}function X(F){var A=Z(F).toHsl();return A.h=(A.h+180)%360,Z(A)}function z(F,A){if(isNaN(A)||A<=0)throw new Error("Argument to polyad must be a positive number");var I=Z(F).toHsl(),D=[Z(F)],c=360/A;for(var m=1;m<A;m++)D.push(Z({h:(I.h+m*c)%360,s:I.s,l:I.l}));return D}function N(F){var A=Z(F).toHsl(),I=A.h;return[Z(F),Z({h:(I+72)%360,s:A.s,l:A.l}),Z({h:(I+216)%360,s:A.s,l:A.l})]}function P(F,A,I){A=A||6,I=I||30;var D=Z(F).toHsl(),c=360/I,m=[Z(F)];for(D.h=(D.h-(c*A>>1)+720)%360;--A;)D.h=(D.h+c)%360,m.push(Z(D));return m}function S(F,A){A=A||6;var I=Z(F).toHsv(),D=I.h,c=I.s,m=I.v,f=[],i=1/A;while(A--)f.push(Z({h:D,s:c,v:m})),m=(m+i)%1;return f}Z.mix=function(F,A,I){I=I===0?0:I||50;var D=Z(F).toRgb(),c=Z(A).toRgb(),m=I/100,f={r:(c.r-D.r)*m+D.r,g:(c.g-D.g)*m+D.g,b:(c.b-D.b)*m+D.b,a:(c.a-D.a)*m+D.a};return Z(f)},Z.readability=function(F,A){var I=Z(F),D=Z(A);return(Math.max(I.getLuminance(),D.getLuminance())+0.05)/(Math.min(I.getLuminance(),D.getLuminance())+0.05)},Z.isReadable=function(F,A,I){var D=Z.readability(F,A),c,m;switch(m=!1,c=u(I),c.level+c.size){case"AAsmall":case"AAAlarge":m=D>=4.5;break;case"AAlarge":m=D>=3;break;case"AAAsmall":m=D>=7;break}return m},Z.mostReadable=function(F,A,I){var D=null,c=0,m,f,i,a;I=I||{},f=I.includeFallbackColors,i=I.level,a=I.size;for(var $0=0;$0<A.length;$0++)if(m=Z.readability(F,A[$0]),m>c)c=m,D=Z(A[$0]);if(Z.isReadable(F,D,{level:i,size:a})||!f)return D;else return I.includeFallbackColors=!1,Z.mostReadable(F,["#fff","#000"],I)};var k=Z.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},w=Z.hexNames=j(k);function j(F){var A={};for(var I in F)if(F.hasOwnProperty(I))A[F[I]]=I;return A}function v(F){if(F=parseFloat(F),isNaN(F)||F<0||F>1)F=1;return F}function _(F,A){if(y(F))F="100%";var I=p(F);if(F=Math.min(A,Math.max(0,parseFloat(F))),I)F=parseInt(F*A,10)/100;if(Math.abs(F-A)<0.000001)return 1;return F%A/parseFloat(A)}function x(F){return Math.min(1,Math.max(0,F))}function b(F){return parseInt(F,16)}function y(F){return typeof F=="string"&&F.indexOf(".")!=-1&&parseFloat(F)===1}function p(F){return typeof F==="string"&&F.indexOf("%")!=-1}function g(F){return F.length==1?"0"+F:""+F}function n(F){if(F<=1)F=F*100+"%";return F}function e(F){return Math.round(parseFloat(F)*255).toString(16)}function o(F){return b(F)/255}var t=function(){var F="[-\\+]?\\d+%?",A="[-\\+]?\\d*\\.\\d+%?",I="(?:"+A+")|(?:"+F+")",D="[\\s|\\(]+("+I+")[,|\\s]+("+I+")[,|\\s]+("+I+")\\s*\\)?",c="[\\s|\\(]+("+I+")[,|\\s]+("+I+")[,|\\s]+("+I+")[,|\\s]+("+I+")\\s*\\)?";return{CSS_UNIT:new RegExp(I),rgb:new RegExp("rgb"+D),rgba:new RegExp("rgba"+c),hsl:new RegExp("hsl"+D),hsla:new RegExp("hsla"+c),hsv:new RegExp("hsv"+D),hsva:new RegExp("hsva"+c),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function d(F){return!!t.CSS_UNIT.exec(F)}function h(F){F=F.replace(J,"").replace(K,"").toLowerCase();var A=!1;if(k[F])F=k[F],A=!0;else if(F=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var I;if(I=t.rgb.exec(F))return{r:I[1],g:I[2],b:I[3]};if(I=t.rgba.exec(F))return{r:I[1],g:I[2],b:I[3],a:I[4]};if(I=t.hsl.exec(F))return{h:I[1],s:I[2],l:I[3]};if(I=t.hsla.exec(F))return{h:I[1],s:I[2],l:I[3],a:I[4]};if(I=t.hsv.exec(F))return{h:I[1],s:I[2],v:I[3]};if(I=t.hsva.exec(F))return{h:I[1],s:I[2],v:I[3],a:I[4]};if(I=t.hex8.exec(F))return{r:b(I[1]),g:b(I[2]),b:b(I[3]),a:o(I[4]),format:A?"name":"hex8"};if(I=t.hex6.exec(F))return{r:b(I[1]),g:b(I[2]),b:b(I[3]),format:A?"name":"hex"};if(I=t.hex4.exec(F))return{r:b(I[1]+""+I[1]),g:b(I[2]+""+I[2]),b:b(I[3]+""+I[3]),a:o(I[4]+""+I[4]),format:A?"name":"hex8"};if(I=t.hex3.exec(F))return{r:b(I[1]+""+I[1]),g:b(I[2]+""+I[2]),b:b(I[3]+""+I[3]),format:A?"name":"hex"};return!1}function u(F){var A,I;if(F=F||{level:"AA",size:"small"},A=(F.level||"AA").toUpperCase(),I=(F.size||"small").toLowerCase(),A!=="AA"&&A!=="AAA")A="AA";if(I!=="small"&&I!=="large")I="small";return{level:A,size:I}}return Z})});var g4=l((q1,T9)=>{var C6=function($,J){this.size=this.size||$,this.smallerSize=this.smallerSize||J,jR(this.size)},SR=function($){const J=$&255;$>>>=8;const K=$&255;$>>>=8;const Z=$&255;return $>>>=8,{r:$&255,g:Z,b:K,a:J}},jR=function($){for(let J=1;J<$;J++)H1[J]=1;H1[0]=1/Math.sqrt(2)},IR=function($,J){const K=J,Z=[];for(let Q=0;Q<K;Q++){Z[Q]=[];for(let Y=0;Y<K;Y++){let G=0;for(let H=0;H<K;H++)for(let q=0;q<K;q++)G+=Math.cos((2*H+1)/(2*K)*Q*Math.PI)*Math.cos((2*q+1)/(2*K)*Y*Math.PI)*$[H][q];G*=H1[Q]*H1[Y]/4,Z[Q][Y]=G}}return Z};Object.defineProperty(q1,"__esModule",{value:!0});q1.default=void 0;C6.prototype.size=32;C6.prototype.smallerSize=8;C6.prototype.distance=function($,J){let K=0;for(let Z=0;Z<$.length;Z++)if($[Z]!==J[Z])K++;return K/$.length};C6.prototype.getHash=function($){$=$.clone().resize(this.size,this.size),$.grayscale();const J=[];for(let G=0;G<$.bitmap.width;G++){J[G]=[];for(let H=0;H<$.bitmap.height;H++)J[G][H]=SR($.getPixelColor(G,H)).b}const K=IR(J,this.size);let Z=0;for(let G=0;G<this.smallerSize;G++)for(let H=0;H<this.smallerSize;H++)Z+=K[G][H];const Q=Z/(this.smallerSize*this.smallerSize);let Y="";for(let G=0;G<this.smallerSize;G++)for(let H=0;H<this.smallerSize;H++)Y+=K[G][H]>Q?"1":"0";return Y};var H1=[],TR=C6;q1.default=TR;T9.exports=q1.default;T9.exports.default=q1.default});var b4=l((V1,w9)=>{Object.defineProperty(V1,"__esModule",{value:!0});V1.default=void 0;import.meta.require("isomorphic-fetch");var wR=($,J)=>{let{url:K,...Z}=$;fetch(K,Z).then((Q)=>{if(Q.ok)return Q.arrayBuffer().catch((Y)=>{throw new Error(`Response is not a buffer for url ${K}. Error: ${Y.message}`)});throw new Error(`HTTP Status ${Q.status} for url ${K}`)}).then((Q)=>J(null,Q)).catch((Q)=>J(Q))};V1.default=wR;w9.exports=V1.default;w9.exports.default=V1.default});var W1=l((u4)=>{Object.defineProperty(u4,"__esModule",{value:!0});u4.VERTICAL_ALIGN_TOP=u4.VERTICAL_ALIGN_MIDDLE=u4.VERTICAL_ALIGN_BOTTOM=u4.HORIZONTAL_ALIGN_RIGHT=u4.HORIZONTAL_ALIGN_LEFT=u4.HORIZONTAL_ALIGN_CENTER=u4.EDGE_WRAP=u4.EDGE_EXTEND=u4.EDGE_CROP=u4.BLEND_SOURCE_OVER=u4.BLEND_SCREEN=u4.BLEND_OVERLAY=u4.BLEND_MULTIPLY=u4.BLEND_LIGHTEN=u4.BLEND_HARDLIGHT=u4.BLEND_EXCLUSION=u4.BLEND_DIFFERENCE=u4.BLEND_DESTINATION_OVER=u4.BLEND_DARKEN=u4.BLEND_ADD=u4.AUTO=void 0;var DR=-1;u4.AUTO=DR;var kR=1;u4.HORIZONTAL_ALIGN_LEFT=kR;var vR=2;u4.HORIZONTAL_ALIGN_CENTER=vR;var _R=4;u4.HORIZONTAL_ALIGN_RIGHT=_R;var yR=8;u4.VERTICAL_ALIGN_TOP=yR;var xR=16;u4.VERTICAL_ALIGN_MIDDLE=xR;var gR=32;u4.VERTICAL_ALIGN_BOTTOM=gR;var hR="srcOver";u4.BLEND_SOURCE_OVER=hR;var bR="dstOver";u4.BLEND_DESTINATION_OVER=bR;var uR="multiply";u4.BLEND_MULTIPLY=uR;var mR="add";u4.BLEND_ADD=mR;var fR="screen";u4.BLEND_SCREEN=fR;var cR="overlay";u4.BLEND_OVERLAY=cR;var dR="darken";u4.BLEND_DARKEN=dR;var pR="lighten";u4.BLEND_LIGHTEN=pR;var lR="hardLight";u4.BLEND_HARDLIGHT=lR;var nR="difference";u4.BLEND_DIFFERENCE=nR;var iR="exclusion";u4.BLEND_EXCLUSION=iR;var oR=1;u4.EDGE_EXTEND=oR;var rR=2;u4.EDGE_WRAP=rR;var sR=3;u4.EDGE_CROP=sR});var c4=l((f4)=>{var AO=function($,J){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;$.a*=K;const Z=J.a+$.a-J.a*$.a,Q=($.r*$.a+J.r*J.a*(1-$.a))/Z,Y=($.g*$.a+J.g*J.a*(1-$.a))/Z,G=($.b*$.a+J.b*J.a*(1-$.a))/Z;return{r:Q,g:Y,b:G,a:Z}},BO=function($,J){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;$.a*=K;const Z=J.a+$.a-J.a*$.a,Q=(J.r*J.a+$.r*$.a*(1-J.a))/Z,Y=(J.g*J.a+$.g*$.a*(1-J.a))/Z,G=(J.b*J.a+$.b*$.a*(1-J.a))/Z;return{r:Q,g:Y,b:G,a:Z}},FO=function($,J){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;$.a*=K;const Z=J.a+$.a-J.a*$.a,Q=$.r*$.a,Y=$.g*$.a,G=$.b*$.a,H=J.r*J.a,q=J.g*J.a,V=J.b*J.a,W=(Q*H+Q*(1-J.a)+H*(1-$.a))/Z,U=(Y*q+Y*(1-J.a)+q*(1-$.a))/Z,R=(G*V+G*(1-J.a)+V*(1-$.a))/Z;return{r:W,g:U,b:R,a:Z}},XO=function($,J){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;$.a*=K;const Z=J.a+$.a-J.a*$.a,Q=$.r*$.a,Y=$.g*$.a,G=$.b*$.a,H=J.r*J.a,q=J.g*J.a,V=J.b*J.a,W=(Q+H)/Z,U=(Y+q)/Z,R=(G+V)/Z;return{r:W,g:U,b:R,a:Z}},EO=function($,J){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;$.a*=K;const Z=J.a+$.a-J.a*$.a,Q=$.r*$.a,Y=$.g*$.a,G=$.b*$.a,H=J.r*J.a,q=J.g*J.a,V=J.b*J.a,W=(Q*J.a+H*$.a-Q*H+Q*(1-J.a)+H*(1-$.a))/Z,U=(Y*J.a+q*$.a-Y*q+Y*(1-J.a)+q*(1-$.a))/Z,R=(G*J.a+V*$.a-G*V+G*(1-J.a)+V*(1-$.a))/Z;return{r:W,g:U,b:R,a:Z}},CO=function($,J){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;$.a*=K;const Z=J.a+$.a-J.a*$.a,Q=$.r*$.a,Y=$.g*$.a,G=$.b*$.a,H=J.r*J.a,q=J.g*J.a,V=J.b*J.a,W=(2*H<=J.a?2*Q*H+Q*(1-J.a)+H*(1-$.a):Q*(1+J.a)+H*(1+$.a)-2*H*Q-J.a*$.a)/Z,U=(2*q<=J.a?2*Y*q+Y*(1-J.a)+q*(1-$.a):Y*(1+J.a)+q*(1+$.a)-2*q*Y-J.a*$.a)/Z,R=(2*V<=J.a?2*G*V+G*(1-J.a)+V*(1-$.a):G*(1+J.a)+V*(1+$.a)-2*V*G-J.a*$.a)/Z;return{r:W,g:U,b:R,a:Z}},LO=function($,J){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;$.a*=K;const Z=J.a+$.a-J.a*$.a,Q=$.r*$.a,Y=$.g*$.a,G=$.b*$.a,H=J.r*J.a,q=J.g*J.a,V=J.b*J.a,W=(Math.min(Q*J.a,H*$.a)+Q*(1-J.a)+H*(1-$.a))/Z,U=(Math.min(Y*J.a,q*$.a)+Y*(1-J.a)+q*(1-$.a))/Z,R=(Math.min(G*J.a,V*$.a)+G*(1-J.a)+V*(1-$.a))/Z;return{r:W,g:U,b:R,a:Z}},MO=function($,J){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;$.a*=K;const Z=J.a+$.a-J.a*$.a,Q=$.r*$.a,Y=$.g*$.a,G=$.b*$.a,H=J.r*J.a,q=J.g*J.a,V=J.b*J.a,W=(Math.max(Q*J.a,H*$.a)+Q*(1-J.a)+H*(1-$.a))/Z,U=(Math.max(Y*J.a,q*$.a)+Y*(1-J.a)+q*(1-$.a))/Z,R=(Math.max(G*J.a,V*$.a)+G*(1-J.a)+V*(1-$.a))/Z;return{r:W,g:U,b:R,a:Z}},SO=function($,J){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;$.a*=K;const Z=J.a+$.a-J.a*$.a,Q=$.r*$.a,Y=$.g*$.a,G=$.b*$.a,H=J.r*J.a,q=J.g*J.a,V=J.b*J.a,W=(2*Q<=$.a?2*Q*H+Q*(1-J.a)+H*(1-$.a):Q*(1+J.a)+H*(1+$.a)-2*H*Q-J.a*$.a)/Z,U=(2*Y<=$.a?2*Y*q+Y*(1-J.a)+q*(1-$.a):Y*(1+J.a)+q*(1+$.a)-2*q*Y-J.a*$.a)/Z,R=(2*G<=$.a?2*G*V+G*(1-J.a)+V*(1-$.a):G*(1+J.a)+V*(1+$.a)-2*V*G-J.a*$.a)/Z;return{r:W,g:U,b:R,a:Z}},jO=function($,J){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;$.a*=K;const Z=J.a+$.a-J.a*$.a,Q=$.r*$.a,Y=$.g*$.a,G=$.b*$.a,H=J.r*J.a,q=J.g*J.a,V=J.b*J.a,W=(Q+H-2*Math.min(Q*J.a,H*$.a))/Z,U=(Y+q-2*Math.min(Y*J.a,q*$.a))/Z,R=(G+V-2*Math.min(G*J.a,V*$.a))/Z;return{r:W,g:U,b:R,a:Z}},IO=function($,J){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;$.a*=K;const Z=J.a+$.a-J.a*$.a,Q=$.r*$.a,Y=$.g*$.a,G=$.b*$.a,H=J.r*J.a,q=J.g*J.a,V=J.b*J.a,W=(Q*J.a+H*$.a-2*Q*H+Q*(1-J.a)+H*(1-$.a))/Z,U=(Y*J.a+q*$.a-2*Y*q+Y*(1-J.a)+q*(1-$.a))/Z,R=(G*J.a+V*$.a-2*G*V+G*(1-J.a)+V*(1-$.a))/Z;return{r:W,g:U,b:R,a:Z}};Object.defineProperty(f4,"__esModule",{value:!0});f4.add=XO;f4.darken=LO;f4.difference=jO;f4.dstOver=BO;f4.exclusion=IO;f4.hardLight=SO;f4.lighten=MO;f4.multiply=FO;f4.overlay=CO;f4.screen=EO;f4.srcOver=AO});var n4=l((U1,k9)=>{var p4=function($){if(typeof WeakMap!=="function")return null;var J=new WeakMap,K=new WeakMap;return(p4=function(Z){return Z?K:J})($)},l4=function($,J){if(!J&&$&&$.__esModule)return $;if($===null||typeof $!=="object"&&typeof $!=="function")return{default:$};var K=p4(J);if(K&&K.has($))return K.get($);var Z={},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Y in $)if(Y!=="default"&&Object.prototype.hasOwnProperty.call($,Y)){var G=Q?Object.getOwnPropertyDescriptor($,Y):null;if(G&&(G.get||G.set))Object.defineProperty(Z,Y,G);else Z[Y]=$[Y]}if(Z.default=$,K)K.set($,Z);return Z},mO=function($,J,K){let Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Q=arguments.length>4?arguments[4]:void 0;if(typeof Z==="function")Q=Z,Z={};if(!($ instanceof this.constructor))return D9.throwError.call(this,"The source must be a Jimp image",Q);if(typeof J!=="number"||typeof K!=="number")return D9.throwError.call(this,"x and y must be numbers",Q);let{mode:Y,opacitySource:G,opacityDest:H}=Z;if(!Y)Y=d4.BLEND_SOURCE_OVER;if(typeof G!=="number"||G<0||G>1)G=1;if(typeof H!=="number"||H<0||H>1)H=1;const q=uO[Y];J=Math.round(J),K=Math.round(K);const V=this;if(H!==1)V.opacity(H);if($.scanQuiet(0,0,$.bitmap.width,$.bitmap.height,function(W,U,R){const O=V.getPixelIndex(J+W,K+U,d4.EDGE_CROP);if(O===-1)return;const B=q({r:this.bitmap.data[R+0]/255,g:this.bitmap.data[R+1]/255,b:this.bitmap.data[R+2]/255,a:this.bitmap.data[R+3]/255},{r:V.bitmap.data[O+0]/255,g:V.bitmap.data[O+1]/255,b:V.bitmap.data[O+2]/255,a:V.bitmap.data[O+3]/255},G);V.bitmap.data[O+0]=this.constructor.limit255(B.r*255),V.bitmap.data[O+1]=this.constructor.limit255(B.g*255),V.bitmap.data[O+2]=this.constructor.limit255(B.b*255),V.bitmap.data[O+3]=this.constructor.limit255(B.a*255)}),D9.isNodePattern(Q))Q.call(this,null,this);return this};Object.defineProperty(U1,"__esModule",{value:!0});U1.default=mO;var D9=h0(),d4=l4(W1()),uO=l4(c4());k9.exports=U1.default;k9.exports.default=U1.default});var _9=l((R1,v9)=>{Object.defineProperty(R1,"__esModule",{value:!0});R1.default=void 0;var cO=function($,J){for(var K=arguments.length,Z=new Array(K>2?K-2:0),Q=2;Q<K;Q++)Z[Q-2]=arguments[Q];return new Promise((Y,G)=>{Z.push((H,q)=>{if(H)G(H);Y(q)}),$.bind(J)(...Z)})},dO=cO;R1.default=dO;v9.exports=R1.default;v9.exports.default=R1.default});var x9=l((o4)=>{Object.defineProperty(o4,"__esModule",{value:!0});o4.getType=o4.getExtension=o4.addType=void 0;var y9={},pO=($)=>Object.entries(y9).find((J)=>J[1].includes($))||[],lO=($,J)=>{y9[$]=J};o4.addType=lO;var nO=($)=>{const J=$.split("/").slice(-1),K=J[J.length-1].split(".").pop();return pO(K)[0]};o4.getType=nO;var iO=($)=>(y9[$.toLowerCase()]||[])[0];o4.getExtension=iO});var g9=l((s4)=>{async function sO($){return new Promise((J,K)=>{l8.stat($,(Z,Q)=>{if(Z)K(Z);else J(Q)})})}async function aO($){return new Promise((J,K)=>{l8.close($,(Z)=>{if(Z)K(Z);else J()})})}async function tO($,J){return new Promise((K,Z)=>{l8.open($,J,(Q,Y)=>{if(Q)Z(Q);else K(Y)})})}async function eO($,J,K,Z,Q){return new Promise((Y,G)=>{l8.read($,J,K,Z,Q,(H,q,V)=>{if(H)G(H);else Y({bytesRead:q,buffer:V})})})}async function $z($,J){return new Promise((K,Z)=>{l8.writeFile($,J,(Q)=>{if(Q)Z(Q);else K()})})}var Jz=function($,J){l8.writeFileSync($,J)};async function Kz($){return new Promise((J,K)=>{l8.readFile($,(Z,Q)=>{if(Z)K(Z);else J(Q)})})}Object.defineProperty(s4,"__esModule",{value:!0});s4.readFile=s4.writeFileSync=s4.writeFile=s4.read=s4.open=s4.close=s4.stat=s4.createReadStream=s4.pathExists=void 0;var l8=import.meta.require("fs");s4.pathExists=l8.existsSync;s4.createReadStream=l8.createReadStream;s4.stat=sO;s4.close=aO;s4.open=tO;s4.read=eO;s4.writeFile=$z;s4.writeFileSync=Jz;s4.readFile=Kz});var O1=l((e4)=>{Object.defineProperty(e4,"__esModule",{value:!0});e4.EndOfStreamError=e4.defaultMessages=void 0;e4.defaultMessages="End-Of-Stream";class t4 extends Error{constructor(){super(e4.defaultMessages)}}e4.EndOfStreamError=t4});var YK=l((ZK)=>{Object.defineProperty(ZK,"__esModule",{value:!0});ZK.Deferred=void 0;class KK{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise(($,J)=>{this.reject=J,this.resolve=$})}}ZK.Deferred=KK});var VK=l((h9)=>{Object.defineProperty(h9,"__esModule",{value:!0});h9.StreamReader=h9.EndOfStreamError=void 0;var GK=O1(),Uz=YK(),Rz=O1();Object.defineProperty(h9,"EndOfStreamError",{enumerable:!0,get:function(){return Rz.EndOfStreamError}});var Oz=1048576;class HK{constructor($){if(this.s=$,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!$.read||!$.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new GK.EndOfStreamError)),this.s.once("error",(J)=>this.reject(J)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek($,J,K){const Z=await this.read($,J,K);return this.peekQueue.push($.subarray(J,J+Z)),Z}async read($,J,K){if(K===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new GK.EndOfStreamError;let Z=K,Q=0;while(this.peekQueue.length>0&&Z>0){const Y=this.peekQueue.pop();if(!Y)throw new Error("peekData should be defined");const G=Math.min(Y.length,Z);if($.set(Y.subarray(0,G),J+Q),Q+=G,Z-=G,G<Y.length)this.peekQueue.push(Y.subarray(G))}while(Z>0&&!this.endOfStream){const Y=Math.min(Z,Oz),G=await this.readFromStream($,J+Q,Y);if(Q+=G,G<Y)break;Z-=G}return Q}async readFromStream($,J,K){const Z=this.s.read(K);if(Z)return $.set(Z,J),Z.length;else{const Q={buffer:$,offset:J,length:K,deferred:new Uz.Deferred};return this.deferred=Q.deferred,this.s.once("readable",()=>{this.readDeferred(Q)}),Q.deferred.promise}}readDeferred($){const J=this.s.read($.length);if(J)$.buffer.set(J,$.offset),$.deferred.resolve(J.length),this.deferred=null;else this.s.once("readable",()=>{this.readDeferred($)})}reject($){if(this.endOfStream=!0,this.deferred)this.deferred.reject($),this.deferred=null}}h9.StreamReader=HK});var d5=l((z1)=>{Object.defineProperty(z1,"__esModule",{value:!0});z1.StreamReader=z1.EndOfStreamError=void 0;var zz=O1();Object.defineProperty(z1,"EndOfStreamError",{enumerable:!0,get:function(){return zz.EndOfStreamError}});var Nz=VK();Object.defineProperty(z1,"StreamReader",{enumerable:!0,get:function(){return Nz.StreamReader}})});var P1=l((UK)=>{Object.defineProperty(UK,"__esModule",{value:!0});UK.AbstractTokenizer=void 0;var N1=d5();class WK{constructor($){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=$?$:{}}async readToken($,J=this.position){const K=Buffer.alloc($.len);if(await this.readBuffer(K,{position:J})<$.len)throw new N1.EndOfStreamError;return $.get(K,0)}async peekToken($,J=this.position){const K=Buffer.alloc($.len);if(await this.peekBuffer(K,{position:J})<$.len)throw new N1.EndOfStreamError;return $.get(K,0)}async readNumber($){if(await this.readBuffer(this.numBuffer,{length:$.len})<$.len)throw new N1.EndOfStreamError;return $.get(this.numBuffer,0)}async peekNumber($){if(await this.peekBuffer(this.numBuffer,{length:$.len})<$.len)throw new N1.EndOfStreamError;return $.get(this.numBuffer,0)}async ignore($){if(this.fileInfo.size!==void 0){const J=this.fileInfo.size-this.position;if($>J)return this.position+=J,J}return this.position+=$,$}async close(){}normalizeOptions($,J){if(J&&J.position!==void 0&&J.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(J)return{mayBeLess:J.mayBeLess===!0,offset:J.offset?J.offset:0,length:J.length?J.length:$.length-(J.offset?J.offset:0),position:J.position?J.position:this.position};return{mayBeLess:!1,offset:0,length:$.length,position:this.position}}}UK.AbstractTokenizer=WK});var PK=l((zK)=>{Object.defineProperty(zK,"__esModule",{value:!0});zK.ReadStreamTokenizer=void 0;var Az=P1(),A1=d5(),Bz=256000;class OK extends Az.AbstractTokenizer{constructor($,J){super(J);this.streamReader=new A1.StreamReader($)}async getFileInfo(){return this.fileInfo}async readBuffer($,J){const K=this.normalizeOptions($,J),Z=K.position-this.position;if(Z>0)return await this.ignore(Z),this.readBuffer($,J);else if(Z<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(K.length===0)return 0;const Q=await this.streamReader.read($,K.offset,K.length);if(this.position+=Q,(!J||!J.mayBeLess)&&Q<K.length)throw new A1.EndOfStreamError;return Q}async peekBuffer($,J){const K=this.normalizeOptions($,J);let Z=0;if(K.position){const Q=K.position-this.position;if(Q>0){const Y=new Uint8Array(K.length+Q);return Z=await this.peekBuffer(Y,{mayBeLess:K.mayBeLess}),$.set(Y.subarray(Q),K.offset),Z-Q}else if(Q<0)throw new Error("Cannot peek from a negative offset in a stream")}if(K.length>0){try{Z=await this.streamReader.peek($,K.offset,K.length)}catch(Q){if(J&&J.mayBeLess&&Q instanceof A1.EndOfStreamError)return 0;throw Q}if(!K.mayBeLess&&Z<K.length)throw new A1.EndOfStreamError}return Z}async ignore($){const J=Math.min(Bz,$),K=new Uint8Array(J);let Z=0;while(Z<$){const Q=$-Z,Y=await this.readBuffer(K,{length:Math.min(J,Q)});if(Y<0)return Y;Z+=Y}return Z}}zK.ReadStreamTokenizer=OK});var XK=l((BK)=>{Object.defineProperty(BK,"__esModule",{value:!0});BK.BufferTokenizer=void 0;var Fz=d5(),Xz=P1();class AK extends Xz.AbstractTokenizer{constructor($,J){super(J);this.uint8Array=$,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:$.length}async readBuffer($,J){if(J&&J.position){if(J.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=J.position}const K=await this.peekBuffer($,J);return this.position+=K,K}async peekBuffer($,J){const K=this.normalizeOptions($,J),Z=Math.min(this.uint8Array.length-K.position,K.length);if(!K.mayBeLess&&Z<K.length)throw new Fz.EndOfStreamError;else return $.set(this.uint8Array.subarray(K.position,K.position+Z),K.offset),Z}async close(){}}BK.BufferTokenizer=AK});var B1=l((b9)=>{var Mz=function($,J){return J=J?J:{},new Ez.ReadStreamTokenizer($,J)},Sz=function($,J){return new Cz.BufferTokenizer($,J)};Object.defineProperty(b9,"__esModule",{value:!0});b9.fromBuffer=b9.fromStream=b9.EndOfStreamError=void 0;var Ez=PK(),Cz=XK(),Lz=d5();Object.defineProperty(b9,"EndOfStreamError",{enumerable:!0,get:function(){return Lz.EndOfStreamError}});b9.fromStream=Mz;b9.fromBuffer=Sz});var SK=l((LK)=>{async function Tz($){const J=await L6.stat($);if(!J.isFile)throw new Error(`File not a file: ${$}`);const K=await L6.open($,"r");return new u9(K,{path:$,size:J.size})}Object.defineProperty(LK,"__esModule",{value:!0});LK.fromFile=LK.FileTokenizer=void 0;var Iz=P1(),CK=d5(),L6=g9();class u9 extends Iz.AbstractTokenizer{constructor($,J){super(J);this.fd=$}async readBuffer($,J){const K=this.normalizeOptions($,J);this.position=K.position;const Z=await L6.read(this.fd,$,K.offset,K.length,K.position);if(this.position+=Z.bytesRead,Z.bytesRead<K.length&&(!J||!J.mayBeLess))throw new CK.EndOfStreamError;return Z.bytesRead}async peekBuffer($,J){const K=this.normalizeOptions($,J),Z=await L6.read(this.fd,$,K.offset,K.length,K.position);if(!K.mayBeLess&&Z.bytesRead<K.length)throw new CK.EndOfStreamError;return Z.bytesRead}async close(){return L6.close(this.fd)}}LK.FileTokenizer=u9;LK.fromFile=Tz});var TK=l((M6)=>{async function _z($,J){if(J=J?J:{},$.path){const K=await Dz.stat($.path);J.path=$.path,J.size=K.size}return kz.fromStream($,J)}Object.defineProperty(M6,"__esModule",{value:!0});M6.fromStream=M6.fromBuffer=M6.EndOfStreamError=M6.fromFile=void 0;var Dz=g9(),kz=B1(),vz=SK();Object.defineProperty(M6,"fromFile",{enumerable:!0,get:function(){return vz.fromFile}});var jK=B1();Object.defineProperty(M6,"EndOfStreamError",{enumerable:!0,get:function(){return jK.EndOfStreamError}});Object.defineProperty(M6,"fromBuffer",{enumerable:!0,get:function(){return jK.fromBuffer}});M6.fromStream=_z});var wK=l((yz)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */yz.read=function($,J,K,Z,Q){var Y,G,H=Q*8-Z-1,q=(1<<H)-1,V=q>>1,W=-7,U=K?Q-1:0,R=K?-1:1,O=$[J+U];U+=R,Y=O&(1<<-W)-1,O>>=-W,W+=H;for(;W>0;Y=Y*256+$[J+U],U+=R,W-=8);G=Y&(1<<-W)-1,Y>>=-W,W+=Z;for(;W>0;G=G*256+$[J+U],U+=R,W-=8);if(Y===0)Y=1-V;else if(Y===q)return G?NaN:(O?-1:1)*Infinity;else G=G+Math.pow(2,Z),Y=Y-V;return(O?-1:1)*G*Math.pow(2,Y-Z)};yz.write=function($,J,K,Z,Q,Y){var G,H,q,V=Y*8-Q-1,W=(1<<V)-1,U=W>>1,R=Q===23?Math.pow(2,-24)-Math.pow(2,-77):0,O=Z?0:Y-1,B=Z?1:-1,M=J<0||J===0&&1/J<0?1:0;if(J=Math.abs(J),isNaN(J)||J===Infinity)H=isNaN(J)?1:0,G=W;else{if(G=Math.floor(Math.log(J)/Math.LN2),J*(q=Math.pow(2,-G))<1)G--,q*=2;if(G+U>=1)J+=R/q;else J+=R*Math.pow(2,1-U);if(J*q>=2)G++,q/=2;if(G+U>=W)H=0,G=W;else if(G+U>=1)H=(J*q-1)*Math.pow(2,Q),G=G+U;else H=J*Math.pow(2,U-1)*Math.pow(2,Q),G=0}for(;Q>=8;$[K+O]=H&255,O+=B,H/=256,Q-=8);G=G<<Q|H,V+=Q;for(;V>0;$[K+O]=G&255,O+=B,G/=256,V-=8);$[K+O-B]|=M*128}});var bK=l((yK)=>{var S0=function($){return new DataView($.buffer,$.byteOffset)};Object.defineProperty(yK,"__esModule",{value:!0});yK.AnsiStringType=yK.StringType=yK.BufferType=yK.Uint8ArrayType=yK.IgnoreType=yK.Float80_LE=yK.Float80_BE=yK.Float64_LE=yK.Float64_BE=yK.Float32_LE=yK.Float32_BE=yK.Float16_LE=yK.Float16_BE=yK.INT64_BE=yK.UINT64_BE=yK.INT64_LE=yK.UINT64_LE=yK.INT32_LE=yK.INT32_BE=yK.INT24_BE=yK.INT24_LE=yK.INT16_LE=yK.INT16_BE=yK.INT8=yK.UINT32_BE=yK.UINT32_LE=yK.UINT24_BE=yK.UINT24_LE=yK.UINT16_BE=yK.UINT16_LE=yK.UINT8=void 0;var Q5=wK();yK.UINT8={len:1,get($,J){return S0($).getUint8(J)},put($,J,K){return S0($).setUint8(J,K),J+1}};yK.UINT16_LE={len:2,get($,J){return S0($).getUint16(J,!0)},put($,J,K){return S0($).setUint16(J,K,!0),J+2}};yK.UINT16_BE={len:2,get($,J){return S0($).getUint16(J)},put($,J,K){return S0($).setUint16(J,K),J+2}};yK.UINT24_LE={len:3,get($,J){const K=S0($);return K.getUint8(J)+(K.getUint16(J+1,!0)<<8)},put($,J,K){const Z=S0($);return Z.setUint8(J,K&255),Z.setUint16(J+1,K>>8,!0),J+3}};yK.UINT24_BE={len:3,get($,J){const K=S0($);return(K.getUint16(J)<<8)+K.getUint8(J+2)},put($,J,K){const Z=S0($);return Z.setUint16(J,K>>8),Z.setUint8(J+2,K&255),J+3}};yK.UINT32_LE={len:4,get($,J){return S0($).getUint32(J,!0)},put($,J,K){return S0($).setUint32(J,K,!0),J+4}};yK.UINT32_BE={len:4,get($,J){return S0($).getUint32(J)},put($,J,K){return S0($).setUint32(J,K),J+4}};yK.INT8={len:1,get($,J){return S0($).getInt8(J)},put($,J,K){return S0($).setInt8(J,K),J+1}};yK.INT16_BE={len:2,get($,J){return S0($).getInt16(J)},put($,J,K){return S0($).setInt16(J,K),J+2}};yK.INT16_LE={len:2,get($,J){return S0($).getInt16(J,!0)},put($,J,K){return S0($).setInt16(J,K,!0),J+2}};yK.INT24_LE={len:3,get($,J){const K=yK.UINT24_LE.get($,J);return K>8388607?K-16777216:K},put($,J,K){const Z=S0($);return Z.setUint8(J,K&255),Z.setUint16(J+1,K>>8,!0),J+3}};yK.INT24_BE={len:3,get($,J){const K=yK.UINT24_BE.get($,J);return K>8388607?K-16777216:K},put($,J,K){const Z=S0($);return Z.setUint16(J,K>>8),Z.setUint8(J+2,K&255),J+3}};yK.INT32_BE={len:4,get($,J){return S0($).getInt32(J)},put($,J,K){return S0($).setInt32(J,K),J+4}};yK.INT32_LE={len:4,get($,J){return S0($).getInt32(J,!0)},put($,J,K){return S0($).setInt32(J,K,!0),J+4}};yK.UINT64_LE={len:8,get($,J){return S0($).getBigUint64(J,!0)},put($,J,K){return S0($).setBigUint64(J,K,!0),J+8}};yK.INT64_LE={len:8,get($,J){return S0($).getBigInt64(J,!0)},put($,J,K){return S0($).setBigInt64(J,K,!0),J+8}};yK.UINT64_BE={len:8,get($,J){return S0($).getBigUint64(J)},put($,J,K){return S0($).setBigUint64(J,K),J+8}};yK.INT64_BE={len:8,get($,J){return S0($).getBigInt64(J)},put($,J,K){return S0($).setBigInt64(J,K),J+8}};yK.Float16_BE={len:2,get($,J){return Q5.read($,J,!1,10,this.len)},put($,J,K){return Q5.write($,K,J,!1,10,this.len),J+this.len}};yK.Float16_LE={len:2,get($,J){return Q5.read($,J,!0,10,this.len)},put($,J,K){return Q5.write($,K,J,!0,10,this.len),J+this.len}};yK.Float32_BE={len:4,get($,J){return S0($).getFloat32(J)},put($,J,K){return S0($).setFloat32(J,K),J+4}};yK.Float32_LE={len:4,get($,J){return S0($).getFloat32(J,!0)},put($,J,K){return S0($).setFloat32(J,K,!0),J+4}};yK.Float64_BE={len:8,get($,J){return S0($).getFloat64(J)},put($,J,K){return S0($).setFloat64(J,K),J+8}};yK.Float64_LE={len:8,get($,J){return S0($).getFloat64(J,!0)},put($,J,K){return S0($).setFloat64(J,K,!0),J+8}};yK.Float80_BE={len:10,get($,J){return Q5.read($,J,!1,63,this.len)},put($,J,K){return Q5.write($,K,J,!1,63,this.len),J+this.len}};yK.Float80_LE={len:10,get($,J){return Q5.read($,J,!0,63,this.len)},put($,J,K){return Q5.write($,K,J,!0,63,this.len),J+this.len}};class DK{constructor($){this.len=$}get($,J){}}yK.IgnoreType=DK;class kK{constructor($){this.len=$}get($,J){return $.subarray(J,J+this.len)}}yK.Uint8ArrayType=kK;class vK{constructor($){this.len=$}get($,J){return Buffer.from($.subarray(J,J+this.len))}}yK.BufferType=vK;class _K{constructor($,J){this.len=$,this.encoding=J}get($,J){return Buffer.from($).toString(this.encoding,J,J+this.len)}}yK.StringType=_K;class Z5{constructor($){this.len=$}static decode($,J,K){let Z="";for(let Q=J;Q<K;++Q)Z+=Z5.codePointToString(Z5.singleByteDecoder($[Q]));return Z}static inRange($,J,K){return J<=$&&$<=K}static codePointToString($){if($<=65535)return String.fromCharCode($);else return $-=65536,String.fromCharCode(($>>10)+55296,($&1023)+56320)}static singleByteDecoder($){if(Z5.inRange($,0,127))return $;const J=Z5.windows1252[$-128];if(J===null)throw Error("invaliding encoding");return J}get($,J=0){return Z5.decode($,J,J+this.len)}}yK.AnsiStringType=Z5;Z5.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]});var uK=l((UN)=>{UN.stringToBytes=($)=>[...$].map((J)=>J.charCodeAt(0));UN.tarHeaderChecksumMatches=($,J=0)=>{const K=parseInt($.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(K))return!1;let Z=256;for(let Q=J;Q<J+148;Q++)Z+=$[Q];for(let Q=J+156;Q<J+512;Q++)Z+=$[Q];return K===Z};UN.uint32SyncSafeToken={get:($,J)=>{return $[J+3]&127|$[J+2]<<7|$[J+1]<<14|$[J]<<21},len:4}});var fK=l((nM,mK)=>{mK.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}});var lK=l((pK,f9)=>{async function BN($){const J=await F1.fromStream($);try{return await X1(J)}finally{await J.close()}}async function dK($){if(!($ instanceof Uint8Array||$ instanceof ArrayBuffer||Buffer.isBuffer($)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof $}\``);const J=$ instanceof Buffer?$:Buffer.from($);if(!(J&&J.length>1))return;const K=F1.fromBuffer(J);return X1(K)}var y8=function($,J,K){K={offset:0,...K};for(let[Z,Q]of J.entries())if(K.mask){if(Q!==(K.mask[Z]&$[Z+K.offset]))return!1}else if(Q!==$[Z+K.offset])return!1;return!0};async function X1($){try{return FN($)}catch(J){if(!(J instanceof F1.EndOfStreamError))throw J}}async function FN($){let J=Buffer.alloc(4100);const K=12,Z=(Y,G)=>y8(J,Y,G),Q=(Y,G)=>Z(NN(Y),G);if(!$.fileInfo.size)$.fileInfo.size=Number.MAX_SAFE_INTEGER;if(await $.peekBuffer(J,{length:K,mayBeLess:!0}),Z([66,77]))return{ext:"bmp",mime:"image/bmp"};if(Z([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(Z([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(Z([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(Z([37,33])){if(await $.peekBuffer(J,{length:24,mayBeLess:!0}),Q("PS-Adobe-",{offset:2})&&Q(" EPSF-",{offset:14}))return{ext:"eps",mime:"application/eps"};return{ext:"ps",mime:"application/postscript"}}if(Z([31,160])||Z([31,157]))return{ext:"Z",mime:"application/x-compress"};if(Z([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(Z([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(Z([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(Z([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(Q("ID3")){await $.ignore(6);const Y=await $.readToken(AN);if($.position+Y>$.fileInfo.size)return{ext:"mp3",mime:"audio/mpeg"};return await $.ignore(Y),X1($)}if(Q("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((J[0]===67||J[0]===70)&&Z([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(Z([71,73,70]))return{ext:"gif",mime:"image/gif"};if(Q("FLIF"))return{ext:"flif",mime:"image/flif"};if(Q("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(Q("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(Q("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(Q("FORM"))return{ext:"aif",mime:"audio/aiff"};if(Q("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(Z([80,75,3,4])){try{while($.position+30<$.fileInfo.size){await $.readBuffer(J,{length:30});const Y={compressedSize:J.readUInt32LE(18),uncompressedSize:J.readUInt32LE(22),filenameLength:J.readUInt16LE(26),extraFieldLength:J.readUInt16LE(28)};if(Y.filename=await $.readToken(new n8.StringType(Y.filenameLength,"utf-8")),await $.ignore(Y.extraFieldLength),Y.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(Y.filename.endsWith(".rels")||Y.filename.endsWith(".xml"))switch(Y.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(Y.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(Y.filename.startsWith("3D/")&&Y.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(Y.filename==="mimetype"&&Y.compressedSize===Y.uncompressedSize)switch(await $.readToken(new n8.StringType(Y.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}if(Y.compressedSize===0){let G=-1;while(G<0&&$.position<$.fileInfo.size)await $.peekBuffer(J,{mayBeLess:!0}),G=J.indexOf("504B0304",0,"hex"),await $.ignore(G>=0?G:J.length)}else await $.ignore(Y.compressedSize)}}catch(Y){if(!(Y instanceof F1.EndOfStreamError))throw Y}return{ext:"zip",mime:"application/zip"}}if(Q("OggS")){await $.ignore(28);const Y=Buffer.alloc(8);if(await $.readBuffer(Y),y8(Y,[79,112,117,115,72,101,97,100]))return{ext:"opus",mime:"audio/opus"};if(y8(Y,[128,116,104,101,111,114,97]))return{ext:"ogv",mime:"video/ogg"};if(y8(Y,[1,118,105,100,101,111,0]))return{ext:"ogm",mime:"video/ogg"};if(y8(Y,[127,70,76,65,67]))return{ext:"oga",mime:"audio/ogg"};if(y8(Y,[83,112,101,101,120,32,32]))return{ext:"spx",mime:"audio/ogg"};if(y8(Y,[1,118,111,114,98,105,115]))return{ext:"ogg",mime:"audio/ogg"};return{ext:"ogx",mime:"application/ogg"}}if(Z([80,75])&&(J[2]===3||J[2]===5||J[2]===7)&&(J[3]===4||J[3]===6||J[3]===8))return{ext:"zip",mime:"application/zip"};if(Q("ftyp",{offset:4})&&(J[8]&96)!==0){const Y=J.toString("binary",8,12).replace("\0"," ").trim();switch(Y){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:if(Y.startsWith("3g")){if(Y.startsWith("3g2"))return{ext:"3g2",mime:"video/3gpp2"};return{ext:"3gp",mime:"video/3gpp"}}return{ext:"mp4",mime:"video/mp4"}}}if(Q("MThd"))return{ext:"mid",mime:"audio/midi"};if(Q("wOFF")&&(Z([0,1,0,0],{offset:4})||Q("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(Q("wOF2")&&(Z([0,1,0,0],{offset:4})||Q("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(Z([212,195,178,161])||Z([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(Q("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(Q("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(Q("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(Z([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(Q("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(Q("%PDF")){await $.ignore(1350);const Y=10485760,G=Buffer.alloc(Math.min(Y,$.fileInfo.size));if(await $.readBuffer(G,{mayBeLess:!0}),G.includes(Buffer.from("AIPrivateData")))return{ext:"ai",mime:"application/postscript"};return{ext:"pdf",mime:"application/pdf"}}if(Z([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(Z([73,73,42,0])){if(Q("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(Z([28,0,254,0],{offset:8})||Z([31,0,11,0],{offset:8}))return{ext:"nef",mime:"image/x-nikon-nef"};if(Z([8,0,0,0],{offset:4})&&(Z([45,0,254,0],{offset:8})||Z([39,0,254,0],{offset:8})))return{ext:"dng",mime:"image/x-adobe-dng"};if(J=Buffer.alloc(24),await $.peekBuffer(J),(Z([16,251,134,1],{offset:4})||Z([8,0,0,0],{offset:4}))&&Z([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9}))return{ext:"arw",mime:"image/x-sony-arw"};return{ext:"tif",mime:"image/tiff"}}if(Z([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(Q("MAC "))return{ext:"ape",mime:"audio/ape"};if(Z([26,69,223,163])){async function Y(){const W=await $.peekNumber(n8.UINT8);let U=128,R=0;while((W&U)===0&&U!==0)++R,U>>=1;const O=Buffer.alloc(R+1);return await $.readBuffer(O),O}async function G(){const W=await Y(),U=await Y();U[0]^=128>>U.length-1;const R=Math.min(6,U.length);return{id:W.readUIntBE(0,W.length),len:U.readUIntBE(U.length-R,R)}}async function H(W,U){while(U>0){const R=await G();if(R.id===17026)return $.readToken(new n8.StringType(R.len,"utf-8"));await $.ignore(R.len),--U}}const q=await G();switch(await H(1,q.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(Z([82,73,70,70])){if(Z([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(Z([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(Z([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(Q("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(Z([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(Q("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(Q("MSCF")||Q("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(Z([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(Z([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(Z([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(Z([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(Q("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(Q("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(Z([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(Q("IMPM"))return{ext:"it",mime:"audio/x-it"};if(Q("-lh0-",{offset:2})||Q("-lh1-",{offset:2})||Q("-lh2-",{offset:2})||Q("-lh3-",{offset:2})||Q("-lh4-",{offset:2})||Q("-lh5-",{offset:2})||Q("-lh6-",{offset:2})||Q("-lh7-",{offset:2})||Q("-lzs-",{offset:2})||Q("-lz4-",{offset:2})||Q("-lz5-",{offset:2})||Q("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(Z([0,0,1,186])){if(Z([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(Z([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(Q("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(Z([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(Q("<?xml "))return{ext:"xml",mime:"application/xml"};if(Z([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(Z([82,97,114,33,26,7])&&(J[6]===0||J[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(Q("solid "))return{ext:"stl",mime:"model/stl"};if(Q("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(Q("!<arch>")){if(await $.ignore(8),await $.readToken(new n8.StringType(13,"ascii"))==="debian-binary")return{ext:"deb",mime:"application/x-deb"};return{ext:"ar",mime:"application/x-unix-archive"}}if(Z([137,80,78,71,13,10,26,10])){await $.ignore(8);async function Y(){return{length:await $.readToken(n8.INT32_BE),type:await $.readToken(new n8.StringType(4,"binary"))}}do{const G=await Y();if(G.length<0)return;switch(G.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await $.ignore(G.length+4)}}while($.position+8<$.fileInfo.size);return{ext:"png",mime:"image/png"}}if(Z([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(Z([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(Z([102,114,101,101],{offset:4})||Z([109,100,97,116],{offset:4})||Z([109,111,111,118],{offset:4})||Z([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(Z([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(Q("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(Z([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(Z([48,38,178,117,142,102,207,17,166,217])){async function Y(){const G=Buffer.alloc(16);return await $.readBuffer(G),{id:G,size:Number(await $.readToken(n8.UINT64_LE))}}await $.ignore(30);while($.position+24<$.fileInfo.size){const G=await Y();let H=G.size-24;if(y8(G.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const q=Buffer.alloc(16);if(H-=await $.readBuffer(q),y8(q,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(y8(q,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await $.ignore(H)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(Z([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((Z([126,16,4])||Z([126,24,4]))&&Z([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(Z([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(Z([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await $.ignore(20),await $.readToken(new n8.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(Z([255,10])||Z([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(Z([0,0,1,186])||Z([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(Z([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(Z([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(Z([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(Z([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await $.peekBuffer(J,{length:Math.min(256,$.fileInfo.size),mayBeLess:!0}),Q("BEGIN:")){if(Q("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(Q("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(Q("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(Q("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(Q("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(Z([4,0,0,0])&&J.length>=16){const Y=J.readUInt32LE(12);if(Y>12&&J.length>=Y+16)try{const G=J.slice(16,Y+16).toString();if(JSON.parse(G).files)return{ext:"asar",mime:"application/x-asar"}}catch(G){}}if(Z([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(Q("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(Z([71],{offset:4})&&(Z([71],{offset:192})||Z([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(Z([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(Z([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(Z([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(Z([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(Z([76,80],{offset:34})&&(Z([0,0,1],{offset:8})||Z([1,0,2],{offset:8})||Z([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(Z([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await $.peekBuffer(J,{length:Math.min(512,$.fileInfo.size),mayBeLess:!0}),PN(J))return{ext:"tar",mime:"application/x-tar"};if(Z([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(Q("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(J.length>=2&&Z([255,224],{offset:0,mask:[255,224]})){if(Z([16],{offset:1,mask:[22]})){if(Z([8],{offset:1,mask:[8]}))return{ext:"aac",mime:"audio/aac"};return{ext:"aac",mime:"audio/aac"}}if(Z([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(Z([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(Z([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}var n8=bK(),F1=B1(),{stringToBytes:NN,tarHeaderChecksumMatches:PN,uint32SyncSafeToken:AN}=uK(),cK=fK(),iM=4100,XN=(readableStream)=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const $=new stream.PassThrough;let J;if(stream.pipeline)J=stream.pipeline(readableStream,$,()=>{});else J=readableStream.pipe($);const K=readableStream.read(4100)||readableStream.read()||Buffer.alloc(0);try{const Z=await dK(K);$.fileType=Z}catch(Z){reject(Z)}resolve(J)})}),m9={fromStream:BN,fromTokenizer:X1,fromBuffer:dK,stream:XN};Object.defineProperty(m9,"extensions",{get(){return new Set(cK.extensions)}});Object.defineProperty(m9,"mimeTypes",{get(){return new Set(cK.mimeTypes)}});f9.exports=m9});var iK=l((oM,nK)=>{async function CN($){const J=await EN.fromFile($);try{return await E1.fromTokenizer(J)}finally{await J.close()}}var EN=TK(),E1=lK(),C1={fromFile:CN};Object.assign(C1,E1);Object.defineProperty(C1,"extensions",{get(){return E1.extensions}});Object.defineProperty(C1,"mimeTypes",{get(){return E1.mimeTypes}});nK.exports=C1});var rK=l((rM,oK)=>{oK.exports={parseSections:function($,J){var K,Z;$.setBigEndian(!0);while($.remainingLength()>0&&Z!==218){if($.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");if(Z=$.nextUInt8(),Z>=208&&Z<=217||Z===218)K=0;else K=$.nextUInt16()-2;J(Z,$.branch(0,K)),$.skip(K)}},getSizeFromSOFSection:function($){return $.skip(1),{height:$.nextUInt16(),width:$.nextUInt16()}},getSectionName:function($){var J,K;switch($){case 216:J="SOI";break;case 196:J="DHT";break;case 219:J="DQT";break;case 221:J="DRI";break;case 218:J="SOS";break;case 254:J="COM";break;case 217:J="EOI";break;default:if($>=224&&$<=239)J="APP",K=$-224;else if($>=192&&$<=207&&$!==196&&$!==200&&$!==204)J="SOF",K=$-192;else if($>=208&&$<=215)J="RST",K=$-208;break}var Z={name:J};if(typeof K==="number")Z.index=K;return Z}}});var c9=l((sM,sK)=>{var LN=function($,J){switch($){case 1:return J.nextUInt8();case 3:return J.nextUInt16();case 4:return J.nextUInt32();case 5:return[J.nextUInt32(),J.nextUInt32()];case 6:return J.nextInt8();case 8:return J.nextUInt16();case 9:return J.nextUInt32();case 10:return[J.nextInt32(),J.nextInt32()];case 11:return J.nextFloat();case 12:return J.nextDouble();default:throw new Error("Invalid format while decoding: "+$)}},MN=function($){switch($){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},SN=function($,J){var K=J.nextUInt16(),Z=J.nextUInt16(),Q=MN(Z),Y=J.nextUInt32(),G=Q*Y,H,q,V;if(G>4)J=$.openWithOffset(J.nextUInt32());if(Z===2){H=J.nextString(Y);var W=H.indexOf("\0");if(W!==-1)H=H.substr(0,W)}else if(Z===7)H=J.nextBuffer(Y);else if(Z!==0){H=[];for(V=0;V<Y;++V)H.push(LN(Z,J))}if(G<4)J.skip(4-G);return[K,H,Z]},S6=function($,J,K){var Z=J.nextUInt16(),Q,Y;for(Y=0;Y<Z;++Y)Q=SN($,J),K(Q[0],Q[1],Q[2])},jN=function($){var J=$.nextString(6);if(J!=="Exif\0\0")throw new Error("Invalid EXIF header");var K=$.mark(),Z=$.nextUInt16();if(Z===18761)$.setBigEndian(!1);else if(Z===19789)$.setBigEndian(!0);else throw new Error("Invalid TIFF header");if($.nextUInt16()!==42)throw new Error("Invalid TIFF data");return K};sK.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function($,J){var K;try{K=jN($)}catch(B){return!1}var Z,Q,Y,G=K.openWithOffset($.nextUInt32()),H=this.IFD0;S6(K,G,function(B,M,C){switch(B){case 34853:Q=M[0];break;case 34665:Z=M[0];break;default:J(H,B,M,C);break}});var q=G.nextUInt32();if(q!==0){var V=K.openWithOffset(q);S6(K,V,J.bind(null,this.IFD1))}if(Q){var W=K.openWithOffset(Q);S6(K,W,J.bind(null,this.GPSIFD))}if(Z){var U=K.openWithOffset(Z),R=this.InteropIFD;S6(K,U,function(B,M,C){if(B===40965)Y=M[0];else J(R,B,M,C)})}if(Y){var O=K.openWithOffset(Y);S6(K,O,J.bind(null,this.InteropIFD))}return!0}}});var JZ=l((aM,$Z)=>{var d9=function($){return parseInt($,10)},aK=function($,J){$=$.map(d9),J=J.map(d9);var K=$[0],Z=$[1]-1,Q=$[2],Y=J[0],G=J[1],H=J[2],q=Date.UTC(K,Z,Q,Y,G,H,0),V=q/1000;return V},tK=function($){var J=$.substr(0,10).split("-"),K=$.substr(11,8).split(":"),Z=$.substr(19,6),Q=Z.split(":").map(d9),Y=Q[0]*IN+Q[1]*TN,G=aK(J,K);if(G-=Y,typeof G==="number"&&!isNaN(G))return G},eK=function($){var J=$.split(" "),K=J[0].split(":"),Z=J[1].split(":"),Q=aK(K,Z);if(typeof Q==="number"&&!isNaN(Q))return Q},wN=function($){var J=$.length===19&&$.charAt(4)===":",K=$.length===25&&$.charAt(10)==="T",Z;if(K)return tK($);else if(J)return eK($)},IN=3600,TN=60;$Z.exports={parseDateWithSpecFormat:eK,parseDateWithTimezoneFormat:tK,parseExifDate:wN}});var ZZ=l((tM,KZ)=>{var p5=c9(),DN=JZ(),kN=[{section:p5.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:p5.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],vN=[{section:p5.SubIFD,type:306,name:"ModifyDate"},{section:p5.SubIFD,type:36867,name:"DateTimeOriginal"},{section:p5.SubIFD,type:36868,name:"CreateDate"},{section:p5.SubIFD,type:306,name:"ModifyDate"}];KZ.exports={castDegreeValues:function($,J){kN.forEach(function(K){var Z=$(K);if(Z){var Q=$({section:K.section,type:K.refType,name:K.refName}),Y=Q===K.posVal?1:-1,G=(Z[0]+Z[1]/60+Z[2]/3600)*Y;J(K,G)}})},castDateValues:function($,J){vN.forEach(function(K){var Z=$(K);if(Z){var Q=DN.parseExifDate(Z);if(typeof Q!=="undefined")J(K,Q)}})},simplifyValue:function($,J){if(Array.isArray($)){if($=$.map(function(K){if(J===10||J===5)return K[0]/K[1];return K}),$.length===1)$=$[0]}return $}}});var YZ=l((eM,QZ)=>{QZ.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65000:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}});var WZ=l(($S,VZ)=>{var HZ=function($,J,K,Z,Q,Y,G){this.startMarker=$,this.tags=J,this.imageSize=K,this.thumbnailOffset=Z,this.thumbnailLength=Q,this.thumbnailType=Y,this.app1Offset=G},qZ=function($){this.stream=$,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}},l5=rK(),GZ=c9(),p9=ZZ();HZ.prototype={hasThumbnail:function($){if(!this.thumbnailOffset||!this.thumbnailLength)return!1;if(typeof $!=="string")return!0;if($.toLowerCase().trim()==="image/jpeg")return this.thumbnailType===6;if($.toLowerCase().trim()==="image/tiff")return this.thumbnailType===1;return!1},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var $=this._getThumbnailStream(),J;return l5.parseSections($,function(K,Z){if(l5.getSectionName(K).name==="SOF")J=l5.getSizeFromSOFSection(Z)}),J}};qZ.prototype={enableBinaryFields:function($){return this.flags.readBinaryTags=!!$,this},enablePointers:function($){return this.flags.hidePointers=!$,this},enableTagNames:function($){return this.flags.resolveTagNames=!!$,this},enableImageSize:function($){return this.flags.imageSize=!!$,this},enableReturnTags:function($){return this.flags.returnTags=!!$,this},enableSimpleValues:function($){return this.flags.simplifyValues=!!$,this},parse:function(){var $=this.stream.mark(),J=$.openWithOffset(0),K=this.flags,Z,Q,Y,G,H,q,V,W,U;if(K.resolveTagNames)V=YZ();if(K.resolveTagNames)Z={},W=function(R){return Z[R.name]},U=function(R,O){Z[R.name]=O};else Z=[],W=function(R){var O;for(O=0;O<Z.length;++O)if(Z[O].type===R.type&&Z[O].section===R.section)return Z.value},U=function(R,O){var B;for(B=0;B<Z.length;++B)if(Z[B].type===R.type&&Z[B].section===R.section){Z.value=O;return}};if(l5.parseSections(J,function(R,O){var B,M=O.offsetFrom($);if(R===225){if(B=GZ.parseTags(O,function(C,E,T,L){if(!K.readBinaryTags&&L===7)return;if(E===513){if(Y=T[0],K.hidePointers)return}else if(E===514){if(G=T[0],K.hidePointers)return}else if(E===259){if(H=T[0],K.hidePointers)return}if(!K.returnTags)return;if(K.simplifyValues)T=p9.simplifyValue(T,L);if(K.resolveTagNames){var X=C===GZ.GPSIFD?V.gps:V.exif,z=X[E];if(!z)z=V.exif[E];if(!Z.hasOwnProperty(z))Z[z]=T}else Z.push({section:C,type:E,value:T})}),B)q=M}else if(K.imageSize&&l5.getSectionName(R).name==="SOF")Q=l5.getSizeFromSOFSection(O)}),K.simplifyValues)p9.castDegreeValues(W,U),p9.castDateValues(W,U);return new HZ($,Z,Q,Y,G,H,q)}};VZ.exports=qZ});var RZ=l((JS,UZ)=>{var L1=function($,J,K,Z,Q,Y){this.global=Q,J=J||0,K=K||$.byteLength-J,this.arrayBuffer=$.slice(J,J+K),this.view=new Q.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(Z),this.offset=0,this.parentOffset=(Y||0)+J};L1.prototype={setBigEndian:function($){this.littleEndian=!$},nextUInt8:function(){var $=this.view.getUint8(this.offset);return this.offset+=1,$},nextInt8:function(){var $=this.view.getInt8(this.offset);return this.offset+=1,$},nextUInt16:function(){var $=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,$},nextUInt32:function(){var $=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,$},nextInt16:function(){var $=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,$},nextInt32:function(){var $=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,$},nextFloat:function(){var $=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,$},nextDouble:function(){var $=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,$},nextBuffer:function($){var J=this.arrayBuffer.slice(this.offset,this.offset+$);return this.offset+=$,J},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function($){var J=this.arrayBuffer.slice(this.offset,this.offset+$);return J=String.fromCharCode.apply(null,new this.global.Uint8Array(J)),this.offset+=$,J},mark:function(){var $=this;return{openWithOffset:function(J){return J=(J||0)+this.offset,new L1($.arrayBuffer,J,$.arrayBuffer.byteLength-J,!$.littleEndian,$.global,$.parentOffset)},offset:this.offset,getParentOffset:function(){return $.parentOffset}}},offsetFrom:function($){return this.parentOffset+this.offset-($.offset+$.getParentOffset())},skip:function($){this.offset+=$},branch:function($,J){return J=typeof J==="number"?J:this.arrayBuffer.byteLength-(this.offset+$),new L1(this.arrayBuffer,this.offset+$,J,!this.littleEndian,this.global,this.parentOffset)}};UZ.exports=L1});var zZ=l((KS,OZ)=>{var M1=function($,J,K,Z){this.buffer=$,this.offset=J||0,K=typeof K==="number"?K:$.length,this.endPosition=this.offset+K,this.setBigEndian(Z)};M1.prototype={setBigEndian:function($){this.bigEndian=!!$},nextUInt8:function(){var $=this.buffer.readUInt8(this.offset);return this.offset+=1,$},nextInt8:function(){var $=this.buffer.readInt8(this.offset);return this.offset+=1,$},nextUInt16:function(){var $=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,$},nextUInt32:function(){var $=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,$},nextInt16:function(){var $=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,$},nextInt32:function(){var $=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,$},nextFloat:function(){var $=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,$},nextDouble:function(){var $=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,$},nextBuffer:function($){var J=this.buffer.slice(this.offset,this.offset+$);return this.offset+=$,J},remainingLength:function(){return this.endPosition-this.offset},nextString:function($){var J=this.buffer.toString("utf8",this.offset,this.offset+$);return this.offset+=$,J},mark:function(){var $=this;return{openWithOffset:function(J){return J=(J||0)+this.offset,new M1($.buffer,J,$.endPosition-J,$.bigEndian)},offset:this.offset}},offsetFrom:function($){return this.offset-$.offset},skip:function($){this.offset+=$},branch:function($,J){return J=typeof J==="number"?J:this.endPosition-(this.offset+$),new M1(this.buffer,this.offset+$,J,this.bigEndian)}};OZ.exports=M1});var AZ=l((ZS,PZ)=>{var _N=function(){return(0,eval)("this")},NZ=WZ();PZ.exports={create:function($,J){if(J=J||_N(),$ instanceof J.ArrayBuffer){var K=RZ();return new NZ(new K($,0,$.byteLength,!0,J))}else{var Z=zZ();return new NZ(new Z($,0,$.length,!0))}}}});var CZ=l((EZ)=>{var BZ=function($){if(typeof WeakMap!=="function")return null;var J=new WeakMap,K=new WeakMap;return(BZ=function(Z){return Z?K:J})($)},FZ=function($,J){if(!J&&$&&$.__esModule)return $;if($===null||typeof $!=="object"&&typeof $!=="function")return{default:$};var K=BZ(J);if(K&&K.has($))return K.get($);var Z={},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Y in $)if(Y!=="default"&&Object.prototype.hasOwnProperty.call($,Y)){var G=Q?Object.getOwnPropertyDescriptor($,Y):null;if(G&&(G.get||G.set))Object.defineProperty(Z,Y,G);else Z[Y]=$[Y]}if(Z.default=$,K)K.set($,Z);return Z},n9=function($){return $&&$.__esModule?$:{default:$}};async function uN($,J){const K=await yN.default.fromBuffer($);if(K)return K.mime;if(J)return hN.getType(J);return null}var l9=function($){return $._exif&&$._exif.tags&&$._exif.tags.Orientation||1},mN=function($){const J=$.getWidth(),K=$.getHeight();switch(l9($)){case 1:return null;case 2:return function(Z,Q){return[J-Z-1,Q]};case 3:return function(Z,Q){return[J-Z-1,K-Q-1]};case 4:return function(Z,Q){return[Z,K-Q-1]};case 5:return function(Z,Q){return[Q,Z]};case 6:return function(Z,Q){return[Q,K-Z-1]};case 7:return function(Z,Q){return[J-Q-1,K-Z-1]};case 8:return function(Z,Q){return[J-Q-1,Z]};default:return null}},fN=function($,J,K,Z){const Q=$.bitmap.data,Y=$.bitmap.width,G=Buffer.alloc(Q.length);for(let H=0;H<J;H++)for(let q=0;q<K;q++){const[V,W]=Z(H,q),U=J*q+H<<2,R=Y*W+V<<2,O=Q.readUInt32BE(R);G.writeUInt32BE(O,U)}$.bitmap.data=G,$.bitmap.width=J,$.bitmap.height=K},cN=function($){if(l9($)<2)return;const J=mN($),K=l9($)>4,Z=K?$.bitmap.height:$.bitmap.width,Q=K?$.bitmap.width:$.bitmap.height;fN($,Z,Q,J)};async function dN($,J,K){const Z=await uN($,J);if(typeof Z!=="string")return K(new Error("Could not find MIME for Buffer <"+J+">"));this._originalMime=Z.toLowerCase();try{const Q=this.getMIME();if(this.constructor.decoders[Q])this.bitmap=this.constructor.decoders[Q]($);else return S1.throwError.call(this,"Unsupported MIME type: "+Q,K)}catch(Q){return K.call(this,Q,this)}try{this._exif=xN.default.create($).parse(),cN(this)}catch(Q){}return K.call(this,null,this),this}var pN=function($,J){return new $(J.bitmap.width,J.bitmap.height,J._background).composite(J,0,0).bitmap},XZ=function($,J){if($===gN.AUTO)$=this.getMIME();if(typeof $!=="string")return S1.throwError.call(this,"mime must be a string",J);if(typeof J!=="function")return S1.throwError.call(this,"cb must be a function",J);if($=$.toLowerCase(),this._rgba&&this.constructor.hasAlpha[$])this.bitmap.data=Buffer.from(this.bitmap.data);else this.bitmap.data=pN(this.constructor,this).data;if(this.constructor.encoders[$]){const K=this.constructor.encoders[$](this);if(K instanceof Promise)K.then((Z)=>{J.call(this,null,Z)});else J.call(this,null,K)}else return S1.throwError.call(this,"Unsupported MIME type: "+$,J);return this},lN=function($){return bN.default(XZ,this,$)};Object.defineProperty(EZ,"__esModule",{value:!0});EZ.getBuffer=XZ;EZ.getBufferAsync=lN;EZ.parseBitmap=dN;var yN=n9(iK()),xN=n9(AZ()),S1=h0(),gN=FZ(W1()),hN=FZ(x9()),bN=n9(_9())});var xZ=l((a9)=>{var SZ=function($){if(typeof WeakMap!=="function")return null;var J=new WeakMap,K=new WeakMap;return(SZ=function(Z){return Z?K:J})($)},jZ=function($,J){if(!J&&$&&$.__esModule)return $;if($===null||typeof $!=="object"&&typeof $!=="function")return{default:$};var K=SZ(J);if(K&&K.has($))return K.get($);var Z={},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Y in $)if(Y!=="default"&&Object.prototype.hasOwnProperty.call($,Y)){var G=Q?Object.getOwnPropertyDescriptor($,Y):null;if(G&&(G.get||G.set))Object.defineProperty(Z,Y,G);else Z[Y]=$[Y]}if(Z.default=$,K)K.set($,Z);return Z},x8=function($){return $&&$.__esModule?$:{default:$}},M8=function($,J,K){if(J=KP(J),J in $)Object.defineProperty($,J,{value:K,enumerable:!0,configurable:!0,writable:!0});else $[J]=K;return $},KP=function($){var J=ZP($,"string");return typeof J==="symbol"?J:String(J)},ZP=function($,J){if(typeof $!=="object"||$===null)return $;var K=$[Symbol.toPrimitive];if(K!==void 0){var Z=K.call($,J||"default");if(typeof Z!=="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(J==="string"?String:Number)($)},i8=function(){},wZ=function($){return Object.prototype.toString.call($).toLowerCase().indexOf("arraybuffer")>-1},DZ=function($){const J=Buffer.alloc($.byteLength),K=new Uint8Array($);for(let Z=0;Z<J.length;++Z)J[Z]=K[Z];return J},kZ=function($,J){eN.default($,(K,Z)=>{if(K)return J(K);if(typeof Z==="object"&&Buffer.isBuffer(Z))return J(null,Z);if(typeof Z==="object"&&wZ(Z))return J(null,DZ(Z));return new Error(`Could not load Buffer from <${$.url}>`)})},QP=function($,J){if(j5.default&&typeof j5.default.readFile==="function"&&!$.match(/^(http|ftp)s?:\/\/./))j5.default.readFile($,J);else kZ({url:$},J)},YP=function($){return $&&typeof $==="object"&&typeof $.width==="number"&&typeof $.height==="number"&&(Buffer.isBuffer($.data)||$.data instanceof Uint8Array||typeof Uint8ClampedArray==="function"&&$.data instanceof Uint8ClampedArray)&&($.data.length===$.width*$.height*4||$.data.length===$.width*$.height*3)},GP=function($){if($.length%3!==0)throw new Error("Buffer length is incorrect");const J=Buffer.allocUnsafe($.length/3*4);let K=0;for(let Z=0;Z<$.length;Z++){if(J[K]=$[Z],(Z+1)%3===0)J[++K]=255;K++}return J},vZ=function($){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k0;Object.entries($).forEach((K)=>{let[Z,Q]=K;J[Z]=Q})},_Z=function($){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k0;Object.entries($).forEach((K)=>{let[Z,Q]=K;J.prototype[Z]=Q})},r9=function($,J,K){const Z="before-"+J,Q=J.replace(/e$/,"")+"ed";k0.prototype[$]=function(){let Y;for(var G=arguments.length,H=new Array(G),q=0;q<G;q++)H[q]=arguments[q];const V=H[K.length-1],W=this;if(typeof V==="function")Y=function(){for(var R=arguments.length,O=new Array(R),B=0;B<R;B++)O[B]=arguments[B];const[M,C]=O;if(M)W.emitError($,M);else W.emitMulti($,Q,{[$]:C});V.apply(this,O)},H[H.length-1]=Y;else Y=!1;this.emitMulti($,Z);let U;try{if(U=K.apply(this,H),!Y)this.emitMulti($,Q,{[$]:U})}catch(R){R.methodName=$,this.emitError($,R)}return U},k0.prototype[$+"Quiet"]=K},s9=function($,J){r9($,"change",J)};Object.defineProperty(a9,"__esModule",{value:!0});a9.addConstants=vZ;a9.addJimpMethods=_Z;Object.defineProperty(a9,"addType",{enumerable:!0,get:function(){return o9.addType}});a9.default=void 0;a9.jimpEvChange=s9;a9.jimpEvMethod=r9;var j5=x8(import.meta.require("fs")),rN=x8(import.meta.require("path")),sN=x8(import.meta.require("events")),E0=h0(),j1=x8(w4()),aN=x8(y4()),tN=x8(I9()),I1=x8(g4()),eN=x8(b4()),$P=x8(n4()),LZ=x8(_9()),o9=jZ(x9()),i9=CZ(),JP=jZ(W1()),IZ="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",TZ=[NaN,NaN];for(let $=2;$<65;$++){const J=j1.default(j1.default.BIN,IZ.slice(0,$))(new Array(65).join("1"));TZ.push(J.length)}var MZ={data:null,width:null,height:null};class k0 extends sN.default{constructor(){for(var $=arguments.length,J=new Array($),K=0;K<$;K++)J[K]=arguments[K];super();M8(this,"bitmap",MZ),M8(this,"_background",0),M8(this,"_originalMime",k0.MIME_PNG),M8(this,"_exif",null),M8(this,"_rgba",!0),M8(this,"writeAsync",(G)=>LZ.default(this.write,this,G)),M8(this,"getBase64Async",(G)=>LZ.default(this.getBase64,this,G)),M8(this,"getBuffer",i9.getBuffer),M8(this,"getBufferAsync",i9.getBufferAsync),M8(this,"getPixelColour",this.getPixelColor),M8(this,"setPixelColour",this.setPixelColor);const Z=this;let Q=i8;if(wZ(J[0]))J[0]=DZ(J[0]);function Y(){for(var G=arguments.length,H=new Array(G),q=0;q<G;q++)H[q]=arguments[q];const[V]=H,W=V||{};W.methodName="constructor",setTimeout(()=>{if(V&&Q===i8)Z.emitError("constructor",V);else if(!V)Z.emitMulti("constructor","initialized");Q.call(Z,...H)},1)}if(typeof J[0]==="number"&&typeof J[1]==="number"||parseInt(J[0],10)&&parseInt(J[1],10)){const G=parseInt(J[0],10),H=parseInt(J[1],10);if(Q=J[2],typeof J[2]==="number")this._background=J[2],Q=J[3];if(typeof J[2]==="string")this._background=k0.cssColorToHex(J[2]),Q=J[3];if(typeof Q==="undefined")Q=i8;if(typeof Q!=="function")return E0.throwError.call(this,"cb must be a function",Y);this.bitmap={data:Buffer.alloc(G*H*4),width:G,height:H};for(let q=0;q<this.bitmap.data.length;q+=4)this.bitmap.data.writeUInt32BE(this._background,q);Y(null,this)}else if(typeof J[0]==="object"&&J[0].url){if(Q=J[1]||i8,typeof Q!=="function")return E0.throwError.call(this,"cb must be a function",Y);kZ(J[0],(G,H)=>{if(G)return E0.throwError.call(this,G,Y);this.parseBitmap(H,J[0].url,Y)})}else if(J[0]instanceof k0){const[G]=J;if(Q=J[1],typeof Q==="undefined")Q=i8;if(typeof Q!=="function")return E0.throwError.call(this,"cb must be a function",Y);this.bitmap={data:Buffer.from(G.bitmap.data),width:G.bitmap.width,height:G.bitmap.height},this._quality=G._quality,this._deflateLevel=G._deflateLevel,this._deflateStrategy=G._deflateStrategy,this._filterType=G._filterType,this._rgba=G._rgba,this._background=G._background,this._originalMime=G._originalMime,Y(null,this)}else if(YP(J[0])){const[G]=J;Q=J[1]||i8;const q=G.width*G.height*4===G.data.length?Buffer.from(G.data):GP(G.data);this.bitmap={data:q,width:G.width,height:G.height},Y(null,this)}else if(typeof J[0]==="string"){const G=J[0];if(Q=J[1],typeof Q==="undefined")Q=i8;if(typeof Q!=="function")return E0.throwError.call(this,"cb must be a function",Y);QP(G,(H,q)=>{if(H)return E0.throwError.call(this,H,Y);this.parseBitmap(q,G,Y)})}else if(typeof J[0]==="object"&&Buffer.isBuffer(J[0])){const G=J[0];if(Q=J[1],typeof Q!=="function")return E0.throwError.call(this,"cb must be a function",Y);this.parseBitmap(G,null,Y)}else{if(Q=J[J.length-1],typeof Q!=="function"){if(Q=J[J.length-2],typeof Q!=="function")Q=i8}const G=k0.__extraConstructors.find((H)=>H.test(...J));if(G)new Promise((H,q)=>{G.run.call(this,H,q,...J)}).then(()=>Y(null,this)).catch(Y);else return E0.throwError.call(this,"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",Y)}}parseBitmap($,J,K){i9.parseBitmap.call(this,$,null,K)}rgba($,J){if(typeof $!=="boolean")return E0.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",J);if(this._rgba=$,E0.isNodePattern(J))J.call(this,null,this);return this}emitMulti($,J){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(K=Object.assign(K,{methodName:$,eventName:J}),this.emit("any",K),$)this.emit($,K);this.emit(J,K)}emitError($,J){this.emitMulti($,"error",J)}getHeight(){return this.bitmap.height}getWidth(){return this.bitmap.width}inspect(){return"<Jimp "+(this.bitmap===MZ?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}toString(){return"[object Jimp]"}getMIME(){return this._originalMime||k0.MIME_PNG}getExtension(){const $=this.getMIME();return o9.getExtension($)}write($,J){if(!j5.default||!j5.default.createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if(typeof $!=="string")return E0.throwError.call(this,"path must be a string",J);if(typeof J==="undefined")J=i8;if(typeof J!=="function")return E0.throwError.call(this,"cb must be a function",J);const K=o9.getType($)||this.getMIME(),Z=rN.default.parse($);if(Z.dir)j5.default.mkdirSync(Z.dir,{recursive:!0});return this.getBuffer(K,(Q,Y)=>{if(Q)return E0.throwError.call(this,Q,J);const G=j5.default.createWriteStream($);G.on("open",()=>{G.write(Y),G.end()}).on("error",(H)=>{return E0.throwError.call(this,H,J)}),G.on("finish",()=>{J.call(this,null,this)})}),this}getBase64($,J){if($===k0.AUTO)$=this.getMIME();if(typeof $!=="string")return E0.throwError.call(this,"mime must be a string",J);if(typeof J!=="function")return E0.throwError.call(this,"cb must be a function",J);return this.getBuffer($,function(K,Z){if(K)return E0.throwError.call(this,K,J);const Q="data:"+$+";base64,"+Z.toString("base64");J.call(this,null,Q)}),this}hash($,J){if($=$||64,typeof $==="function")J=$,$=64;if(typeof $!=="number")return E0.throwError.call(this,"base must be a number",J);if($<2||$>64)return E0.throwError.call(this,"base must be a number between 2 and 64",J);let K=this.pHash();K=j1.default(j1.default.BIN,IZ.slice(0,$))(K);while(K.length<TZ[$])K="0"+K;if(E0.isNodePattern(J))J.call(this,null,K);return K}pHash(){return new I1.default().getHash(this)}distanceFromHash($){const J=new I1.default,K=J.getHash(this);return J.distance(K,$)}getPixelIndex($,J,K,Z){let Q,Y;if(typeof K==="function"&&typeof Z==="undefined")Z=K,K=null;if(!K)K=k0.EDGE_EXTEND;if(typeof $!=="number"||typeof J!=="number")return E0.throwError.call(this,"x and y must be numbers",Z);if($=Math.round($),J=Math.round(J),Q=$,Y=J,K===k0.EDGE_EXTEND){if($<0)Q=0;if($>=this.bitmap.width)Q=this.bitmap.width-1;if(J<0)Y=0;if(J>=this.bitmap.height)Y=this.bitmap.height-1}if(K===k0.EDGE_WRAP){if($<0)Q=this.bitmap.width+$;if($>=this.bitmap.width)Q=$%this.bitmap.width;if(J<0)Y=this.bitmap.height+J;if(J>=this.bitmap.height)Y=J%this.bitmap.height}let G=this.bitmap.width*Y+Q<<2;if(Q<0||Q>=this.bitmap.width)G=-1;if(Y<0||Y>=this.bitmap.height)G=-1;if(E0.isNodePattern(Z))Z.call(this,null,G);return G}getPixelColor($,J,K){if(typeof $!=="number"||typeof J!=="number")return E0.throwError.call(this,"x and y must be numbers",K);const Z=this.getPixelIndex($,J),Q=this.bitmap.data.readUInt32BE(Z);if(E0.isNodePattern(K))K.call(this,null,Q);return Q}setPixelColor($,J,K,Z){if(typeof $!=="number"||typeof J!=="number"||typeof K!=="number")return E0.throwError.call(this,"hex, x and y must be numbers",Z);const Q=this.getPixelIndex(J,K);if(this.bitmap.data.writeUInt32BE($,Q),E0.isNodePattern(Z))Z.call(this,null,this);return this}hasAlpha(){const{width:$,height:J,data:K}=this.bitmap,Z=$*J<<2;for(let Q=3;Q<Z;Q+=4)if(K[Q]!==255)return!0;return!1}scanIterator($,J,K,Z){if(typeof $!=="number"||typeof J!=="number")return E0.throwError.call(this,"x and y must be numbers");if(typeof K!=="number"||typeof Z!=="number")return E0.throwError.call(this,"w and h must be numbers");return E0.scanIterator(this,$,J,K,Z)}}vZ(JP);_Z({composite:$P.default});k0.__extraConstructors=[];k0.appendConstructorOption=function($,J,K){k0.__extraConstructors.push({name:$,test:J,run:K})};k0.read=function(){for(var $=arguments.length,J=new Array($),K=0;K<$;K++)J[K]=arguments[K];return new Promise((Z,Q)=>{new k0(...J,(Y,G)=>{if(Y)Q(Y);else Z(G)})})};k0.create=k0.read;k0.rgbaToInt=function($,J,K,Z,Q){if(typeof $!=="number"||typeof J!=="number"||typeof K!=="number"||typeof Z!=="number")return E0.throwError.call(this,"r, g, b and a must be numbers",Q);if($<0||$>255)return E0.throwError.call(this,"r must be between 0 and 255",Q);if(J<0||J>255)E0.throwError.call(this,"g must be between 0 and 255",Q);if(K<0||K>255)return E0.throwError.call(this,"b must be between 0 and 255",Q);if(Z<0||Z>255)return E0.throwError.call(this,"a must be between 0 and 255",Q);let Y=$&255;if(Y<<=8,Y|=J&255,Y<<=8,Y|=K&255,Y<<=8,Y|=Z&255,Y>>>=0,E0.isNodePattern(Q))Q.call(this,null,Y);return Y};k0.intToRGBA=function($,J){if(typeof $!=="number")return E0.throwError.call(this,"i must be a number",J);const K={};if(K.r=Math.floor($/Math.pow(256,3)),K.g=Math.floor(($-K.r*Math.pow(256,3))/Math.pow(256,2)),K.b=Math.floor(($-K.r*Math.pow(256,3)-K.g*Math.pow(256,2))/Math.pow(256,1)),K.a=Math.floor(($-K.r*Math.pow(256,3)-K.g*Math.pow(256,2)-K.b*Math.pow(256,1))/Math.pow(256,0)),E0.isNodePattern(J))J.call(this,null,K);return K};k0.cssColorToHex=function($){if($=$||0,typeof $==="number")return Number($);return parseInt(tN.default($).toHex8(),16)};k0.limit255=function($){return $=Math.max($,0),$=Math.min($,255),$};k0.diff=function($,J){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0.1;if(!($ instanceof k0)||!(J instanceof k0))return E0.throwError.call(this,"img1 and img2 must be an Jimp images");const Z=$.bitmap,Q=J.bitmap;if(Z.width!==Q.width||Z.height!==Q.height)if(Z.width*Z.height>Q.width*Q.height)$=$.cloneQuiet().resize(Q.width,Q.height);else J=J.cloneQuiet().resize(Z.width,Z.height);if(typeof K!=="number"||K<0||K>1)return E0.throwError.call(this,"threshold must be a number between 0 and 1");const Y=new k0(Z.width,Z.height,4294967295);return{percent:aN.default(Z.data,Q.data,Y.bitmap.data,Y.bitmap.width,Y.bitmap.height,{threshold:K})/(Y.bitmap.width*Y.bitmap.height),image:Y}};k0.distance=function($,J){const K=new I1.default,Z=K.getHash($),Q=K.getHash(J);return K.distance(Z,Q)};k0.compareHashes=function($,J){return new I1.default().distance($,J)};k0.colorDiff=function($,J){const K=(Y)=>Math.pow(Y,2),{max:Z}=Math;if($.a!==0&&!$.a)$.a=255;if(J.a!==0&&!J.a)J.a=255;return(Z(K($.r-J.r),K($.r-J.r-$.a+J.a))+Z(K($.g-J.g),K($.g-J.g-$.a+J.a))+Z(K($.b-J.b),K($.b-J.b-$.a+J.a)))/195075};r9("clone","clone",function($){const J=new k0(this);if(E0.isNodePattern($))$.call(J,null,J);return J});s9("background",function($,J){if(typeof $!=="number")return E0.throwError.call(this,"hex must be a hexadecimal rgba value",J);if(this._background=$,E0.isNodePattern(J))J.call(this,null,this);return this});s9("scan",function($,J,K,Z,Q,Y){if(typeof $!=="number"||typeof J!=="number")return E0.throwError.call(this,"x and y must be numbers",Y);if(typeof K!=="number"||typeof Z!=="number")return E0.throwError.call(this,"w and h must be numbers",Y);if(typeof Q!=="function")return E0.throwError.call(this,"f must be a function",Y);const G=E0.scan(this,$,J,K,Z,Q);if(E0.isNodePattern(Y))Y.call(this,null,G);return G});if(process.env.ENVIRONMENT==="BROWSER"){let $;if(typeof window!=="undefined"&&typeof window==="object")$=window;if(typeof self!=="undefined"&&typeof self==="object")$=self;$.Jimp=k0,$.Buffer=Buffer}var HP=k0;a9.default=HP});var hZ=l((T1,t9)=>{var gZ=function($){if(typeof WeakMap!=="function")return null;var J=new WeakMap,K=new WeakMap;return(gZ=function(Z){return Z?K:J})($)},RP=function($,J){if(!J&&$&&$.__esModule)return $;if($===null||typeof $!=="object"&&typeof $!=="function")return{default:$};var K=gZ(J);if(K&&K.has($))return K.get($);var Z={},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Y in $)if(Y!=="default"&&Object.prototype.hasOwnProperty.call($,Y)){var G=Q?Object.getOwnPropertyDescriptor($,Y):null;if(G&&(G.get||G.set))Object.defineProperty(Z,Y,G);else Z[Y]=$[Y]}if(Z.default=$,K)K.set($,Z);return Z},OP=function($){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I5.default;const K={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function Z(G){Object.entries(G).forEach((H)=>{let[q,V]=H;K[q]={...K[q],...V}})}function Q(G){const H=G();if(Array.isArray(H.mime))I5.addType(...H.mime);else Object.entries(H.mime).forEach((q)=>I5.addType(...q));delete H.mime,Z(H)}function Y(G){const H=G(I5.jimpEvChange)||{};if(!H.class&&!H.constants)Z({class:H});else Z(H)}if($.types)$.types.forEach(Q),J.decoders={...J.decoders,...K.decoders},J.encoders={...J.encoders,...K.encoders},J.hasAlpha={...J.hasAlpha,...K.hasAlpha};if($.plugins)$.plugins.forEach(Y);return I5.addJimpMethods(K.class,J),I5.addConstants(K.constants,J),I5.default};Object.defineProperty(T1,"__esModule",{value:!0});T1.default=OP;var I5=RP(xZ());t9.exports=T1.default;t9.exports.default=T1.default});var $7=l((KQ)=>{var mZ=function($){throw new Error($)},e9=function($){const J=Object.keys($);if(Object.getOwnPropertySymbols)return J.concat(Object.getOwnPropertySymbols($));return J},D1=function($){if(Array.isArray($))return $.slice();const J=$,K=e9(J),Z={};for(let Q=0;Q<K.length;Q++){const Y=K[Q];Z[Y]=J[Y]}return Z},w1=function($){return $!=null&&typeof $==="object"},fZ=function($,J){if(Array.isArray(J))return $.concat(J);return $.concat([J])},cZ=function($,J){if(Array.isArray(J))return J.concat($);return[J].concat($)},dZ=function($){if(!$.length)return $;return $.slice(0,$.length-1)},pZ=function($){if(!$.length)return $;return $.slice(1)},lZ=function($,J,K){return $.slice(0,J).concat(Array.isArray(K)?K:[K]).concat($.slice(J))},nZ=function($,J){if(J>=$.length||J<0)return $;return $.slice(0,J).concat($.slice(J+1))},iZ=function($,J,K){if($[J]===K)return $;const Z=$.length,Q=Array(Z);for(let Y=0;Y<Z;Y++)Q[Y]=$[Y];return Q[J]=K,Q},k1=function($,J){if(!Array.isArray(J))mZ(uZ?"A path array should be provided when calling getIn()":bZ);if($==null)return;let K=$;for(let Z=0;Z<J.length;Z++){const Q=J[Z];if(K=K!=null?K[Q]:void 0,K===void 0)return K}return K},v1=function($,J,K){let Z=$;if(Z==null)Z=typeof J==="number"?[]:{};if(Z[J]===K)return Z;const Q=D1(Z);return Q[J]=K,Q},_1=function($,J,K){if(!J.length)return K;return oZ($,J,K,0)},oZ=function($,J,K,Z){let Q;const Y=J[Z];if(Z===J.length-1)Q=K;else{const G=w1($)&&w1($[Y])?$[Y]:typeof J[Z+1]==="number"?[]:{};Q=oZ(G,J,K,Z+1)}return v1($,Y,Q)},rZ=function($,J,K){const Z=$==null?void 0:$[J],Q=K(Z);return v1($,J,Q)},sZ=function($,J,K){const Z=k1($,J),Q=K(Z);return _1($,J,Q)},aZ=function($,J,K,Z,Q,Y,...G){return G.length?o8.call(null,!1,!1,$,J,K,Z,Q,Y,...G):o8(!1,!1,$,J,K,Z,Q,Y)},tZ=function($,J,K,Z,Q,Y,...G){return G.length?o8.call(null,!1,!0,$,J,K,Z,Q,Y,...G):o8(!1,!0,$,J,K,Z,Q,Y)},eZ=function($,J,K,Z,Q,Y,G,...H){let q=k1($,J);if(q==null)q={};let V;if(H.length)V=o8.call(null,!1,!1,q,K,Z,Q,Y,G,...H);else V=o8(!1,!1,q,K,Z,Q,Y,G);return _1($,J,V)},$Q=function($,J){const K=Array.isArray(J)?J:[J];let Z=!1;for(let G=0;G<K.length;G++)if(NP.call($,K[G])){Z=!0;break}if(!Z)return $;const Q={},Y=e9($);for(let G=0;G<Y.length;G++){const H=Y[G];if(K.indexOf(H)>=0)continue;Q[H]=$[H]}return Q},JQ=function($,J,K,Z,Q,Y,...G){return G.length?o8.call(null,!0,!1,$,J,K,Z,Q,Y,...G):o8(!0,!1,$,J,K,Z,Q,Y)},o8=function($,J,K,...Z){let Q=K;if(Q==null)mZ(uZ?"At least one object should be provided to merge()":bZ);let Y=!1;for(let G=0;G<Z.length;G++){const H=Z[G];if(H==null)continue;const q=e9(H);if(!q.length)continue;for(let V=0;V<=q.length;V++){const W=q[V];if($&&Q[W]!==void 0)continue;let U=H[W];if(J&&w1(Q[W])&&w1(U))U=o8($,J,Q[W],U);if(U===void 0||U===Q[W])continue;if(!Y)Y=!0,Q=D1(Q);Q[W]=U}}return Q};Object.defineProperty(KQ,"__esModule",{value:!0});KQ.clone=D1;KQ.addLast=fZ;KQ.addFirst=cZ;KQ.removeLast=dZ;KQ.removeFirst=pZ;KQ.insert=lZ;KQ.removeAt=nZ;KQ.replaceAt=iZ;KQ.getIn=k1;KQ.set=v1;KQ.setIn=_1;KQ.update=rZ;KQ.updateIn=sZ;KQ.merge=aZ;KQ.mergeDeep=tZ;KQ.mergeIn=eZ;KQ.omit=$Q;KQ.addDefaults=JQ;KQ.default=void 0;/*!
 * Timm
 *
 * Immutability helpers with fast reads and acceptable writes.
 *
 * @copyright Guillermo Grau Panea 2016
 * @license MIT
 */var bZ="INVALID_ARGS",uZ=!0,NP={}.hasOwnProperty,PP={clone:D1,addLast:fZ,addFirst:cZ,removeLast:dZ,removeFirst:pZ,insert:lZ,removeAt:nZ,replaceAt:iZ,getIn:k1,set:v1,setIn:_1,update:rZ,updateIn:sZ,merge:aZ,mergeDeep:tZ,mergeIn:eZ,omit:$Q,addDefaults:JQ},AP=PP;KQ.default=AP});var GQ=l((HS,y1)=>{var gP=function($){var J=this,K=Math.round,Z=Math.floor,Q=new Array(64),Y=new Array(64),G=new Array(64),H=new Array(64),q,V,W,U,R=new Array(65535),O=new Array(65535),B=new Array(64),M=new Array(64),C=[],E=0,T=7,L=new Array(64),X=new Array(64),z=new Array(64),N=new Array(256),P=new Array(2048),S,k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],w=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],v=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],x=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],b=[0,1,2,3,4,5,6,7,8,9,10,11],y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],p=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function g(r){var G0=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99];for(var K0=0;K0<64;K0++){var q0=Z((G0[K0]*r+50)/100);if(q0<1)q0=1;else if(q0>255)q0=255;Q[k[K0]]=q0}var V0=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99];for(var U0=0;U0<64;U0++){var N0=Z((V0[U0]*r+50)/100);if(N0<1)N0=1;else if(N0>255)N0=255;Y[k[U0]]=N0}var A0=[1,1.387039845,1.306562965,1.175875602,1,0.785694958,0.5411961,0.275899379],z0=0;for(var X0=0;X0<8;X0++)for(var Z0=0;Z0<8;Z0++)G[z0]=1/(Q[k[z0]]*A0[X0]*A0[Z0]*8),H[z0]=1/(Y[k[z0]]*A0[X0]*A0[Z0]*8),z0++}function n(r,G0){var K0=0,q0=0,V0=new Array;for(var U0=1;U0<=16;U0++){for(var N0=1;N0<=r[U0];N0++)V0[G0[q0]]=[],V0[G0[q0]][0]=K0,V0[G0[q0]][1]=U0,q0++,K0++;K0*=2}return V0}function e(){q=n(w,j),V=n(x,b),W=n(v,_),U=n(y,p)}function o(){var r=1,G0=2;for(var K0=1;K0<=15;K0++){for(var q0=r;q0<G0;q0++)O[32767+q0]=K0,R[32767+q0]=[],R[32767+q0][1]=K0,R[32767+q0][0]=q0;for(var V0=-(G0-1);V0<=-r;V0++)O[32767+V0]=K0,R[32767+V0]=[],R[32767+V0][1]=K0,R[32767+V0][0]=G0-1+V0;r<<=1,G0<<=1}}function t(){for(var r=0;r<256;r++)P[r]=19595*r,P[r+256>>0]=38470*r,P[r+512>>0]=7471*r+32768,P[r+768>>0]=-11059*r,P[r+1024>>0]=-21709*r,P[r+1280>>0]=32768*r+8421375,P[r+1536>>0]=-27439*r,P[r+1792>>0]=-5329*r}function d(r){var G0=r[0],K0=r[1]-1;while(K0>=0){if(G0&1<<K0)E|=1<<T;if(K0--,T--,T<0){if(E==255)h(255),h(0);else h(E);T=7,E=0}}}function h(r){C.push(r)}function u(r){h(r>>8&255),h(r&255)}function F(r,G0){var K0,q0,V0,U0,N0,A0,z0,X0,Z0=0,J0,H0=8,j0=64;for(J0=0;J0<H0;++J0){K0=r[Z0],q0=r[Z0+1],V0=r[Z0+2],U0=r[Z0+3],N0=r[Z0+4],A0=r[Z0+5],z0=r[Z0+6],X0=r[Z0+7];var P0=K0+X0,C0=K0-X0,D0=q0+z0,Y0=q0-z0,R0=V0+A0,B0=V0-A0,L0=U0+N0,I0=U0-N0,g0=P0+L0,M0=P0-L0,x0=D0+R0,b0=D0-R0;r[Z0]=g0+x0,r[Z0+4]=g0-x0;var $8=(b0+M0)*0.707106781;r[Z0+2]=M0+$8,r[Z0+6]=M0-$8,g0=I0+B0,x0=B0+Y0,b0=Y0+C0;var s0=(g0-b0)*0.382683433,G8=0.5411961*g0+s0,C8=1.306562965*b0+s0,k8=x0*0.707106781,p8=C0+k8,v8=C0-k8;r[Z0+5]=v8+G8,r[Z0+3]=v8-G8,r[Z0+1]=p8+C8,r[Z0+7]=p8-C8,Z0+=8}Z0=0;for(J0=0;J0<H0;++J0){K0=r[Z0],q0=r[Z0+8],V0=r[Z0+16],U0=r[Z0+24],N0=r[Z0+32],A0=r[Z0+40],z0=r[Z0+48],X0=r[Z0+56];var A6=K0+X0,B6=K0-X0,Z1=q0+z0,Q1=q0-z0,Y1=V0+A0,L8=V0-A0,C5=U0+N0,E9=U0-N0,L5=A6+C5,f5=A6-C5,M5=Z1+Y1,S5=Z1-Y1;r[Z0]=L5+M5,r[Z0+32]=L5-M5;var F6=(S5+f5)*0.707106781;r[Z0+16]=f5+F6,r[Z0+48]=f5-F6,L5=E9+L8,M5=L8+Q1,S5=Q1+B6;var X6=(L5-S5)*0.382683433,F4=0.5411961*L5+X6,X4=1.306562965*S5+X6,E4=M5*0.707106781,C4=B6+E4,L4=B6-E4;r[Z0+40]=L4+F4,r[Z0+24]=L4-F4,r[Z0+8]=C4+X4,r[Z0+56]=C4-X4,Z0++}var G1;for(J0=0;J0<j0;++J0)G1=r[J0]*G0[J0],B[J0]=G1>0?G1+0.5|0:G1-0.5|0;return B}function A(){u(65504),u(16),h(74),h(70),h(73),h(70),h(0),h(1),h(1),h(0),u(1),u(1),h(0),h(0)}function I(r){if(!r)return;if(u(65505),r[0]===69&&r[1]===120&&r[2]===105&&r[3]===102)u(r.length+2);else u(r.length+5+2),h(69),h(120),h(105),h(102),h(0);for(var G0=0;G0<r.length;G0++)h(r[G0])}function D(r,G0){u(65472),u(17),h(8),u(G0),u(r),h(3),h(1),h(17),h(0),h(2),h(17),h(1),h(3),h(17),h(1)}function c(){u(65499),u(132),h(0);for(var r=0;r<64;r++)h(Q[r]);h(1);for(var G0=0;G0<64;G0++)h(Y[G0])}function m(){u(65476),u(418),h(0);for(var r=0;r<16;r++)h(w[r+1]);for(var G0=0;G0<=11;G0++)h(j[G0]);h(16);for(var K0=0;K0<16;K0++)h(v[K0+1]);for(var q0=0;q0<=161;q0++)h(_[q0]);h(1);for(var V0=0;V0<16;V0++)h(x[V0+1]);for(var U0=0;U0<=11;U0++)h(b[U0]);h(17);for(var N0=0;N0<16;N0++)h(y[N0+1]);for(var A0=0;A0<=161;A0++)h(p[A0])}function f(r){if(typeof r==="undefined"||r.constructor!==Array)return;r.forEach((G0)=>{if(typeof G0!=="string")return;u(65534);var K0=G0.length;u(K0+2);var q0;for(q0=0;q0<K0;q0++)h(G0.charCodeAt(q0))})}function i(){u(65498),u(12),h(3),h(1),h(0),h(2),h(17),h(3),h(17),h(0),h(63),h(0)}function a(r,G0,K0,q0,V0){var U0=V0[0],N0=V0[240],A0,z0=16,X0=63,Z0=64,J0=F(r,G0);for(var H0=0;H0<Z0;++H0)M[k[H0]]=J0[H0];var j0=M[0]-K0;if(K0=M[0],j0==0)d(q0[0]);else A0=32767+j0,d(q0[O[A0]]),d(R[A0]);var P0=63;for(;P0>0&&M[P0]==0;P0--);if(P0==0)return d(U0),K0;var C0=1,D0;while(C0<=P0){var Y0=C0;for(;M[C0]==0&&C0<=P0;++C0);var R0=C0-Y0;if(R0>=z0){D0=R0>>4;for(var B0=1;B0<=D0;++B0)d(N0);R0=R0&15}A0=32767+M[C0],d(V0[(R0<<4)+O[A0]]),d(R[A0]),C0++}if(P0!=X0)d(U0);return K0}function $0(){var r=String.fromCharCode;for(var G0=0;G0<256;G0++)N[G0]=r(G0)}this.encode=function(r,G0){var K0=(new Date()).getTime();if(G0)Q0(G0);C=new Array,E=0,T=7,u(65496),A(),f(r.comments),I(r.exifBuffer),c(),D(r.width,r.height),m(),i();var q0=0,V0=0,U0=0;E=0,T=7,this.encode.displayName="_encode_";var{data:N0,width:A0,height:z0}=r,X0=A0*4,Z0=A0*3,J0,H0=0,j0,P0,C0,D0,Y0,R0,B0,L0;while(H0<z0){J0=0;while(J0<X0){D0=X0*H0+J0,Y0=D0,R0=-1,B0=0;for(L0=0;L0<64;L0++){if(B0=L0>>3,R0=(L0&7)*4,Y0=D0+B0*X0+R0,H0+B0>=z0)Y0-=X0*(H0+1+B0-z0);if(J0+R0>=X0)Y0-=J0+R0-X0+4;j0=N0[Y0++],P0=N0[Y0++],C0=N0[Y0++],L[L0]=(P[j0]+P[P0+256>>0]+P[C0+512>>0]>>16)-128,X[L0]=(P[j0+768>>0]+P[P0+1024>>0]+P[C0+1280>>0]>>16)-128,z[L0]=(P[j0+1280>>0]+P[P0+1536>>0]+P[C0+1792>>0]>>16)-128}q0=a(L,G,q0,q,W),V0=a(X,H,V0,V,U),U0=a(z,H,U0,V,U),J0+=32}H0+=8}if(T>=0){var I0=[];I0[1]=T+1,I0[0]=(1<<T+1)-1,d(I0)}if(u(65497),typeof y1==="undefined")return new Uint8Array(C);return Buffer.from(C);var g0,M0};function Q0(r){if(r<=0)r=1;if(r>100)r=100;if(S==r)return;var G0=0;if(r<50)G0=Math.floor(5000/r);else G0=Math.floor(200-r*2);g(G0),S=r}function W0(){var r=(new Date()).getTime();if(!$)$=50;$0(),e(),o(),t(),Q0($);var G0=(new Date()).getTime()-r}W0()},QQ=function($,J){if(typeof J==="undefined")J=50;var K=new gP(J),Z=K.encode($,J);return{data:Z,width:$.width,height:$.height}},YQ=YQ||function($){return Buffer.from($).toString("base64")};if(typeof y1!=="undefined")y1.exports=QQ;else if(typeof window!=="undefined")window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].encode=QQ});var qQ=l((qS,K7)=>{var HQ=function($,J={}){var K={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},Z={...K,...J},Q=new Uint8Array($),Y=new J7;Y.opts=Z,J7.resetMaxMemoryUsage(Z.maxMemoryUsageInMB*1024*1024),Y.parse(Q);var G=Z.formatAsRGBA?4:3,H=Y.width*Y.height*G;try{J7.requestMemoryAllocation(H);var q={width:Y.width,height:Y.height,exifBuffer:Y.exifBuffer,data:Z.useTArray?new Uint8Array(H):Buffer.alloc(H)};if(Y.comments.length>0)q.comments=Y.comments}catch(V){if(V instanceof RangeError)throw new Error("Could not allocate enough memory for the image. Required: "+H);if(V instanceof ReferenceError){if(V.message==="Buffer is not defined")throw new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true")}throw V}return Y.copyToImageData(q,Z.formatAsRGBA),q},J7=function $(){var J=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),K=4017,Z=799,Q=3406,Y=2276,G=1567,H=3784,q=5793,V=2896;function W(){}function U(T,L){var X=0,z=[],N,P,S=16;while(S>0&&!T[S-1])S--;z.push({children:[],index:0});var k=z[0],w;for(N=0;N<S;N++){for(P=0;P<T[N];P++){k=z.pop(),k.children[k.index]=L[X];while(k.index>0){if(z.length===0)throw new Error("Could not recreate Huffman Table");k=z.pop()}k.index++,z.push(k);while(z.length<=N)z.push(w={children:[],index:0}),k.children[k.index]=w.children,k=w;X++}if(N+1<S)z.push(w={children:[],index:0}),k.children[k.index]=w.children,k=w}return z[0].children}function R(T,L,X,z,N,P,S,k,w,j){var{precision:v,samplesPerLine:_,scanLines:x,mcusPerLine:b,progressive:y,maxH:p,maxV:g}=X,n=L,e=0,o=0;function t(){if(o>0)return o--,e>>o&1;if(e=T[L++],e==255){var Z0=T[L++];if(Z0)throw new Error("unexpected marker: "+(e<<8|Z0).toString(16))}return o=7,e>>>7}function d(Z0){var J0=Z0,H0;while((H0=t())!==null){if(J0=J0[H0],typeof J0==="number")return J0;if(typeof J0!=="object")throw new Error("invalid huffman sequence")}return null}function h(Z0){var J0=0;while(Z0>0){var H0=t();if(H0===null)return;J0=J0<<1|H0,Z0--}return J0}function u(Z0){var J0=h(Z0);if(J0>=1<<Z0-1)return J0;return J0+(-1<<Z0)+1}function F(Z0,J0){var H0=d(Z0.huffmanTableDC),j0=H0===0?0:u(H0);J0[0]=Z0.pred+=j0;var P0=1;while(P0<64){var C0=d(Z0.huffmanTableAC),D0=C0&15,Y0=C0>>4;if(D0===0){if(Y0<15)break;P0+=16;continue}P0+=Y0;var R0=J[P0];J0[R0]=u(D0),P0++}}function A(Z0,J0){var H0=d(Z0.huffmanTableDC),j0=H0===0?0:u(H0)<<w;J0[0]=Z0.pred+=j0}function I(Z0,J0){J0[0]|=t()<<w}var D=0;function c(Z0,J0){if(D>0){D--;return}var H0=P,j0=S;while(H0<=j0){var P0=d(Z0.huffmanTableAC),C0=P0&15,D0=P0>>4;if(C0===0){if(D0<15){D=h(D0)+(1<<D0)-1;break}H0+=16;continue}H0+=D0;var Y0=J[H0];J0[Y0]=u(C0)*(1<<w),H0++}}var m=0,f;function i(Z0,J0){var H0=P,j0=S,P0=0;while(H0<=j0){var C0=J[H0],D0=J0[C0]<0?-1:1;switch(m){case 0:var Y0=d(Z0.huffmanTableAC),R0=Y0&15,P0=Y0>>4;if(R0===0)if(P0<15)D=h(P0)+(1<<P0),m=4;else P0=16,m=1;else{if(R0!==1)throw new Error("invalid ACn encoding");f=u(R0),m=P0?2:3}continue;case 1:case 2:if(J0[C0])J0[C0]+=(t()<<w)*D0;else if(P0--,P0===0)m=m==2?3:0;break;case 3:if(J0[C0])J0[C0]+=(t()<<w)*D0;else J0[C0]=f<<w,m=0;break;case 4:if(J0[C0])J0[C0]+=(t()<<w)*D0;break}H0++}if(m===4){if(D--,D===0)m=0}}function a(Z0,J0,H0,j0,P0){var C0=H0/b|0,D0=H0%b,Y0=C0*Z0.v+j0,R0=D0*Z0.h+P0;if(Z0.blocks[Y0]===void 0&&j.tolerantDecoding)return;J0(Z0,Z0.blocks[Y0][R0])}function $0(Z0,J0,H0){var j0=H0/Z0.blocksPerLine|0,P0=H0%Z0.blocksPerLine;if(Z0.blocks[j0]===void 0&&j.tolerantDecoding)return;J0(Z0,Z0.blocks[j0][P0])}var Q0=z.length,W0,r,G0,K0,q0,V0;if(y)if(P===0)V0=k===0?A:I;else V0=k===0?c:i;else V0=F;var U0=0,N0,A0;if(Q0==1)A0=z[0].blocksPerLine*z[0].blocksPerColumn;else A0=b*X.mcusPerColumn;if(!N)N=A0;var z0,X0;while(U0<A0){for(r=0;r<Q0;r++)z[r].pred=0;if(D=0,Q0==1){W0=z[0];for(q0=0;q0<N;q0++)$0(W0,V0,U0),U0++}else for(q0=0;q0<N;q0++){for(r=0;r<Q0;r++){W0=z[r],z0=W0.h,X0=W0.v;for(G0=0;G0<X0;G0++)for(K0=0;K0<z0;K0++)a(W0,V0,U0,G0,K0)}if(U0++,U0===A0)break}if(U0===A0)do{if(T[L]===255){if(T[L+1]!==0)break}L+=1}while(L<T.length-2);if(o=0,N0=T[L]<<8|T[L+1],N0<65280)throw new Error("marker was not found");if(N0>=65488&&N0<=65495)L+=2;else break}return L-n}function O(T,L){var X=[],z=L.blocksPerLine,N=L.blocksPerColumn,P=z<<3,S=new Int32Array(64),k=new Uint8Array(64);function w(n,e,o){var t=L.quantizationTable,d,h,u,F,A,I,D,c,m,f=o,i;for(i=0;i<64;i++)f[i]=n[i]*t[i];for(i=0;i<8;++i){var a=8*i;if(f[1+a]==0&&f[2+a]==0&&f[3+a]==0&&f[4+a]==0&&f[5+a]==0&&f[6+a]==0&&f[7+a]==0){m=q*f[0+a]+512>>10,f[0+a]=m,f[1+a]=m,f[2+a]=m,f[3+a]=m,f[4+a]=m,f[5+a]=m,f[6+a]=m,f[7+a]=m;continue}d=q*f[0+a]+128>>8,h=q*f[4+a]+128>>8,u=f[2+a],F=f[6+a],A=V*(f[1+a]-f[7+a])+128>>8,c=V*(f[1+a]+f[7+a])+128>>8,I=f[3+a]<<4,D=f[5+a]<<4,m=d-h+1>>1,d=d+h+1>>1,h=m,m=u*H+F*G+128>>8,u=u*G-F*H+128>>8,F=m,m=A-D+1>>1,A=A+D+1>>1,D=m,m=c+I+1>>1,I=c-I+1>>1,c=m,m=d-F+1>>1,d=d+F+1>>1,F=m,m=h-u+1>>1,h=h+u+1>>1,u=m,m=A*Y+c*Q+2048>>12,A=A*Q-c*Y+2048>>12,c=m,m=I*Z+D*K+2048>>12,I=I*K-D*Z+2048>>12,D=m,f[0+a]=d+c,f[7+a]=d-c,f[1+a]=h+D,f[6+a]=h-D,f[2+a]=u+I,f[5+a]=u-I,f[3+a]=F+A,f[4+a]=F-A}for(i=0;i<8;++i){var $0=i;if(f[8+$0]==0&&f[16+$0]==0&&f[24+$0]==0&&f[32+$0]==0&&f[40+$0]==0&&f[48+$0]==0&&f[56+$0]==0){m=q*o[i+0]+8192>>14,f[0+$0]=m,f[8+$0]=m,f[16+$0]=m,f[24+$0]=m,f[32+$0]=m,f[40+$0]=m,f[48+$0]=m,f[56+$0]=m;continue}d=q*f[0+$0]+2048>>12,h=q*f[32+$0]+2048>>12,u=f[16+$0],F=f[48+$0],A=V*(f[8+$0]-f[56+$0])+2048>>12,c=V*(f[8+$0]+f[56+$0])+2048>>12,I=f[24+$0],D=f[40+$0],m=d-h+1>>1,d=d+h+1>>1,h=m,m=u*H+F*G+2048>>12,u=u*G-F*H+2048>>12,F=m,m=A-D+1>>1,A=A+D+1>>1,D=m,m=c+I+1>>1,I=c-I+1>>1,c=m,m=d-F+1>>1,d=d+F+1>>1,F=m,m=h-u+1>>1,h=h+u+1>>1,u=m,m=A*Y+c*Q+2048>>12,A=A*Q-c*Y+2048>>12,c=m,m=I*Z+D*K+2048>>12,I=I*K-D*Z+2048>>12,D=m,f[0+$0]=d+c,f[56+$0]=d-c,f[8+$0]=h+D,f[48+$0]=h-D,f[16+$0]=u+I,f[40+$0]=u-I,f[24+$0]=F+A,f[32+$0]=F-A}for(i=0;i<64;++i){var Q0=128+(f[i]+8>>4);e[i]=Q0<0?0:Q0>255?255:Q0}}E(P*N*8);var j,v;for(var _=0;_<N;_++){var x=_<<3;for(j=0;j<8;j++)X.push(new Uint8Array(P));for(var b=0;b<z;b++){w(L.blocks[_][b],k,S);var y=0,p=b<<3;for(v=0;v<8;v++){var g=X[x+v];for(j=0;j<8;j++)g[p+j]=k[y++]}}}return X}function B(T){return T<0?0:T>255?255:T}W.prototype={load:function T(L){var X=new XMLHttpRequest;X.open("GET",L,!0),X.responseType="arraybuffer",X.onload=function(){var z=new Uint8Array(X.response||X.mozResponseArrayBuffer);if(this.parse(z),this.onload)this.onload()}.bind(this),X.send(null)},parse:function T(L){var X=this.opts.maxResolutionInMP*1000*1000,z=0,N=L.length;function P(){var Y0=L[z]<<8|L[z+1];return z+=2,Y0}function S(){var Y0=P(),R0=L.subarray(z,z+Y0-2);return z+=R0.length,R0}function k(Y0){var R0=1,B0=1,L0,I0;for(I0 in Y0.components)if(Y0.components.hasOwnProperty(I0)){if(L0=Y0.components[I0],R0<L0.h)R0=L0.h;if(B0<L0.v)B0=L0.v}var g0=Math.ceil(Y0.samplesPerLine/8/R0),M0=Math.ceil(Y0.scanLines/8/B0);for(I0 in Y0.components)if(Y0.components.hasOwnProperty(I0)){L0=Y0.components[I0];var x0=Math.ceil(Math.ceil(Y0.samplesPerLine/8)*L0.h/R0),b0=Math.ceil(Math.ceil(Y0.scanLines/8)*L0.v/B0),$8=g0*L0.h,s0=M0*L0.v,G8=s0*$8,C8=[];E(G8*256);for(var k8=0;k8<s0;k8++){var p8=[];for(var v8=0;v8<$8;v8++)p8.push(new Int32Array(64));C8.push(p8)}L0.blocksPerLine=x0,L0.blocksPerColumn=b0,L0.blocks=C8}Y0.maxH=R0,Y0.maxV=B0,Y0.mcusPerLine=g0,Y0.mcusPerColumn=M0}var w=null,j=null,v=null,_,x,b=[],y=[],p=[],g=[],n=P(),e=-1;if(this.comments=[],n!=65496)throw new Error("SOI not found");n=P();while(n!=65497){var o,t,d;switch(n){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var h=S();if(n===65534){var u=String.fromCharCode.apply(null,h);this.comments.push(u)}if(n===65504){if(h[0]===74&&h[1]===70&&h[2]===73&&h[3]===70&&h[4]===0)w={version:{major:h[5],minor:h[6]},densityUnits:h[7],xDensity:h[8]<<8|h[9],yDensity:h[10]<<8|h[11],thumbWidth:h[12],thumbHeight:h[13],thumbData:h.subarray(14,14+3*h[12]*h[13])}}if(n===65505){if(h[0]===69&&h[1]===120&&h[2]===105&&h[3]===102&&h[4]===0)this.exifBuffer=h.subarray(5,h.length)}if(n===65518){if(h[0]===65&&h[1]===100&&h[2]===111&&h[3]===98&&h[4]===101&&h[5]===0)j={version:h[6],flags0:h[7]<<8|h[8],flags1:h[9]<<8|h[10],transformCode:h[11]}}break;case 65499:var F=P(),A=F+z-2;while(z<A){var I=L[z++];E(256);var D=new Int32Array(64);if(I>>4===0)for(t=0;t<64;t++){var c=J[t];D[c]=L[z++]}else if(I>>4===1)for(t=0;t<64;t++){var c=J[t];D[c]=P()}else throw new Error("DQT: invalid table spec");b[I&15]=D}break;case 65472:case 65473:case 65474:P(),_={},_.extended=n===65473,_.progressive=n===65474,_.precision=L[z++],_.scanLines=P(),_.samplesPerLine=P(),_.components={},_.componentsOrder=[];var m=_.scanLines*_.samplesPerLine;if(m>X){var f=Math.ceil((m-X)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${f}MP`)}var i=L[z++],a,$0=0,Q0=0;for(o=0;o<i;o++){a=L[z];var W0=L[z+1]>>4,r=L[z+1]&15,G0=L[z+2];if(W0<=0||r<=0)throw new Error("Invalid sampling factor, expected values above 0");_.componentsOrder.push(a),_.components[a]={h:W0,v:r,quantizationIdx:G0},z+=3}k(_),y.push(_);break;case 65476:var K0=P();for(o=2;o<K0;){var q0=L[z++],V0=new Uint8Array(16),U0=0;for(t=0;t<16;t++,z++)U0+=V0[t]=L[z];E(16+U0);var N0=new Uint8Array(U0);for(t=0;t<U0;t++,z++)N0[t]=L[z];o+=17+U0,(q0>>4===0?g:p)[q0&15]=U(V0,N0)}break;case 65501:P(),x=P();break;case 65500:P(),P();break;case 65498:var A0=P(),z0=L[z++],X0=[],Z0;for(o=0;o<z0;o++){Z0=_.components[L[z++]];var J0=L[z++];Z0.huffmanTableDC=g[J0>>4],Z0.huffmanTableAC=p[J0&15],X0.push(Z0)}var H0=L[z++],j0=L[z++],P0=L[z++],C0=R(L,z,_,X0,x,H0,j0,P0>>4,P0&15,this.opts);z+=C0;break;case 65535:if(L[z]!==255)z--;break;default:if(L[z-3]==255&&L[z-2]>=192&&L[z-2]<=254){z-=3;break}else if(n===224||n==225){if(e!==-1)throw new Error(`first unknown JPEG marker at offset ${e.toString(16)}, second unknown JPEG marker ${n.toString(16)} at offset ${(z-1).toString(16)}`);e=z-1;const Y0=P();if(L[z+Y0-2]===255){z+=Y0-2;break}}throw new Error("unknown JPEG marker "+n.toString(16))}n=P()}if(y.length!=1)throw new Error("only single frame JPEGs supported");for(var o=0;o<y.length;o++){var D0=y[o].components;for(var t in D0)D0[t].quantizationTable=b[D0[t].quantizationIdx],delete D0[t].quantizationIdx}this.width=_.samplesPerLine,this.height=_.scanLines,this.jfif=w,this.adobe=j,this.components=[];for(var o=0;o<_.componentsOrder.length;o++){var Z0=_.components[_.componentsOrder[o]];this.components.push({lines:O(_,Z0),scaleX:Z0.h/_.maxH,scaleY:Z0.v/_.maxV})}},getData:function T(L,X){var z=this.width/L,N=this.height/X,P,S,k,w,j,v,_,x,b,y,p=0,g,n,e,o,t,d,h,u,F,A,I,D=L*X*this.components.length;E(D);var c=new Uint8Array(D);switch(this.components.length){case 1:P=this.components[0];for(y=0;y<X;y++){j=P.lines[0|y*P.scaleY*N];for(b=0;b<L;b++)g=j[0|b*P.scaleX*z],c[p++]=g}break;case 2:P=this.components[0],S=this.components[1];for(y=0;y<X;y++){j=P.lines[0|y*P.scaleY*N],v=S.lines[0|y*S.scaleY*N];for(b=0;b<L;b++)g=j[0|b*P.scaleX*z],c[p++]=g,g=v[0|b*S.scaleX*z],c[p++]=g}break;case 3:if(I=!0,this.adobe&&this.adobe.transformCode)I=!0;else if(typeof this.opts.colorTransform!=="undefined")I=!!this.opts.colorTransform;P=this.components[0],S=this.components[1],k=this.components[2];for(y=0;y<X;y++){j=P.lines[0|y*P.scaleY*N],v=S.lines[0|y*S.scaleY*N],_=k.lines[0|y*k.scaleY*N];for(b=0;b<L;b++){if(!I)u=j[0|b*P.scaleX*z],F=v[0|b*S.scaleX*z],A=_[0|b*k.scaleX*z];else g=j[0|b*P.scaleX*z],n=v[0|b*S.scaleX*z],e=_[0|b*k.scaleX*z],u=B(g+1.402*(e-128)),F=B(g-0.3441363*(n-128)-0.71413636*(e-128)),A=B(g+1.772*(n-128));c[p++]=u,c[p++]=F,c[p++]=A}}break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");if(I=!1,this.adobe&&this.adobe.transformCode)I=!0;else if(typeof this.opts.colorTransform!=="undefined")I=!!this.opts.colorTransform;P=this.components[0],S=this.components[1],k=this.components[2],w=this.components[3];for(y=0;y<X;y++){j=P.lines[0|y*P.scaleY*N],v=S.lines[0|y*S.scaleY*N],_=k.lines[0|y*k.scaleY*N],x=w.lines[0|y*w.scaleY*N];for(b=0;b<L;b++){if(!I)t=j[0|b*P.scaleX*z],d=v[0|b*S.scaleX*z],h=_[0|b*k.scaleX*z],o=x[0|b*w.scaleX*z];else g=j[0|b*P.scaleX*z],n=v[0|b*S.scaleX*z],e=_[0|b*k.scaleX*z],o=x[0|b*w.scaleX*z],t=255-B(g+1.402*(e-128)),d=255-B(g-0.3441363*(n-128)-0.71413636*(e-128)),h=255-B(g+1.772*(n-128));c[p++]=255-t,c[p++]=255-d,c[p++]=255-h,c[p++]=255-o}}break;default:throw new Error("Unsupported color mode")}return c},copyToImageData:function T(L,X){var{width:z,height:N,data:P}=L,S=this.getData(z,N),k=0,w=0,j,v,_,x,b,y,p,g,n;switch(this.components.length){case 1:for(v=0;v<N;v++)for(j=0;j<z;j++)if(_=S[k++],P[w++]=_,P[w++]=_,P[w++]=_,X)P[w++]=255;break;case 3:for(v=0;v<N;v++)for(j=0;j<z;j++)if(p=S[k++],g=S[k++],n=S[k++],P[w++]=p,P[w++]=g,P[w++]=n,X)P[w++]=255;break;case 4:for(v=0;v<N;v++)for(j=0;j<z;j++)if(b=S[k++],y=S[k++],_=S[k++],x=S[k++],p=255-B(b*(1-x/255)+x),g=255-B(y*(1-x/255)+x),n=255-B(_*(1-x/255)+x),P[w++]=p,P[w++]=g,P[w++]=n,X)P[w++]=255;break;default:throw new Error("Unsupported color mode")}}};var M=0,C=0;function E(T=0){var L=M+T;if(L>C){var X=Math.ceil((L-C)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${X}MB`)}M=L}return W.resetMaxMemoryUsage=function(T){M=0,C=T},W.getBytesAllocated=function(){return M},W.requestMemoryAllocation=E,W}();if(typeof K7!=="undefined")K7.exports=HQ;else if(typeof window!=="undefined")window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].decode=HQ});var WQ=l((VS,VQ)=>{var hP=GQ(),bP=qQ();VQ.exports={encode:hP,decode:bP}});var OQ=l((g1,Q7)=>{var uP=function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(g1,"__esModule",{value:!0});g1.default=void 0;var UQ=uP(WQ()),Z7=h0(),x1="image/jpeg",mP=()=>({mime:{[x1]:["jpeg","jpg","jpe"]},constants:{MIME_JPEG:x1},decoders:{[x1]:UQ.default.decode},encoders:{[x1]:($)=>UQ.default.encode($.bitmap,$._quality).data},class:{_quality:100,quality($,J){if(typeof $!=="number")return Z7.throwError.call(this,"n must be a number",J);if($<0||$>100)return Z7.throwError.call(this,"n must be a number 0 - 100",J);if(this._quality=Math.round($),Z7.isNodePattern(J))J.call(this,null,this);return this}}});g1.default=mP;Q7.exports=g1.default;Q7.exports.default=g1.default});var Y7=l((WS,NQ)=>{var fP=import.meta.require("util"),zQ=import.meta.require("stream"),S8=NQ.exports=function(){zQ.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};fP.inherits(S8,zQ);S8.prototype.read=function($,J){this._reads.push({length:Math.abs($),allowLess:$<0,func:J}),process.nextTick(function(){if(this._process(),this._paused&&this._reads&&this._reads.length>0)this._paused=!1,this.emit("drain")}.bind(this))};S8.prototype.write=function($,J){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let K;if(Buffer.isBuffer($))K=$;else K=Buffer.from($,J||this._encoding);if(this._buffers.push(K),this._buffered+=K.length,this._process(),this._reads&&this._reads.length===0)this._paused=!0;return this.writable&&!this._paused};S8.prototype.end=function($,J){if($)this.write($,J);if(this.writable=!1,!this._buffers)return;if(this._buffers.length===0)this._end();else this._buffers.push(null),this._process()};S8.prototype.destroySoon=S8.prototype.end;S8.prototype._end=function(){if(this._reads.length>0)this.emit("error",new Error("Unexpected end of input"));this.destroy()};S8.prototype.destroy=function(){if(!this._buffers)return;this.writable=!1,this._reads=null,this._buffers=null,this.emit("close")};S8.prototype._processReadAllowingLess=function($){this._reads.shift();let J=this._buffers[0];if(J.length>$.length)this._buffered-=$.length,this._buffers[0]=J.slice($.length),$.func.call(this,J.slice(0,$.length));else this._buffered-=J.length,this._buffers.shift(),$.func.call(this,J)};S8.prototype._processRead=function($){this._reads.shift();let J=0,K=0,Z=Buffer.alloc($.length);while(J<$.length){let Q=this._buffers[K++],Y=Math.min(Q.length,$.length-J);if(Q.copy(Z,J,0,Y),J+=Y,Y!==Q.length)this._buffers[--K]=Q.slice(Y)}if(K>0)this._buffers.splice(0,K);this._buffered-=$.length,$.func.call(this,Z)};S8.prototype._process=function(){try{while(this._buffered>0&&this._reads&&this._reads.length>0){let $=this._reads[0];if($.allowLess)this._processReadAllowingLess($);else if(this._buffered>=$.length)this._processRead($);else break}if(this._buffers&&!this.writable)this._end()}catch($){this.emit("error",$)}}});var G7=l((cP)=>{var Y5=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];cP.getImagePasses=function($,J){let K=[],Z=$%8,Q=J%8,Y=($-Z)/8,G=(J-Q)/8;for(let H=0;H<Y5.length;H++){let q=Y5[H],V=Y*q.x.length,W=G*q.y.length;for(let U=0;U<q.x.length;U++)if(q.x[U]<Z)V++;else break;for(let U=0;U<q.y.length;U++)if(q.y[U]<Q)W++;else break;if(V>0&&W>0)K.push({width:V,height:W,index:H})}return K};cP.getInterlaceIterator=function($){return function(J,K,Z){let Q=J%Y5[Z].x.length,Y=(J-Q)/Y5[Z].x.length*8+Y5[Z].x[Q],G=K%Y5[Z].y.length,H=(K-G)/Y5[Z].y.length*8+Y5[Z].y[G];return Y*4+H*$*4}}});var H7=l((RS,PQ)=>{PQ.exports=function $(J,K,Z){let Q=J+K-Z,Y=Math.abs(Q-J),G=Math.abs(Q-K),H=Math.abs(Q-Z);if(Y<=G&&Y<=H)return J;if(G<=H)return K;return Z}});var q7=l((OS,BQ)=>{var AQ=function($,J,K){let Z=$*J;if(K!==8)Z=Math.ceil(Z/(8/K));return Z},lP=G7(),nP=H7(),n5=BQ.exports=function($,J){let{width:K,height:Z,interlace:Q,bpp:Y,depth:G}=$;if(this.read=J.read,this.write=J.write,this.complete=J.complete,this._imageIndex=0,this._images=[],Q){let H=lP.getImagePasses(K,Z);for(let q=0;q<H.length;q++)this._images.push({byteWidth:AQ(H[q].width,Y,G),height:H[q].height,lineIndex:0})}else this._images.push({byteWidth:AQ(K,Y,G),height:Z,lineIndex:0});if(G===8)this._xComparison=Y;else if(G===16)this._xComparison=Y*2;else this._xComparison=1};n5.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))};n5.prototype._unFilterType1=function($,J,K){let Z=this._xComparison,Q=Z-1;for(let Y=0;Y<K;Y++){let G=$[1+Y],H=Y>Q?J[Y-Z]:0;J[Y]=G+H}};n5.prototype._unFilterType2=function($,J,K){let Z=this._lastLine;for(let Q=0;Q<K;Q++){let Y=$[1+Q],G=Z?Z[Q]:0;J[Q]=Y+G}};n5.prototype._unFilterType3=function($,J,K){let Z=this._xComparison,Q=Z-1,Y=this._lastLine;for(let G=0;G<K;G++){let H=$[1+G],q=Y?Y[G]:0,V=G>Q?J[G-Z]:0,W=Math.floor((V+q)/2);J[G]=H+W}};n5.prototype._unFilterType4=function($,J,K){let Z=this._xComparison,Q=Z-1,Y=this._lastLine;for(let G=0;G<K;G++){let H=$[1+G],q=Y?Y[G]:0,V=G>Q?J[G-Z]:0,W=G>Q&&Y?Y[G-Z]:0,U=nP(V,q,W);J[G]=H+U}};n5.prototype._reverseFilterLine=function($){let J=$[0],K,Z=this._images[this._imageIndex],Q=Z.byteWidth;if(J===0)K=$.slice(1,Q+1);else switch(K=Buffer.alloc(Q),J){case 1:this._unFilterType1($,K,Q);break;case 2:this._unFilterType2($,K,Q);break;case 3:this._unFilterType3($,K,Q);break;case 4:this._unFilterType4($,K,Q);break;default:throw new Error("Unrecognised filter type - "+J)}if(this.write(K),Z.lineIndex++,Z.lineIndex>=Z.height)this._lastLine=null,this._imageIndex++,Z=this._images[this._imageIndex];else this._lastLine=K;if(Z)this.read(Z.byteWidth+1,this._reverseFilterLine.bind(this));else this._lastLine=null,this.complete()}});var EQ=l((zS,XQ)=>{var iP=import.meta.require("util"),FQ=Y7(),oP=q7(),rP=XQ.exports=function($){FQ.call(this);let J=[],K=this;this._filter=new oP($,{read:this.read.bind(this),write:function(Z){J.push(Z)},complete:function(){K.emit("complete",Buffer.concat(J))}}),this._filter.start()};iP.inherits(rP,FQ)});var i5=l((NS,CQ)=>{CQ.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}});var U7=l((PS,LQ)=>{var V7=[];(function(){for(let $=0;$<256;$++){let J=$;for(let K=0;K<8;K++)if(J&1)J=3988292384^J>>>1;else J=J>>>1;V7[$]=J}})();var W7=LQ.exports=function(){this._crc=-1};W7.prototype.write=function($){for(let J=0;J<$.length;J++)this._crc=V7[(this._crc^$[J])&255]^this._crc>>>8;return!0};W7.prototype.crc32=function(){return this._crc^-1};W7.crc32=function($){let J=-1;for(let K=0;K<$.length;K++)J=V7[(J^$[K])&255]^J>>>8;return J^-1}});var R7=l((AS,MQ)=>{var i0=i5(),sP=U7(),r0=MQ.exports=function($,J){this._options=$,$.checkCRC=$.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[i0.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[i0.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[i0.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[i0.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[i0.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[i0.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=J.read,this.error=J.error,this.metadata=J.metadata,this.gamma=J.gamma,this.transColor=J.transColor,this.palette=J.palette,this.parsed=J.parsed,this.inflateData=J.inflateData,this.finished=J.finished,this.simpleTransparency=J.simpleTransparency,this.headersFinished=J.headersFinished||function(){}};r0.prototype.start=function(){this.read(i0.PNG_SIGNATURE.length,this._parseSignature.bind(this))};r0.prototype._parseSignature=function($){let J=i0.PNG_SIGNATURE;for(let K=0;K<J.length;K++)if($[K]!==J[K]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))};r0.prototype._parseChunkBegin=function($){let J=$.readUInt32BE(0),K=$.readUInt32BE(4),Z="";for(let Y=4;Y<8;Y++)Z+=String.fromCharCode($[Y]);let Q=Boolean($[4]&32);if(!this._hasIHDR&&K!==i0.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new sP,this._crc.write(Buffer.from(Z)),this._chunks[K])return this._chunks[K](J);if(!Q){this.error(new Error("Unsupported critical chunk type "+Z));return}this.read(J+4,this._skipChunk.bind(this))};r0.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))};r0.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))};r0.prototype._parseChunkEnd=function($){let J=$.readInt32BE(0),K=this._crc.crc32();if(this._options.checkCRC&&K!==J){this.error(new Error("Crc error - "+J+" - "+K));return}if(!this._hasIEND)this.read(8,this._parseChunkBegin.bind(this))};r0.prototype._handleIHDR=function($){this.read($,this._parseIHDR.bind(this))};r0.prototype._parseIHDR=function($){this._crc.write($);let J=$.readUInt32BE(0),K=$.readUInt32BE(4),Z=$[8],Q=$[9],Y=$[10],G=$[11],H=$[12];if(Z!==8&&Z!==4&&Z!==2&&Z!==1&&Z!==16){this.error(new Error("Unsupported bit depth "+Z));return}if(!(Q in i0.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(Y!==0){this.error(new Error("Unsupported compression method"));return}if(G!==0){this.error(new Error("Unsupported filter method"));return}if(H!==0&&H!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=Q;let q=i0.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:J,height:K,depth:Z,interlace:Boolean(H),palette:Boolean(Q&i0.COLORTYPE_PALETTE),color:Boolean(Q&i0.COLORTYPE_COLOR),alpha:Boolean(Q&i0.COLORTYPE_ALPHA),bpp:q,colorType:Q}),this._handleChunkEnd()};r0.prototype._handlePLTE=function($){this.read($,this._parsePLTE.bind(this))};r0.prototype._parsePLTE=function($){this._crc.write($);let J=Math.floor($.length/3);for(let K=0;K<J;K++)this._palette.push([$[K*3],$[K*3+1],$[K*3+2],255]);this.palette(this._palette),this._handleChunkEnd()};r0.prototype._handleTRNS=function($){this.simpleTransparency(),this.read($,this._parseTRNS.bind(this))};r0.prototype._parseTRNS=function($){if(this._crc.write($),this._colorType===i0.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if($.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(let J=0;J<$.length;J++)this._palette[J][3]=$[J];this.palette(this._palette)}if(this._colorType===i0.COLORTYPE_GRAYSCALE)this.transColor([$.readUInt16BE(0)]);if(this._colorType===i0.COLORTYPE_COLOR)this.transColor([$.readUInt16BE(0),$.readUInt16BE(2),$.readUInt16BE(4)]);this._handleChunkEnd()};r0.prototype._handleGAMA=function($){this.read($,this._parseGAMA.bind(this))};r0.prototype._parseGAMA=function($){this._crc.write($),this.gamma($.readUInt32BE(0)/i0.GAMMA_DIVISION),this._handleChunkEnd()};r0.prototype._handleIDAT=function($){if(!this._emittedHeadersFinished)this._emittedHeadersFinished=!0,this.headersFinished();this.read(-$,this._parseIDAT.bind(this,$))};r0.prototype._parseIDAT=function($,J){if(this._crc.write(J),this._colorType===i0.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(J);let K=$-J.length;if(K>0)this._handleIDAT(K);else this._handleChunkEnd()};r0.prototype._handleIEND=function($){this.read($,this._parseIEND.bind(this))};r0.prototype._parseIEND=function($){if(this._crc.write($),this._hasIEND=!0,this._handleChunkEnd(),this.finished)this.finished()}});var O7=l((KA)=>{var eP=function($,J){let K=[],Z=0;function Q(){if(Z===$.length)throw new Error("Ran out of data");let Y=$[Z];Z++;let G,H,q,V,W,U,R,O;switch(J){default:throw new Error("unrecognised depth");case 16:R=$[Z],Z++,K.push((Y<<8)+R);break;case 4:R=Y&15,O=Y>>4,K.push(O,R);break;case 2:W=Y&3,U=Y>>2&3,R=Y>>4&3,O=Y>>6&3,K.push(O,R,U,W);break;case 1:G=Y&1,H=Y>>1&1,q=Y>>2&1,V=Y>>3&1,W=Y>>4&1,U=Y>>5&1,R=Y>>6&1,O=Y>>7&1,K.push(O,R,U,W,V,q,H,G);break}}return{get:function(Y){while(K.length<Y)Q();let G=K.slice(0,Y);return K=K.slice(Y),G},resetAfterLine:function(){K.length=0},end:function(){if(Z!==$.length)throw new Error("extra data found")}}},$A=function($,J,K,Z,Q,Y){let{width:G,height:H,index:q}=$;for(let V=0;V<H;V++)for(let W=0;W<G;W++){let U=K(W,V,q);aP[Z](J,Q,U,Y),Y+=Z}return Y},JA=function($,J,K,Z,Q,Y){let{width:G,height:H,index:q}=$;for(let V=0;V<H;V++){for(let W=0;W<G;W++){let U=Q.get(Z),R=K(W,V,q);tP[Z](J,U,R,Y)}Q.resetAfterLine()}},SQ=G7(),aP=[function(){},function($,J,K,Z){if(Z===J.length)throw new Error("Ran out of data");let Q=J[Z];$[K]=Q,$[K+1]=Q,$[K+2]=Q,$[K+3]=255},function($,J,K,Z){if(Z+1>=J.length)throw new Error("Ran out of data");let Q=J[Z];$[K]=Q,$[K+1]=Q,$[K+2]=Q,$[K+3]=J[Z+1]},function($,J,K,Z){if(Z+2>=J.length)throw new Error("Ran out of data");$[K]=J[Z],$[K+1]=J[Z+1],$[K+2]=J[Z+2],$[K+3]=255},function($,J,K,Z){if(Z+3>=J.length)throw new Error("Ran out of data");$[K]=J[Z],$[K+1]=J[Z+1],$[K+2]=J[Z+2],$[K+3]=J[Z+3]}],tP=[function(){},function($,J,K,Z){let Q=J[0];$[K]=Q,$[K+1]=Q,$[K+2]=Q,$[K+3]=Z},function($,J,K){let Z=J[0];$[K]=Z,$[K+1]=Z,$[K+2]=Z,$[K+3]=J[1]},function($,J,K,Z){$[K]=J[0],$[K+1]=J[1],$[K+2]=J[2],$[K+3]=Z},function($,J,K){$[K]=J[0],$[K+1]=J[1],$[K+2]=J[2],$[K+3]=J[3]}];KA.dataToBitMap=function($,J){let{width:K,height:Z,depth:Q,bpp:Y,interlace:G}=J,H;if(Q!==8)H=eP($,Q);let q;if(Q<=8)q=Buffer.alloc(K*Z*4);else q=new Uint16Array(K*Z*4);let V=Math.pow(2,Q)-1,W=0,U,R;if(G)U=SQ.getImagePasses(K,Z),R=SQ.getInterlaceIterator(K,Z);else{let O=0;R=function(){let B=O;return O+=4,B},U=[{width:K,height:Z}]}for(let O=0;O<U.length;O++)if(Q===8)W=$A(U[O],q,R,Y,$,W);else JA(U[O],q,R,Y,H,V);if(Q===8){if(W!==$.length)throw new Error("extra data found")}else H.end();return q}});var z7=l((FS,jQ)=>{var QA=function($,J,K,Z,Q){let Y=0;for(let G=0;G<Z;G++)for(let H=0;H<K;H++){let q=Q[$[Y]];if(!q)throw new Error("index "+$[Y]+" not in palette");for(let V=0;V<4;V++)J[Y+V]=q[V];Y+=4}},YA=function($,J,K,Z,Q){let Y=0;for(let G=0;G<Z;G++)for(let H=0;H<K;H++){let q=!1;if(Q.length===1){if(Q[0]===$[Y])q=!0}else if(Q[0]===$[Y]&&Q[1]===$[Y+1]&&Q[2]===$[Y+2])q=!0;if(q)for(let V=0;V<4;V++)J[Y+V]=0;Y+=4}},GA=function($,J,K,Z,Q){let Y=255,G=Math.pow(2,Q)-1,H=0;for(let q=0;q<Z;q++)for(let V=0;V<K;V++){for(let W=0;W<4;W++)J[H+W]=Math.floor($[H+W]*Y/G+0.5);H+=4}};jQ.exports=function($,J,K=!1){let{depth:Z,width:Q,height:Y,colorType:G,transColor:H,palette:q}=J,V=$;if(G===3)QA($,V,Q,Y,q);else{if(H)YA($,V,Q,Y,H);if(Z!==8&&!K){if(Z===16)V=Buffer.alloc(Q*Y*4);GA($,V,Q,Y,Z)}}return V}});var wQ=l((XS,TQ)=>{var HA=import.meta.require("util"),N7=import.meta.require("zlib"),IQ=Y7(),qA=EQ(),VA=R7(),WA=O7(),UA=z7(),g8=TQ.exports=function($){IQ.call(this),this._parser=new VA($,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=$,this.writable=!0,this._parser.start()};HA.inherits(g8,IQ);g8.prototype._handleError=function($){if(this.emit("error",$),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy)this._inflate.destroy();if(this._filter)this._filter.destroy(),this._filter.on("error",function(){});this.errord=!0};g8.prototype._inflateData=function($){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=N7.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let K=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,Z=Math.max(K,N7.Z_MIN_CHUNK);this._inflate=N7.createInflate({chunkSize:Z});let Q=K,Y=this.emit.bind(this,"error");this._inflate.on("error",function(H){if(!Q)return;Y(H)}),this._filter.on("complete",this._complete.bind(this));let G=this._filter.write.bind(this._filter);this._inflate.on("data",function(H){if(!Q)return;if(H.length>Q)H=H.slice(0,Q);Q-=H.length,G(H)}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write($)};g8.prototype._handleMetaData=function($){this._metaData=$,this._bitmapInfo=Object.create($),this._filter=new qA(this._bitmapInfo)};g8.prototype._handleTransColor=function($){this._bitmapInfo.transColor=$};g8.prototype._handlePalette=function($){this._bitmapInfo.palette=$};g8.prototype._simpleTransparency=function(){this._metaData.alpha=!0};g8.prototype._headersFinished=function(){this.emit("metadata",this._metaData)};g8.prototype._finished=function(){if(this.errord)return;if(!this._inflate)this.emit("error","No Inflate block");else this._inflate.end()};g8.prototype._complete=function($){if(this.errord)return;let J;try{let K=WA.dataToBitMap($,this._bitmapInfo);J=UA(K,this._bitmapInfo,this._options.skipRescale),K=null}catch(K){this._handleError(K);return}this.emit("parsed",J)}});var kQ=l((ES,DQ)=>{var P8=i5();DQ.exports=function($,J,K,Z){let Q=[P8.COLORTYPE_COLOR_ALPHA,P8.COLORTYPE_ALPHA].indexOf(Z.colorType)!==-1;if(Z.colorType===Z.inputColorType){let B=function(){let M=new ArrayBuffer(2);return new DataView(M).setInt16(0,256,!0),new Int16Array(M)[0]!==256}();if(Z.bitDepth===8||Z.bitDepth===16&&B)return $}let Y=Z.bitDepth!==16?$:new Uint16Array($.buffer),G=255,H=P8.COLORTYPE_TO_BPP_MAP[Z.inputColorType];if(H===4&&!Z.inputHasAlpha)H=3;let q=P8.COLORTYPE_TO_BPP_MAP[Z.colorType];if(Z.bitDepth===16)G=65535,q*=2;let V=Buffer.alloc(J*K*q),W=0,U=0,R=Z.bgColor||{};if(R.red===void 0)R.red=G;if(R.green===void 0)R.green=G;if(R.blue===void 0)R.blue=G;function O(){let B,M,C,E=G;switch(Z.inputColorType){case P8.COLORTYPE_COLOR_ALPHA:E=Y[W+3],B=Y[W],M=Y[W+1],C=Y[W+2];break;case P8.COLORTYPE_COLOR:B=Y[W],M=Y[W+1],C=Y[W+2];break;case P8.COLORTYPE_ALPHA:E=Y[W+1],B=Y[W],M=B,C=B;break;case P8.COLORTYPE_GRAYSCALE:B=Y[W],M=B,C=B;break;default:throw new Error("input color type:"+Z.inputColorType+" is not supported at present")}if(Z.inputHasAlpha){if(!Q)E/=G,B=Math.min(Math.max(Math.round((1-E)*R.red+E*B),0),G),M=Math.min(Math.max(Math.round((1-E)*R.green+E*M),0),G),C=Math.min(Math.max(Math.round((1-E)*R.blue+E*C),0),G)}return{red:B,green:M,blue:C,alpha:E}}for(let B=0;B<K;B++)for(let M=0;M<J;M++){let C=O(Y,W);switch(Z.colorType){case P8.COLORTYPE_COLOR_ALPHA:case P8.COLORTYPE_COLOR:if(Z.bitDepth===8){if(V[U]=C.red,V[U+1]=C.green,V[U+2]=C.blue,Q)V[U+3]=C.alpha}else if(V.writeUInt16BE(C.red,U),V.writeUInt16BE(C.green,U+2),V.writeUInt16BE(C.blue,U+4),Q)V.writeUInt16BE(C.alpha,U+6);break;case P8.COLORTYPE_ALPHA:case P8.COLORTYPE_GRAYSCALE:{let E=(C.red+C.green+C.blue)/3;if(Z.bitDepth===8){if(V[U]=E,Q)V[U+1]=C.alpha}else if(V.writeUInt16BE(E,U),Q)V.writeUInt16BE(C.alpha,U+2);break}default:throw new Error("unrecognised color Type "+Z.colorType)}W+=H,U+=q}return V}});var yQ=l((CS,_Q)=>{var RA=function($,J,K,Z,Q){for(let Y=0;Y<K;Y++)Z[Q+Y]=$[J+Y]},OA=function($,J,K){let Z=0,Q=J+K;for(let Y=J;Y<Q;Y++)Z+=Math.abs($[Y]);return Z},zA=function($,J,K,Z,Q,Y){for(let G=0;G<K;G++){let H=G>=Y?$[J+G-Y]:0,q=$[J+G]-H;Z[Q+G]=q}},NA=function($,J,K,Z){let Q=0;for(let Y=0;Y<K;Y++){let G=Y>=Z?$[J+Y-Z]:0,H=$[J+Y]-G;Q+=Math.abs(H)}return Q},PA=function($,J,K,Z,Q){for(let Y=0;Y<K;Y++){let G=J>0?$[J+Y-K]:0,H=$[J+Y]-G;Z[Q+Y]=H}},AA=function($,J,K){let Z=0,Q=J+K;for(let Y=J;Y<Q;Y++){let G=J>0?$[Y-K]:0,H=$[Y]-G;Z+=Math.abs(H)}return Z},BA=function($,J,K,Z,Q,Y){for(let G=0;G<K;G++){let H=G>=Y?$[J+G-Y]:0,q=J>0?$[J+G-K]:0,V=$[J+G]-(H+q>>1);Z[Q+G]=V}},FA=function($,J,K,Z){let Q=0;for(let Y=0;Y<K;Y++){let G=Y>=Z?$[J+Y-Z]:0,H=J>0?$[J+Y-K]:0,q=$[J+Y]-(G+H>>1);Q+=Math.abs(q)}return Q},XA=function($,J,K,Z,Q,Y){for(let G=0;G<K;G++){let H=G>=Y?$[J+G-Y]:0,q=J>0?$[J+G-K]:0,V=J>0&&G>=Y?$[J+G-(K+Y)]:0,W=$[J+G]-vQ(H,q,V);Z[Q+G]=W}},EA=function($,J,K,Z){let Q=0;for(let Y=0;Y<K;Y++){let G=Y>=Z?$[J+Y-Z]:0,H=J>0?$[J+Y-K]:0,q=J>0&&Y>=Z?$[J+Y-(K+Z)]:0,V=$[J+Y]-vQ(G,H,q);Q+=Math.abs(V)}return Q},vQ=H7(),CA={0:RA,1:zA,2:PA,3:BA,4:XA},LA={0:OA,1:NA,2:AA,3:FA,4:EA};_Q.exports=function($,J,K,Z,Q){let Y;if(!("filterType"in Z)||Z.filterType===-1)Y=[0,1,2,3,4];else if(typeof Z.filterType==="number")Y=[Z.filterType];else throw new Error("unrecognised filter types");if(Z.bitDepth===16)Q*=2;let G=J*Q,H=0,q=0,V=Buffer.alloc((G+1)*K),W=Y[0];for(let U=0;U<K;U++){if(Y.length>1){let R=Infinity;for(let O=0;O<Y.length;O++){let B=LA[Y[O]]($,q,G,Q);if(B<R)W=Y[O],R=B}}V[H]=W,H++,CA[W]($,q,G,V,H,Q),H+=G,q+=G}return V}});var P7=l((LS,xQ)=>{var e0=i5(),MA=U7(),SA=kQ(),jA=yQ(),IA=import.meta.require("zlib"),G5=xQ.exports=function($){if(this._options=$,$.deflateChunkSize=$.deflateChunkSize||32768,$.deflateLevel=$.deflateLevel!=null?$.deflateLevel:9,$.deflateStrategy=$.deflateStrategy!=null?$.deflateStrategy:3,$.inputHasAlpha=$.inputHasAlpha!=null?$.inputHasAlpha:!0,$.deflateFactory=$.deflateFactory||IA.createDeflate,$.bitDepth=$.bitDepth||8,$.colorType=typeof $.colorType==="number"?$.colorType:e0.COLORTYPE_COLOR_ALPHA,$.inputColorType=typeof $.inputColorType==="number"?$.inputColorType:e0.COLORTYPE_COLOR_ALPHA,[e0.COLORTYPE_GRAYSCALE,e0.COLORTYPE_COLOR,e0.COLORTYPE_COLOR_ALPHA,e0.COLORTYPE_ALPHA].indexOf($.colorType)===-1)throw new Error("option color type:"+$.colorType+" is not supported at present");if([e0.COLORTYPE_GRAYSCALE,e0.COLORTYPE_COLOR,e0.COLORTYPE_COLOR_ALPHA,e0.COLORTYPE_ALPHA].indexOf($.inputColorType)===-1)throw new Error("option input color type:"+$.inputColorType+" is not supported at present");if($.bitDepth!==8&&$.bitDepth!==16)throw new Error("option bit depth:"+$.bitDepth+" is not supported at present")};G5.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}};G5.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())};G5.prototype.filterData=function($,J,K){let Z=SA($,J,K,this._options),Q=e0.COLORTYPE_TO_BPP_MAP[this._options.colorType];return jA(Z,J,K,this._options,Q)};G5.prototype._packChunk=function($,J){let K=J?J.length:0,Z=Buffer.alloc(K+12);if(Z.writeUInt32BE(K,0),Z.writeUInt32BE($,4),J)J.copy(Z,8);return Z.writeInt32BE(MA.crc32(Z.slice(4,Z.length-4)),Z.length-4),Z};G5.prototype.packGAMA=function($){let J=Buffer.alloc(4);return J.writeUInt32BE(Math.floor($*e0.GAMMA_DIVISION),0),this._packChunk(e0.TYPE_gAMA,J)};G5.prototype.packIHDR=function($,J){let K=Buffer.alloc(13);return K.writeUInt32BE($,0),K.writeUInt32BE(J,4),K[8]=this._options.bitDepth,K[9]=this._options.colorType,K[10]=0,K[11]=0,K[12]=0,this._packChunk(e0.TYPE_IHDR,K)};G5.prototype.packIDAT=function($){return this._packChunk(e0.TYPE_IDAT,$)};G5.prototype.packIEND=function(){return this._packChunk(e0.TYPE_IEND,null)}});var uQ=l((MS,bQ)=>{var TA=import.meta.require("util"),gQ=import.meta.require("stream"),wA=i5(),DA=P7(),hQ=bQ.exports=function($){gQ.call(this);let J=$||{};this._packer=new DA(J),this._deflate=this._packer.createDeflate(),this.readable=!0};TA.inherits(hQ,gQ);hQ.prototype.pack=function($,J,K,Z){if(this.emit("data",Buffer.from(wA.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(J,K)),Z)this.emit("data",this._packer.packGAMA(Z));let Q=this._packer.filterData($,J,K);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(Y){this.emit("data",this._packer.packIDAT(Y))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(Q)}});var lQ=l((j6,pQ)=>{var T5=function($){if(!(this instanceof T5))return new T5($);if($&&$.chunkSize<o5.Z_MIN_CHUNK)$.chunkSize=o5.Z_MIN_CHUNK;if(o5.Inflate.call(this,$),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,$&&$.maxLength!=null)this._maxLength=$.maxLength},vA=function($){return new T5($)},cQ=function($,J){if(J)process.nextTick(J);if(!$._handle)return;$._handle.close(),$._handle=null},_A=function($,J){if(typeof J==="string")J=Buffer.from(J);if(!(J instanceof Buffer))throw new TypeError("Not a string or buffer");let K=$._finishFlushFlag;if(K==null)K=o5.Z_FINISH;return $._processChunk(J,K)},dQ=function($,J){return _A(new T5(J),$)},mQ=import.meta.require("assert").ok,o5=import.meta.require("zlib"),kA=import.meta.require("util"),fQ=import.meta.require("buffer").kMaxLength;T5.prototype._processChunk=function($,J,K){if(typeof K==="function")return o5.Inflate._processChunk.call(this,$,J,K);let Z=this,Q=$&&$.length,Y=this._chunkSize-this._offset,G=this._maxLength,H=0,q=[],V=0,W;this.on("error",function(B){W=B});function U(B,M){if(Z._hadError)return;let C=Y-M;if(mQ(C>=0,"have should not go down"),C>0){let E=Z._buffer.slice(Z._offset,Z._offset+C);if(Z._offset+=C,E.length>G)E=E.slice(0,G);if(q.push(E),V+=E.length,G-=E.length,G===0)return!1}if(M===0||Z._offset>=Z._chunkSize)Y=Z._chunkSize,Z._offset=0,Z._buffer=Buffer.allocUnsafe(Z._chunkSize);if(M===0)return H+=Q-B,Q=B,!0;return!1}mQ(this._handle,"zlib binding closed");let R;do R=this._handle.writeSync(J,$,H,Q,this._buffer,this._offset,Y),R=R||this._writeState;while(!this._hadError&&U(R[0],R[1]));if(this._hadError)throw W;if(V>=fQ)throw cQ(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+fQ.toString(16)+" bytes");let O=Buffer.concat(q,V);return cQ(this),O};kA.inherits(T5,o5.Inflate);pQ.exports=j6=dQ;j6.Inflate=T5;j6.createInflate=vA;j6.inflateSync=dQ});var A7=l((SS,iQ)=>{var nQ=iQ.exports=function($){this._buffer=$,this._reads=[]};nQ.prototype.read=function($,J){this._reads.push({length:Math.abs($),allowLess:$<0,func:J})};nQ.prototype.process=function(){while(this._reads.length>0&&this._buffer.length){let $=this._reads[0];if(this._buffer.length&&(this._buffer.length>=$.length||$.allowLess)){this._reads.shift();let J=this._buffer;this._buffer=J.slice($.length),$.func.call(this,J.slice(0,$.length))}else break}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}});var oQ=l((gA)=>{var yA=A7(),xA=q7();gA.process=function($,J){let K=[],Z=new yA($);return new xA(J,{read:Z.read.bind(Z),write:function(Y){K.push(Y)},complete:function(){}}).start(),Z.process(),Buffer.concat(K)}});var tQ=l((IS,aQ)=>{var rQ=!0,sQ=import.meta.require("zlib"),bA=lQ();if(!sQ.deflateSync)rQ=!1;var uA=A7(),mA=oQ(),fA=R7(),cA=O7(),dA=z7();aQ.exports=function($,J){if(!rQ)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let K;function Z(X){K=X}let Q;function Y(X){Q=X}function G(X){Q.transColor=X}function H(X){Q.palette=X}function q(){Q.alpha=!0}let V;function W(X){V=X}let U=[];function R(X){U.push(X)}let O=new uA($);if(new fA(J,{read:O.read.bind(O),error:Z,metadata:Y,gamma:W,palette:H,transColor:G,inflateData:R,simpleTransparency:q}).start(),O.process(),K)throw K;let M=Buffer.concat(U);U.length=0;let C;if(Q.interlace)C=sQ.inflateSync(M);else{let z=((Q.width*Q.bpp*Q.depth+7>>3)+1)*Q.height;C=bA(M,{chunkSize:z,maxLength:z})}if(M=null,!C||!C.length)throw new Error("bad png - invalid inflate data response");let E=mA.process(C,Q);M=null;let T=cA.dataToBitMap(E,Q);E=null;let L=dA(T,Q,J.skipRescale);return Q.data=L,Q.gamma=V||0,Q}});var KY=l((TS,JY)=>{var eQ=!0,$Y=import.meta.require("zlib");if(!$Y.deflateSync)eQ=!1;var pA=i5(),lA=P7();JY.exports=function($,J){if(!eQ)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let Z=new lA(J||{}),Q=[];if(Q.push(Buffer.from(pA.PNG_SIGNATURE)),Q.push(Z.packIHDR($.width,$.height)),$.gamma)Q.push(Z.packGAMA($.gamma));let Y=Z.filterData($.data,$.width,$.height),G=$Y.deflateSync(Y,Z.getDeflateOptions());if(Y=null,!G||!G.length)throw new Error("bad png - invalid compressed data response");return Q.push(Z.packIDAT(G)),Q.push(Z.packIEND()),Buffer.concat(Q)}});var ZY=l((oA)=>{var nA=tQ(),iA=KY();oA.read=function($,J){return nA($,J||{})};oA.write=function($,J){return iA($,J)}});var YY=l((JB)=>{var aA=import.meta.require("util"),QY=import.meta.require("stream"),tA=wQ(),eA=uQ(),$B=ZY(),J8=JB.PNG=function($){if(QY.call(this),$=$||{},this.width=$.width|0,this.height=$.height|0,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,$.fill&&this.data)this.data.fill(0);this.gamma=0,this.readable=this.writable=!0,this._parser=new tA($),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(J){this.data=J,this.emit("parsed",J)}.bind(this)),this._packer=new eA($),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};aA.inherits(J8,QY);J8.sync=$B;J8.prototype.pack=function(){if(!this.data||!this.data.length)return this.emit("error","No data provided"),this;return process.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this};J8.prototype.parse=function($,J){if(J){let K,Z;K=function(Q){this.removeListener("error",Z),this.data=Q,J(null,this)}.bind(this),Z=function(Q){this.removeListener("parsed",K),J(Q,null)}.bind(this),this.once("parsed",K),this.once("error",Z)}return this.end($),this};J8.prototype.write=function($){return this._parser.write($),!0};J8.prototype.end=function($){this._parser.end($)};J8.prototype._metadata=function($){this.width=$.width,this.height=$.height,this.emit("metadata",$)};J8.prototype._gamma=function($){this.gamma=$};J8.prototype._handleClose=function(){if(!this._parser.writable&&!this._packer.readable)this.emit("close")};J8.bitblt=function($,J,K,Z,Q,Y,G,H){if(K|=0,Z|=0,Q|=0,Y|=0,G|=0,H|=0,K>$.width||Z>$.height||K+Q>$.width||Z+Y>$.height)throw new Error("bitblt reading outside image");if(G>J.width||H>J.height||G+Q>J.width||H+Y>J.height)throw new Error("bitblt writing outside image");for(let q=0;q<Y;q++)$.data.copy(J.data,(H+q)*J.width+G<<2,(Z+q)*$.width+K<<2,(Z+q)*$.width+K+Q<<2)};J8.prototype.bitblt=function($,J,K,Z,Q,Y,G){return J8.bitblt(this,$,J,K,Z,Q,Y,G),this};J8.adjustGamma=function($){if($.gamma){for(let J=0;J<$.height;J++)for(let K=0;K<$.width;K++){let Z=$.width*J+K<<2;for(let Q=0;Q<3;Q++){let Y=$.data[Z+Q]/255;Y=Math.pow(Y,0.45454545454545453/$.gamma),$.data[Z+Q]=Math.round(Y*255)}}$.gamma=0}};J8.prototype.adjustGamma=function(){J8.adjustGamma(this)}});var qY=l((h1,F7)=>{Object.defineProperty(h1,"__esModule",{value:!0});h1.default=void 0;var B7=YY(),A8=h0(),I6="image/png",GY=-1,KB=0,ZB=1,QB=2,YB=3,GB=4,HB=()=>({mime:{[I6]:["png"]},constants:{MIME_PNG:I6,PNG_FILTER_AUTO:GY,PNG_FILTER_NONE:KB,PNG_FILTER_SUB:ZB,PNG_FILTER_UP:QB,PNG_FILTER_AVERAGE:YB,PNG_FILTER_PATH:GB},hasAlpha:{[I6]:!0},decoders:{[I6]:B7.PNG.sync.read},encoders:{[I6]($){const J=new B7.PNG({width:$.bitmap.width,height:$.bitmap.height});return J.data=$.bitmap.data,B7.PNG.sync.write(J,{deflateLevel:$._deflateLevel,deflateStrategy:$._deflateStrategy,filterType:$._filterType,colorType:typeof $._colorType==="number"?$._colorType:$._rgba?6:2,inputHasAlpha:$._rgba})}},class:{_deflateLevel:9,_deflateStrategy:3,_filterType:GY,_colorType:null,deflateLevel($,J){if(typeof $!=="number")return A8.throwError.call(this,"l must be a number",J);if($<0||$>9)return A8.throwError.call(this,"l must be a number 0 - 9",J);if(this._deflateLevel=Math.round($),A8.isNodePattern(J))J.call(this,null,this);return this},deflateStrategy($,J){if(typeof $!=="number")return A8.throwError.call(this,"s must be a number",J);if($<0||$>3)return A8.throwError.call(this,"s must be a number 0 - 3",J);if(this._deflateStrategy=Math.round($),A8.isNodePattern(J))J.call(this,null,this);return this},filterType($,J){if(typeof $!=="number")return A8.throwError.call(this,"n must be a number",J);if($<-1||$>4)return A8.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",J);if(this._filterType=Math.round($),A8.isNodePattern(J))J.call(this,null,this);return this},colorType($,J){if(typeof $!=="number")return A8.throwError.call(this,"s must be a number",J);if($!==0&&$!==2&&$!==4&&$!==6)return A8.throwError.call(this,"s must be a number 0, 2, 4, 6.",J);if(this._colorType=Math.round($),A8.isNodePattern(J))J.call(this,null,this);return this}}});h1.default=HB;F7.exports=h1.default;F7.exports.default=h1.default});var UY=l((vS,WY)=>{var VY=function($){this.buffer=$.data,this.width=$.width,this.height=$.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0};VY.prototype.encode=function(){var $=new Buffer(this.offset+this.rgbSize);this.pos=0,$.write(this.flag,this.pos,2),this.pos+=2,$.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,$.writeUInt32LE(this.reserved,this.pos),this.pos+=4,$.writeUInt32LE(this.offset,this.pos),this.pos+=4,$.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,$.writeUInt32LE(this.width,this.pos),this.pos+=4,$.writeInt32LE(-this.height,this.pos),this.pos+=4,$.writeUInt16LE(this.planes,this.pos),this.pos+=2,$.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,$.writeUInt32LE(this.compress,this.pos),this.pos+=4,$.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,$.writeUInt32LE(this.hr,this.pos),this.pos+=4,$.writeUInt32LE(this.vr,this.pos),this.pos+=4,$.writeUInt32LE(this.colors,this.pos),this.pos+=4,$.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;var J=0,K=3*this.width+this.extraBytes;for(var Z=0;Z<this.height;Z++){for(var Q=0;Q<this.width;Q++){var Y=this.pos+Z*K+Q*3;J++,$[Y]=this.buffer[J++],$[Y+1]=this.buffer[J++],$[Y+2]=this.buffer[J++]}if(this.extraBytes>0){var G=this.pos+Z*K+this.width*3;$.fill(0,G,G+this.extraBytes)}}return $};WY.exports=function($,J){if(typeof J==="undefined")J=100;var K=new VY($),Z=K.encode();return{data:Z,width:$.width,height:$.height}}});var OY=l((_S,RY)=>{var j8=function($,J){if(this.pos=0,this.buffer=$,this.is_with_alpha=!!J,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!="BM")throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()};j8.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.bitPP===16&&this.is_with_alpha)this.bitPP=15;if(this.bitPP<15){var $=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array($);for(var J=0;J<$;J++){var K=this.buffer.readUInt8(this.pos++),Z=this.buffer.readUInt8(this.pos++),Q=this.buffer.readUInt8(this.pos++),Y=this.buffer.readUInt8(this.pos++);this.palette[J]={red:Q,green:Z,blue:K,quad:Y}}}if(this.height<0)this.height*=-1,this.bottom_up=!1};j8.prototype.parseRGBA=function(){var $="bit"+this.bitPP,J=this.width*this.height*4;this.data=new Buffer(J),this[$]()};j8.prototype.bit1=function(){var $=Math.ceil(this.width/8),J=$%4,K=this.height>=0?this.height-1:-this.height;for(var K=this.height-1;K>=0;K--){var Z=this.bottom_up?K:this.height-1-K;for(var Q=0;Q<$;Q++){var Y=this.buffer.readUInt8(this.pos++),G=Z*this.width*4+Q*8*4;for(var H=0;H<8;H++)if(Q*8+H<this.width){var q=this.palette[Y>>7-H&1];this.data[G+H*4]=0,this.data[G+H*4+1]=q.blue,this.data[G+H*4+2]=q.green,this.data[G+H*4+3]=q.red}else break}if(J!=0)this.pos+=4-J}};j8.prototype.bit4=function(){if(this.compress==2){let C=function(E){var T=this.palette[E];this.data[$]=0,this.data[$+1]=T.blue,this.data[$+2]=T.green,this.data[$+3]=T.red,$+=4};var M=C;this.data.fill(255);var $=0,J=this.bottom_up?this.height-1:0,K=!1;while($<this.data.length){var Z=this.buffer.readUInt8(this.pos++),Q=this.buffer.readUInt8(this.pos++);if(Z==0)if(Q==0){if(this.bottom_up)J--;else J++;$=J*this.width*4,K=!1;continue}else if(Q==1)break;else if(Q==2){var Y=this.buffer.readUInt8(this.pos++),G=this.buffer.readUInt8(this.pos++);if(this.bottom_up)J-=G;else J+=G;$+=G*this.width*4+Y*4}else{var H=this.buffer.readUInt8(this.pos++);for(var q=0;q<Q;q++){if(K)C.call(this,H&15);else C.call(this,(H&240)>>4);if(q&1&&q+1<Q)H=this.buffer.readUInt8(this.pos++);K=!K}if((Q+1>>1&1)==1)this.pos++}else for(var q=0;q<Z;q++){if(K)C.call(this,Q&15);else C.call(this,(Q&240)>>4);K=!K}}}else{var V=Math.ceil(this.width/2),W=V%4;for(var G=this.height-1;G>=0;G--){var U=this.bottom_up?G:this.height-1-G;for(var Y=0;Y<V;Y++){var Q=this.buffer.readUInt8(this.pos++),$=U*this.width*4+Y*2*4,R=Q>>4,O=Q&15,B=this.palette[R];if(this.data[$]=0,this.data[$+1]=B.blue,this.data[$+2]=B.green,this.data[$+3]=B.red,Y*2+1>=this.width)break;B=this.palette[O],this.data[$+4]=0,this.data[$+4+1]=B.blue,this.data[$+4+2]=B.green,this.data[$+4+3]=B.red}if(W!=0)this.pos+=4-W}}};j8.prototype.bit8=function(){if(this.compress==1){let R=function(O){var B=this.palette[O];this.data[$]=0,this.data[$+1]=B.blue,this.data[$+2]=B.green,this.data[$+3]=B.red,$+=4};var U=R;this.data.fill(255);var $=0,J=this.bottom_up?this.height-1:0;while($<this.data.length){var K=this.buffer.readUInt8(this.pos++),Z=this.buffer.readUInt8(this.pos++);if(K==0)if(Z==0){if(this.bottom_up)J--;else J++;$=J*this.width*4;continue}else if(Z==1)break;else if(Z==2){var Q=this.buffer.readUInt8(this.pos++),Y=this.buffer.readUInt8(this.pos++);if(this.bottom_up)J-=Y;else J+=Y;$+=Y*this.width*4+Q*4}else{for(var G=0;G<Z;G++){var H=this.buffer.readUInt8(this.pos++);R.call(this,H)}if(Z&!0)this.pos++}else for(var G=0;G<K;G++)R.call(this,Z)}}else{var q=this.width%4;for(var Y=this.height-1;Y>=0;Y--){var V=this.bottom_up?Y:this.height-1-Y;for(var Q=0;Q<this.width;Q++){var Z=this.buffer.readUInt8(this.pos++),$=V*this.width*4+Q*4;if(Z<this.palette.length){var W=this.palette[Z];this.data[$]=0,this.data[$+1]=W.blue,this.data[$+2]=W.green,this.data[$+3]=W.red}else this.data[$]=0,this.data[$+1]=255,this.data[$+2]=255,this.data[$+3]=255}if(q!=0)this.pos+=4-q}}};j8.prototype.bit15=function(){var $=this.width%3,J=parseInt("11111",2),K=J;for(var Z=this.height-1;Z>=0;Z--){var Q=this.bottom_up?Z:this.height-1-Z;for(var Y=0;Y<this.width;Y++){var G=this.buffer.readUInt16LE(this.pos);this.pos+=2;var H=(G&K)/K*255|0,q=(G>>5&K)/K*255|0,V=(G>>10&K)/K*255|0,W=G>>15?255:0,U=Q*this.width*4+Y*4;this.data[U]=W,this.data[U+1]=H,this.data[U+2]=q,this.data[U+3]=V}this.pos+=$}};j8.prototype.bit16=function(){var $=this.width%2*2;if(this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,this.compress==3)this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;var J=[0,0,0];for(var K=0;K<16;K++){if(this.maskRed>>K&1)J[0]++;if(this.maskGreen>>K&1)J[1]++;if(this.maskBlue>>K&1)J[2]++}J[1]+=J[0],J[2]+=J[1],J[0]=8-J[0],J[1]-=8,J[2]-=8;for(var Z=this.height-1;Z>=0;Z--){var Q=this.bottom_up?Z:this.height-1-Z;for(var Y=0;Y<this.width;Y++){var G=this.buffer.readUInt16LE(this.pos);this.pos+=2;var H=(G&this.maskBlue)<<J[0],q=(G&this.maskGreen)>>J[1],V=(G&this.maskRed)>>J[2],W=Q*this.width*4+Y*4;this.data[W]=0,this.data[W+1]=H,this.data[W+2]=q,this.data[W+3]=V}this.pos+=$}};j8.prototype.bit24=function(){for(var $=this.height-1;$>=0;$--){var J=this.bottom_up?$:this.height-1-$;for(var K=0;K<this.width;K++){var Z=this.buffer.readUInt8(this.pos++),Q=this.buffer.readUInt8(this.pos++),Y=this.buffer.readUInt8(this.pos++),G=J*this.width*4+K*4;this.data[G]=0,this.data[G+1]=Z,this.data[G+2]=Q,this.data[G+3]=Y}this.pos+=this.width%4}};j8.prototype.bit32=function(){if(this.compress==3){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var $=this.height-1;$>=0;$--){var J=this.bottom_up?$:this.height-1-$;for(var K=0;K<this.width;K++){var Z=this.buffer.readUInt8(this.pos++),Q=this.buffer.readUInt8(this.pos++),Y=this.buffer.readUInt8(this.pos++),G=this.buffer.readUInt8(this.pos++),H=J*this.width*4+K*4;this.data[H]=Z,this.data[H+1]=Q,this.data[H+2]=Y,this.data[H+3]=G}}}else for(var $=this.height-1;$>=0;$--){var J=this.bottom_up?$:this.height-1-$;for(var K=0;K<this.width;K++){var Q=this.buffer.readUInt8(this.pos++),Y=this.buffer.readUInt8(this.pos++),G=this.buffer.readUInt8(this.pos++),Z=this.buffer.readUInt8(this.pos++),H=J*this.width*4+K*4;this.data[H]=Z,this.data[H+1]=Q,this.data[H+2]=Y,this.data[H+3]=G}}};j8.prototype.getData=function(){return this.data};RY.exports=function($){var J=new j8($);return J}});var NY=l((yS,zY)=>{var qB=UY(),VB=OY();zY.exports={encode:qB,decode:VB}});var EY=l((u1,E7)=>{var WB=function($){return $&&$.__esModule?$:{default:$}},UB=function($){return FY.scan($,0,0,$.bitmap.width,$.bitmap.height,function(J,K,Z){const Q=this.bitmap.data[Z+0],Y=this.bitmap.data[Z+1],G=this.bitmap.data[Z+2],H=this.bitmap.data[Z+3];this.bitmap.data[Z+0]=H,this.bitmap.data[Z+1]=G,this.bitmap.data[Z+2]=Y,this.bitmap.data[Z+3]=Q}).bitmap},RB=function($){return FY.scan({bitmap:$},0,0,$.width,$.height,function(J,K,Z){const Q=this.bitmap.data[Z+0],Y=this.bitmap.data[Z+1],G=this.bitmap.data[Z+2],H=this.bitmap.data[Z+3];this.bitmap.data[Z+0]=H,this.bitmap.data[Z+1]=G,this.bitmap.data[Z+2]=Y,this.bitmap.data[Z+3]=$.is_with_alpha?Q:255}).bitmap};Object.defineProperty(u1,"__esModule",{value:!0});u1.default=void 0;var BY=WB(NY()),FY=h0(),b1="image/bmp",X7="image/x-ms-bmp",PY=($)=>RB(BY.default.decode($)),AY=($)=>BY.default.encode(UB($)).data,OB=()=>({mime:{[b1]:["bmp"]},constants:{MIME_BMP:b1,MIME_X_MS_BMP:X7},decoders:{[b1]:PY,[X7]:PY},encoders:{[b1]:AY,[X7]:AY}});u1.default=OB;E7.exports=u1.default;E7.exports.default=u1.default});var r8=l((C7)=>{var BB=function($,J){return Object.prototype.hasOwnProperty.call($,J)},AB=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";C7.assign=function($){var J=Array.prototype.slice.call(arguments,1);while(J.length){var K=J.shift();if(!K)continue;if(typeof K!=="object")throw new TypeError(K+"must be non-object");for(var Z in K)if(BB(K,Z))$[Z]=K[Z]}return $};C7.shrinkBuf=function($,J){if($.length===J)return $;if($.subarray)return $.subarray(0,J);return $.length=J,$};var FB={arraySet:function($,J,K,Z,Q){if(J.subarray&&$.subarray){$.set(J.subarray(K,K+Z),Q);return}for(var Y=0;Y<Z;Y++)$[Q+Y]=J[K+Y]},flattenChunks:function($){var J,K,Z,Q,Y,G;Z=0;for(J=0,K=$.length;J<K;J++)Z+=$[J].length;G=new Uint8Array(Z),Q=0;for(J=0,K=$.length;J<K;J++)Y=$[J],G.set(Y,Q),Q+=Y.length;return G}},XB={arraySet:function($,J,K,Z,Q){for(var Y=0;Y<Z;Y++)$[Q+Y]=J[K+Y]},flattenChunks:function($){return[].concat.apply([],$)}};C7.setTyped=function($){if($)C7.Buf8=Uint8Array,C7.Buf16=Uint16Array,C7.Buf32=Int32Array,C7.assign(C7,FB);else C7.Buf8=Array,C7.Buf16=Array,C7.Buf32=Array,C7.assign(C7,XB)};C7.setTyped(AB)});var lY=l((dB)=>{var s5=function($){var J=$.length;while(--J>=0)$[J]=0},S7=function($,J,K,Z,Q){this.static_tree=$,this.extra_bits=J,this.extra_base=K,this.elems=Z,this.max_length=Q,this.has_stree=$&&$.length},j7=function($,J){this.dyn_tree=$,this.max_code=0,this.stat_desc=J},uY=function($){return $<256?D6[$]:D6[256+($>>>7)]},v6=function($,J){$.pending_buf[$.pending++]=J&255,$.pending_buf[$.pending++]=J>>>8&255},H8=function($,J,K){if($.bi_valid>M7-K)$.bi_buf|=J<<$.bi_valid&65535,v6($,$.bi_buf),$.bi_buf=J>>M7-$.bi_valid,$.bi_valid+=K-M7;else $.bi_buf|=J<<$.bi_valid&65535,$.bi_valid+=K},h8=function($,J,K){H8($,K[J*2],K[J*2+1])},mY=function($,J){var K=0;do K|=$&1,$>>>=1,K<<=1;while(--J>0);return K>>>1},vB=function($){if($.bi_valid===16)v6($,$.bi_buf),$.bi_buf=0,$.bi_valid=0;else if($.bi_valid>=8)$.pending_buf[$.pending++]=$.bi_buf&255,$.bi_buf>>=8,$.bi_valid-=8},_B=function($,J){var{dyn_tree:K,max_code:Z}=J,Q=J.stat_desc.static_tree,Y=J.stat_desc.has_stree,G=J.stat_desc.extra_bits,H=J.stat_desc.extra_base,q=J.stat_desc.max_length,V,W,U,R,O,B,M=0;for(R=0;R<=w5;R++)$.bl_count[R]=0;K[$.heap[$.heap_max]*2+1]=0;for(V=$.heap_max+1;V<kY;V++){if(W=$.heap[V],R=K[K[W*2+1]*2+1]+1,R>q)R=q,M++;if(K[W*2+1]=R,W>Z)continue;if($.bl_count[R]++,O=0,W>=H)O=G[W-H];if(B=K[W*2],$.opt_len+=B*(R+O),Y)$.static_len+=B*(Q[W*2+1]+O)}if(M===0)return;do{R=q-1;while($.bl_count[R]===0)R--;$.bl_count[R]--,$.bl_count[R+1]+=2,$.bl_count[q]--,M-=2}while(M>0);for(R=q;R!==0;R--){W=$.bl_count[R];while(W!==0){if(U=$.heap[--V],U>Z)continue;if(K[U*2+1]!==R)$.opt_len+=(R-K[U*2+1])*K[U*2],K[U*2+1]=R;W--}}},fY=function($,J,K){var Z=new Array(w5+1),Q=0,Y,G;for(Y=1;Y<=w5;Y++)Z[Y]=Q=Q+K[Y-1]<<1;for(G=0;G<=J;G++){var H=$[G*2+1];if(H===0)continue;$[G*2]=mY(Z[H]++,H)}},yB=function(){var $,J,K,Z,Q,Y=new Array(w5+1);K=0;for(Z=0;Z<D7-1;Z++){_7[Z]=K;for($=0;$<1<<T7[Z];$++)k6[K++]=Z}k6[K-1]=Z,Q=0;for(Z=0;Z<16;Z++){f1[Z]=Q;for($=0;$<1<<m1[Z];$++)D6[Q++]=Z}Q>>=7;for(;Z<r5;Z++){f1[Z]=Q<<7;for($=0;$<1<<m1[Z]-7;$++)D6[256+Q++]=Z}for(J=0;J<=w5;J++)Y[J]=0;$=0;while($<=143)s8[$*2+1]=8,$++,Y[8]++;while($<=255)s8[$*2+1]=9,$++,Y[9]++;while($<=279)s8[$*2+1]=7,$++,Y[7]++;while($<=287)s8[$*2+1]=8,$++,Y[8]++;fY(s8,w6+1,Y);for($=0;$<r5;$++)T6[$*2+1]=5,T6[$*2]=mY($,5);gY=new S7(s8,T7,_6+1,w6,w5),hY=new S7(T6,m1,0,r5,w5),bY=new S7(new Array(0),DB,0,k7,wB)},cY=function($){var J;for(J=0;J<w6;J++)$.dyn_ltree[J*2]=0;for(J=0;J<r5;J++)$.dyn_dtree[J*2]=0;for(J=0;J<k7;J++)$.bl_tree[J*2]=0;$.dyn_ltree[v7*2]=1,$.opt_len=$.static_len=0,$.last_lit=$.matches=0},dY=function($){if($.bi_valid>8)v6($,$.bi_buf);else if($.bi_valid>0)$.pending_buf[$.pending++]=$.bi_buf;$.bi_buf=0,$.bi_valid=0},xB=function($,J,K,Z){if(dY($),Z)v6($,K),v6($,~K);CB.arraySet($.pending_buf,$.window,J,K,$.pending),$.pending+=K},SY=function($,J,K,Z){var Q=J*2,Y=K*2;return $[Q]<$[Y]||$[Q]===$[Y]&&Z[J]<=Z[K]},I7=function($,J,K){var Z=$.heap[K],Q=K<<1;while(Q<=$.heap_len){if(Q<$.heap_len&&SY(J,$.heap[Q+1],$.heap[Q],$.depth))Q++;if(SY(J,Z,$.heap[Q],$.depth))break;$.heap[K]=$.heap[Q],K=Q,Q<<=1}$.heap[K]=Z},jY=function($,J,K){var Z,Q,Y=0,G,H;if($.last_lit!==0)do if(Z=$.pending_buf[$.d_buf+Y*2]<<8|$.pending_buf[$.d_buf+Y*2+1],Q=$.pending_buf[$.l_buf+Y],Y++,Z===0)h8($,Q,J);else{if(G=k6[Q],h8($,G+_6+1,J),H=T7[G],H!==0)Q-=_7[G],H8($,Q,H);if(Z--,G=uY(Z),h8($,G,K),H=m1[G],H!==0)Z-=f1[G],H8($,Z,H)}while(Y<$.last_lit);h8($,v7,J)},w7=function($,J){var K=J.dyn_tree,Z=J.stat_desc.static_tree,Q=J.stat_desc.has_stree,Y=J.stat_desc.elems,G,H,q=-1,V;$.heap_len=0,$.heap_max=kY;for(G=0;G<Y;G++)if(K[G*2]!==0)$.heap[++$.heap_len]=q=G,$.depth[G]=0;else K[G*2+1]=0;while($.heap_len<2)if(V=$.heap[++$.heap_len]=q<2?++q:0,K[V*2]=1,$.depth[V]=0,$.opt_len--,Q)$.static_len-=Z[V*2+1];J.max_code=q;for(G=$.heap_len>>1;G>=1;G--)I7($,K,G);V=Y;do G=$.heap[1],$.heap[1]=$.heap[$.heap_len--],I7($,K,1),H=$.heap[1],$.heap[--$.heap_max]=G,$.heap[--$.heap_max]=H,K[V*2]=K[G*2]+K[H*2],$.depth[V]=($.depth[G]>=$.depth[H]?$.depth[G]:$.depth[H])+1,K[G*2+1]=K[H*2+1]=V,$.heap[1]=V++,I7($,K,1);while($.heap_len>=2);$.heap[--$.heap_max]=$.heap[1],_B($,J),fY(K,q,$.bl_count)},IY=function($,J,K){var Z,Q=-1,Y,G=J[1],H=0,q=7,V=4;if(G===0)q=138,V=3;J[(K+1)*2+1]=65535;for(Z=0;Z<=K;Z++){if(Y=G,G=J[(Z+1)*2+1],++H<q&&Y===G)continue;else if(H<V)$.bl_tree[Y*2]+=H;else if(Y!==0){if(Y!==Q)$.bl_tree[Y*2]++;$.bl_tree[vY*2]++}else if(H<=10)$.bl_tree[_Y*2]++;else $.bl_tree[yY*2]++;if(H=0,Q=Y,G===0)q=138,V=3;else if(Y===G)q=6,V=3;else q=7,V=4}},TY=function($,J,K){var Z,Q=-1,Y,G=J[1],H=0,q=7,V=4;if(G===0)q=138,V=3;for(Z=0;Z<=K;Z++){if(Y=G,G=J[(Z+1)*2+1],++H<q&&Y===G)continue;else if(H<V)do h8($,Y,$.bl_tree);while(--H!==0);else if(Y!==0){if(Y!==Q)h8($,Y,$.bl_tree),H--;h8($,vY,$.bl_tree),H8($,H-3,2)}else if(H<=10)h8($,_Y,$.bl_tree),H8($,H-3,3);else h8($,yY,$.bl_tree),H8($,H-11,7);if(H=0,Q=Y,G===0)q=138,V=3;else if(Y===G)q=6,V=3;else q=7,V=4}},gB=function($){var J;IY($,$.dyn_ltree,$.l_desc.max_code),IY($,$.dyn_dtree,$.d_desc.max_code),w7($,$.bl_desc);for(J=k7-1;J>=3;J--)if($.bl_tree[xY[J]*2+1]!==0)break;return $.opt_len+=3*(J+1)+5+5+4,J},hB=function($,J,K,Z){var Q;H8($,J-257,5),H8($,K-1,5),H8($,Z-4,4);for(Q=0;Q<Z;Q++)H8($,$.bl_tree[xY[Q]*2+1],3);TY($,$.dyn_ltree,J-1),TY($,$.dyn_dtree,K-1)},bB=function($){var J=4093624447,K;for(K=0;K<=31;K++,J>>>=1)if(J&1&&$.dyn_ltree[K*2]!==0)return LY;if($.dyn_ltree[18]!==0||$.dyn_ltree[20]!==0||$.dyn_ltree[26]!==0)return MY;for(K=32;K<_6;K++)if($.dyn_ltree[K*2]!==0)return MY;return LY},uB=function($){if(!wY)yB(),wY=!0;$.l_desc=new j7($.dyn_ltree,gY),$.d_desc=new j7($.dyn_dtree,hY),$.bl_desc=new j7($.bl_tree,bY),$.bi_buf=0,$.bi_valid=0,cY($)},pY=function($,J,K,Z){H8($,(SB<<1)+(Z?1:0),3),xB($,J,K,!0)},mB=function($){H8($,DY<<1,3),h8($,v7,s8),vB($)},fB=function($,J,K,Z){var Q,Y,G=0;if($.level>0){if($.strm.data_type===MB)$.strm.data_type=bB($);if(w7($,$.l_desc),w7($,$.d_desc),G=gB($),Q=$.opt_len+3+7>>>3,Y=$.static_len+3+7>>>3,Y<=Q)Q=Y}else Q=Y=K+5;if(K+4<=Q&&J!==-1)pY($,J,K,Z);else if($.strategy===LB||Y===Q)H8($,(DY<<1)+(Z?1:0),3),jY($,s8,T6);else H8($,(jB<<1)+(Z?1:0),3),hB($,$.l_desc.max_code+1,$.d_desc.max_code+1,G+1),jY($,$.dyn_ltree,$.dyn_dtree);if(cY($),Z)dY($)},cB=function($,J,K){if($.pending_buf[$.d_buf+$.last_lit*2]=J>>>8&255,$.pending_buf[$.d_buf+$.last_lit*2+1]=J&255,$.pending_buf[$.l_buf+$.last_lit]=K&255,$.last_lit++,J===0)$.dyn_ltree[K*2]++;else $.matches++,J--,$.dyn_ltree[(k6[K]+_6+1)*2]++,$.dyn_dtree[uY(J)*2]++;return $.last_lit===$.lit_bufsize-1},CB=r8(),LB=4,LY=0,MY=1,MB=2,SB=0,DY=1,jB=2,IB=3,TB=258,D7=29,_6=256,w6=_6+1+D7,r5=30,k7=19,kY=2*w6+1,w5=15,M7=16,wB=7,v7=256,vY=16,_Y=17,yY=18,T7=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],m1=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],DB=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],xY=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],kB=512,s8=new Array((w6+2)*2);s5(s8);var T6=new Array(r5*2);s5(T6);var D6=new Array(kB);s5(D6);var k6=new Array(TB-IB+1);s5(k6);var _7=new Array(D7);s5(_7);var f1=new Array(r5);s5(f1);var gY,hY,bY,wY=!1;dB._tr_init=uB;dB._tr_stored_block=pY;dB._tr_flush_block=fB;dB._tr_tally=cB;dB._tr_align=mB});var y7=l((hS,nY)=>{var rB=function($,J,K,Z){var Q=$&65535|0,Y=$>>>16&65535|0,G=0;while(K!==0){G=K>2000?2000:K,K-=G;do Q=Q+J[Z++]|0,Y=Y+Q|0;while(--G);Q%=65521,Y%=65521}return Q|Y<<16|0};nY.exports=rB});var x7=l((bS,iY)=>{var sB=function(){var $,J=[];for(var K=0;K<256;K++){$=K;for(var Z=0;Z<8;Z++)$=$&1?3988292384^$>>>1:$>>>1;J[K]=$}return J},tB=function($,J,K,Z){var Q=aB,Y=Z+K;$^=-1;for(var G=Z;G<Y;G++)$=$>>>8^Q[($^J[G])&255];return $^-1},aB=sB();iY.exports=tB});var c1=l((uS,oY)=>{oY.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var ZG=l((k3)=>{var U5=function($,J){return $.msg=eB[J],J},aY=function($){return($<<1)-($>4?9:0)},V5=function($){var J=$.length;while(--J>=0)$[J]=0},q5=function($){var J=$.state,K=J.pending;if(K>$.avail_out)K=$.avail_out;if(K===0)return;if(K8.arraySet($.output,J.pending_buf,J.pending_out,K,$.next_out),$.next_out+=K,J.pending_out+=K,$.total_out+=K,$.avail_out-=K,J.pending-=K,J.pending===0)J.pending_out=0},a0=function($,J){B8._tr_flush_block($,$.block_start>=0?$.block_start:-1,$.strstart-$.block_start,J),$.block_start=$.strstart,q5($.strm)},y0=function($,J){$.pending_buf[$.pending++]=J},y6=function($,J){$.pending_buf[$.pending++]=J>>>8&255,$.pending_buf[$.pending++]=J&255},X3=function($,J,K,Z){var Q=$.avail_in;if(Q>Z)Q=Z;if(Q===0)return 0;if($.avail_in-=Q,K8.arraySet(J,$.input,$.next_in,Q,K),$.state.wrap===1)$.adler=tY($.adler,J,Q,K);else if($.state.wrap===2)$.adler=H5($.adler,J,Q,K);return $.next_in+=Q,$.total_in+=Q,Q},eY=function($,J){var{max_chain_length:K,strstart:Z}=$,Q,Y,G=$.prev_length,H=$.nice_match,q=$.strstart>$.w_size-I8?$.strstart-($.w_size-I8):0,V=$.window,W=$.w_mask,U=$.prev,R=$.strstart+W5,O=V[Z+G-1],B=V[Z+G];if($.prev_length>=$.good_match)K>>=2;if(H>$.lookahead)H=$.lookahead;do{if(Q=J,V[Q+G]!==B||V[Q+G-1]!==O||V[Q]!==V[Z]||V[++Q]!==V[Z+1])continue;Z+=2,Q++;do;while(V[++Z]===V[++Q]&&V[++Z]===V[++Q]&&V[++Z]===V[++Q]&&V[++Z]===V[++Q]&&V[++Z]===V[++Q]&&V[++Z]===V[++Q]&&V[++Z]===V[++Q]&&V[++Z]===V[++Q]&&Z<R);if(Y=W5-(R-Z),Z=R-W5,Y>G){if($.match_start=J,G=Y,Y>=H)break;O=V[Z+G-1],B=V[Z+G]}}while((J=U[J&W])>q&&--K!==0);if(G<=$.lookahead)return G;return $.lookahead},v5=function($){var J=$.w_size,K,Z,Q,Y,G;do{if(Y=$.window_size-$.lookahead-$.strstart,$.strstart>=J+(J-I8)){K8.arraySet($.window,$.window,J,J,0),$.match_start-=J,$.strstart-=J,$.block_start-=J,Z=$.hash_size,K=Z;do Q=$.head[--K],$.head[K]=Q>=J?Q-J:0;while(--Z);Z=J,K=Z;do Q=$.prev[--K],$.prev[K]=Q>=J?Q-J:0;while(--Z);Y+=J}if($.strm.avail_in===0)break;if(Z=X3($.strm,$.window,$.strstart+$.lookahead,Y),$.lookahead+=Z,$.lookahead+$.insert>=v0){G=$.strstart-$.insert,$.ins_h=$.window[G],$.ins_h=($.ins_h<<$.hash_shift^$.window[G+1])&$.hash_mask;while($.insert)if($.ins_h=($.ins_h<<$.hash_shift^$.window[G+v0-1])&$.hash_mask,$.prev[G&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=G,G++,$.insert--,$.lookahead+$.insert<v0)break}}while($.lookahead<I8&&$.strm.avail_in!==0)},E3=function($,J){var K=65535;if(K>$.pending_buf_size-5)K=$.pending_buf_size-5;for(;;){if($.lookahead<=1){if(v5($),$.lookahead===0&&J===_5)return o0;if($.lookahead===0)break}$.strstart+=$.lookahead,$.lookahead=0;var Z=$.block_start+K;if($.strstart===0||$.strstart>=Z){if($.lookahead=$.strstart-Z,$.strstart=Z,a0($,!1),$.strm.avail_out===0)return o0}if($.strstart-$.block_start>=$.w_size-I8){if(a0($,!1),$.strm.avail_out===0)return o0}}if($.insert=0,J===R5){if(a0($,!0),$.strm.avail_out===0)return k5;return e5}if($.strstart>$.block_start){if(a0($,!1),$.strm.avail_out===0)return o0}return o0},h7=function($,J){var K,Z;for(;;){if($.lookahead<I8){if(v5($),$.lookahead<I8&&J===_5)return o0;if($.lookahead===0)break}if(K=0,$.lookahead>=v0)$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+v0-1])&$.hash_mask,K=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart;if(K!==0&&$.strstart-K<=$.w_size-I8)$.match_length=eY($,K);if($.match_length>=v0)if(Z=B8._tr_tally($,$.strstart-$.match_start,$.match_length-v0),$.lookahead-=$.match_length,$.match_length<=$.max_lazy_match&&$.lookahead>=v0){$.match_length--;do $.strstart++,$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+v0-1])&$.hash_mask,K=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart;while(--$.match_length!==0);$.strstart++}else $.strstart+=$.match_length,$.match_length=0,$.ins_h=$.window[$.strstart],$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+1])&$.hash_mask;else Z=B8._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++;if(Z){if(a0($,!1),$.strm.avail_out===0)return o0}}if($.insert=$.strstart<v0-1?$.strstart:v0-1,J===R5){if(a0($,!0),$.strm.avail_out===0)return k5;return e5}if($.last_lit){if(a0($,!1),$.strm.avail_out===0)return o0}return g6},a5=function($,J){var K,Z,Q;for(;;){if($.lookahead<I8){if(v5($),$.lookahead<I8&&J===_5)return o0;if($.lookahead===0)break}if(K=0,$.lookahead>=v0)$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+v0-1])&$.hash_mask,K=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart;if($.prev_length=$.match_length,$.prev_match=$.match_start,$.match_length=v0-1,K!==0&&$.prev_length<$.max_lazy_match&&$.strstart-K<=$.w_size-I8){if($.match_length=eY($,K),$.match_length<=5&&($.strategy===Q3||$.match_length===v0&&$.strstart-$.match_start>4096))$.match_length=v0-1}if($.prev_length>=v0&&$.match_length<=$.prev_length){Q=$.strstart+$.lookahead-v0,Z=B8._tr_tally($,$.strstart-1-$.prev_match,$.prev_length-v0),$.lookahead-=$.prev_length-1,$.prev_length-=2;do if(++$.strstart<=Q)$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+v0-1])&$.hash_mask,K=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart;while(--$.prev_length!==0);if($.match_available=0,$.match_length=v0-1,$.strstart++,Z){if(a0($,!1),$.strm.avail_out===0)return o0}}else if($.match_available){if(Z=B8._tr_tally($,0,$.window[$.strstart-1]),Z)a0($,!1);if($.strstart++,$.lookahead--,$.strm.avail_out===0)return o0}else $.match_available=1,$.strstart++,$.lookahead--}if($.match_available)Z=B8._tr_tally($,0,$.window[$.strstart-1]),$.match_available=0;if($.insert=$.strstart<v0-1?$.strstart:v0-1,J===R5){if(a0($,!0),$.strm.avail_out===0)return k5;return e5}if($.last_lit){if(a0($,!1),$.strm.avail_out===0)return o0}return g6},C3=function($,J){var K,Z,Q,Y,G=$.window;for(;;){if($.lookahead<=W5){if(v5($),$.lookahead<=W5&&J===_5)return o0;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=v0&&$.strstart>0){if(Q=$.strstart-1,Z=G[Q],Z===G[++Q]&&Z===G[++Q]&&Z===G[++Q]){Y=$.strstart+W5;do;while(Z===G[++Q]&&Z===G[++Q]&&Z===G[++Q]&&Z===G[++Q]&&Z===G[++Q]&&Z===G[++Q]&&Z===G[++Q]&&Z===G[++Q]&&Q<Y);if($.match_length=W5-(Y-Q),$.match_length>$.lookahead)$.match_length=$.lookahead}}if($.match_length>=v0)K=B8._tr_tally($,1,$.match_length-v0),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0;else K=B8._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++;if(K){if(a0($,!1),$.strm.avail_out===0)return o0}}if($.insert=0,J===R5){if(a0($,!0),$.strm.avail_out===0)return k5;return e5}if($.last_lit){if(a0($,!1),$.strm.avail_out===0)return o0}return g6},L3=function($,J){var K;for(;;){if($.lookahead===0){if(v5($),$.lookahead===0){if(J===_5)return o0;break}}if($.match_length=0,K=B8._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,K){if(a0($,!1),$.strm.avail_out===0)return o0}}if($.insert=0,J===R5){if(a0($,!0),$.strm.avail_out===0)return k5;return e5}if($.last_lit){if(a0($,!1),$.strm.avail_out===0)return o0}return g6},b8=function($,J,K,Z,Q){this.good_length=$,this.max_lazy=J,this.nice_length=K,this.max_chain=Z,this.func=Q},M3=function($){$.window_size=2*$.w_size,V5($.head),$.max_lazy_match=t5[$.level].max_lazy,$.good_match=t5[$.level].good_length,$.nice_match=t5[$.level].nice_length,$.max_chain_length=t5[$.level].max_chain,$.strstart=0,$.block_start=0,$.lookahead=0,$.insert=0,$.match_length=$.prev_length=v0-1,$.match_available=0,$.ins_h=0},S3=function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=i1,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new K8.Buf16(P3*2),this.dyn_dtree=new K8.Buf16((2*z3+1)*2),this.bl_tree=new K8.Buf16((2*N3+1)*2),V5(this.dyn_ltree),V5(this.dyn_dtree),V5(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new K8.Buf16(A3+1),this.heap=new K8.Buf16(2*b7+1),V5(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new K8.Buf16(2*b7+1),V5(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0},$G=function($){var J;if(!$||!$.state)return U5($,F8);if($.total_in=$.total_out=0,$.data_type=q3,J=$.state,J.pending=0,J.pending_out=0,J.wrap<0)J.wrap=-J.wrap;return J.status=J.wrap?o1:D5,$.adler=J.wrap===2?0:1,J.last_flush=_5,B8._tr_init(J),u8},JG=function($){var J=$G($);if(J===u8)M3($.state);return J},j3=function($,J){if(!$||!$.state)return F8;if($.state.wrap!==2)return F8;return $.state.gzhead=J,u8},KG=function($,J,K,Z,Q,Y){if(!$)return F8;var G=1;if(J===Z3)J=6;if(Z<0)G=0,Z=-Z;else if(Z>15)G=2,Z-=16;if(Q<1||Q>V3||K!==i1||Z<8||Z>15||J<0||J>9||Y<0||Y>G3)return U5($,F8);if(Z===8)Z=9;var H=new S3;return $.state=H,H.strm=$,H.wrap=G,H.gzhead=null,H.w_bits=Z,H.w_size=1<<H.w_bits,H.w_mask=H.w_size-1,H.hash_bits=Q+7,H.hash_size=1<<H.hash_bits,H.hash_mask=H.hash_size-1,H.hash_shift=~~((H.hash_bits+v0-1)/v0),H.window=new K8.Buf8(H.w_size*2),H.head=new K8.Buf16(H.hash_size),H.prev=new K8.Buf16(H.w_size),H.lit_bufsize=1<<Q+6,H.pending_buf_size=H.lit_bufsize*4,H.pending_buf=new K8.Buf8(H.pending_buf_size),H.d_buf=1*H.lit_bufsize,H.l_buf=3*H.lit_bufsize,H.level=J,H.strategy=Y,H.method=K,JG($)},I3=function($,J){return KG($,J,i1,W3,U3,H3)},T3=function($,J){var K,Z,Q,Y;if(!$||!$.state||J>rY||J<0)return $?U5($,F8):F8;if(Z=$.state,!$.output||!$.input&&$.avail_in!==0||Z.status===x6&&J!==R5)return U5($,$.avail_out===0?g7:F8);if(Z.strm=$,K=Z.last_flush,Z.last_flush=J,Z.status===o1)if(Z.wrap===2)if($.adler=0,y0(Z,31),y0(Z,139),y0(Z,8),!Z.gzhead)y0(Z,0),y0(Z,0),y0(Z,0),y0(Z,0),y0(Z,0),y0(Z,Z.level===9?2:Z.strategy>=d1||Z.level<2?4:0),y0(Z,F3),Z.status=D5;else{if(y0(Z,(Z.gzhead.text?1:0)+(Z.gzhead.hcrc?2:0)+(!Z.gzhead.extra?0:4)+(!Z.gzhead.name?0:8)+(!Z.gzhead.comment?0:16)),y0(Z,Z.gzhead.time&255),y0(Z,Z.gzhead.time>>8&255),y0(Z,Z.gzhead.time>>16&255),y0(Z,Z.gzhead.time>>24&255),y0(Z,Z.level===9?2:Z.strategy>=d1||Z.level<2?4:0),y0(Z,Z.gzhead.os&255),Z.gzhead.extra&&Z.gzhead.extra.length)y0(Z,Z.gzhead.extra.length&255),y0(Z,Z.gzhead.extra.length>>8&255);if(Z.gzhead.hcrc)$.adler=H5($.adler,Z.pending_buf,Z.pending,0);Z.gzindex=0,Z.status=u7}else{var G=i1+(Z.w_bits-8<<4)<<8,H=-1;if(Z.strategy>=d1||Z.level<2)H=0;else if(Z.level<6)H=1;else if(Z.level===6)H=2;else H=3;if(G|=H<<6,Z.strstart!==0)G|=B3;if(G+=31-G%31,Z.status=D5,y6(Z,G),Z.strstart!==0)y6(Z,$.adler>>>16),y6(Z,$.adler&65535);$.adler=1}if(Z.status===u7)if(Z.gzhead.extra){Q=Z.pending;while(Z.gzindex<(Z.gzhead.extra.length&65535)){if(Z.pending===Z.pending_buf_size){if(Z.gzhead.hcrc&&Z.pending>Q)$.adler=H5($.adler,Z.pending_buf,Z.pending-Q,Q);if(q5($),Q=Z.pending,Z.pending===Z.pending_buf_size)break}y0(Z,Z.gzhead.extra[Z.gzindex]&255),Z.gzindex++}if(Z.gzhead.hcrc&&Z.pending>Q)$.adler=H5($.adler,Z.pending_buf,Z.pending-Q,Q);if(Z.gzindex===Z.gzhead.extra.length)Z.gzindex=0,Z.status=p1}else Z.status=p1;if(Z.status===p1)if(Z.gzhead.name){Q=Z.pending;do{if(Z.pending===Z.pending_buf_size){if(Z.gzhead.hcrc&&Z.pending>Q)$.adler=H5($.adler,Z.pending_buf,Z.pending-Q,Q);if(q5($),Q=Z.pending,Z.pending===Z.pending_buf_size){Y=1;break}}if(Z.gzindex<Z.gzhead.name.length)Y=Z.gzhead.name.charCodeAt(Z.gzindex++)&255;else Y=0;y0(Z,Y)}while(Y!==0);if(Z.gzhead.hcrc&&Z.pending>Q)$.adler=H5($.adler,Z.pending_buf,Z.pending-Q,Q);if(Y===0)Z.gzindex=0,Z.status=l1}else Z.status=l1;if(Z.status===l1)if(Z.gzhead.comment){Q=Z.pending;do{if(Z.pending===Z.pending_buf_size){if(Z.gzhead.hcrc&&Z.pending>Q)$.adler=H5($.adler,Z.pending_buf,Z.pending-Q,Q);if(q5($),Q=Z.pending,Z.pending===Z.pending_buf_size){Y=1;break}}if(Z.gzindex<Z.gzhead.comment.length)Y=Z.gzhead.comment.charCodeAt(Z.gzindex++)&255;else Y=0;y0(Z,Y)}while(Y!==0);if(Z.gzhead.hcrc&&Z.pending>Q)$.adler=H5($.adler,Z.pending_buf,Z.pending-Q,Q);if(Y===0)Z.status=n1}else Z.status=n1;if(Z.status===n1)if(Z.gzhead.hcrc){if(Z.pending+2>Z.pending_buf_size)q5($);if(Z.pending+2<=Z.pending_buf_size)y0(Z,$.adler&255),y0(Z,$.adler>>8&255),$.adler=0,Z.status=D5}else Z.status=D5;if(Z.pending!==0){if(q5($),$.avail_out===0)return Z.last_flush=-1,u8}else if($.avail_in===0&&aY(J)<=aY(K)&&J!==R5)return U5($,g7);if(Z.status===x6&&$.avail_in!==0)return U5($,g7);if($.avail_in!==0||Z.lookahead!==0||J!==_5&&Z.status!==x6){var q=Z.strategy===d1?L3(Z,J):Z.strategy===Y3?C3(Z,J):t5[Z.level].func(Z,J);if(q===k5||q===e5)Z.status=x6;if(q===o0||q===k5){if($.avail_out===0)Z.last_flush=-1;return u8}if(q===g6){if(J===$3)B8._tr_align(Z);else if(J!==rY){if(B8._tr_stored_block(Z,0,0,!1),J===J3){if(V5(Z.head),Z.lookahead===0)Z.strstart=0,Z.block_start=0,Z.insert=0}}if(q5($),$.avail_out===0)return Z.last_flush=-1,u8}}if(J!==R5)return u8;if(Z.wrap<=0)return sY;if(Z.wrap===2)y0(Z,$.adler&255),y0(Z,$.adler>>8&255),y0(Z,$.adler>>16&255),y0(Z,$.adler>>24&255),y0(Z,$.total_in&255),y0(Z,$.total_in>>8&255),y0(Z,$.total_in>>16&255),y0(Z,$.total_in>>24&255);else y6(Z,$.adler>>>16),y6(Z,$.adler&65535);if(q5($),Z.wrap>0)Z.wrap=-Z.wrap;return Z.pending!==0?u8:sY},w3=function($){var J;if(!$||!$.state)return F8;if(J=$.state.status,J!==o1&&J!==u7&&J!==p1&&J!==l1&&J!==n1&&J!==D5&&J!==x6)return U5($,F8);return $.state=null,J===D5?U5($,K3):u8},D3=function($,J){var K=J.length,Z,Q,Y,G,H,q,V,W;if(!$||!$.state)return F8;if(Z=$.state,G=Z.wrap,G===2||G===1&&Z.status!==o1||Z.lookahead)return F8;if(G===1)$.adler=tY($.adler,J,K,0);if(Z.wrap=0,K>=Z.w_size){if(G===0)V5(Z.head),Z.strstart=0,Z.block_start=0,Z.insert=0;W=new K8.Buf8(Z.w_size),K8.arraySet(W,J,K-Z.w_size,Z.w_size,0),J=W,K=Z.w_size}H=$.avail_in,q=$.next_in,V=$.input,$.avail_in=K,$.next_in=0,$.input=J,v5(Z);while(Z.lookahead>=v0){Q=Z.strstart,Y=Z.lookahead-(v0-1);do Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Q+v0-1])&Z.hash_mask,Z.prev[Q&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=Q,Q++;while(--Y);Z.strstart=Q,Z.lookahead=v0-1,v5(Z)}return Z.strstart+=Z.lookahead,Z.block_start=Z.strstart,Z.insert=Z.lookahead,Z.lookahead=0,Z.match_length=Z.prev_length=v0-1,Z.match_available=0,$.next_in=q,$.input=V,$.avail_in=H,Z.wrap=G,u8},K8=r8(),B8=lY(),tY=y7(),H5=x7(),eB=c1(),_5=0,$3=1,J3=3,R5=4,rY=5,u8=0,sY=1,F8=-2,K3=-3,g7=-5,Z3=-1,Q3=1,d1=2,Y3=3,G3=4,H3=0,q3=2,i1=8,V3=9,W3=15,U3=8,R3=29,O3=256,b7=O3+1+R3,z3=30,N3=19,P3=2*b7+1,A3=15,v0=3,W5=258,I8=W5+v0+1,B3=32,o1=42,u7=69,p1=73,l1=91,n1=103,D5=113,x6=666,o0=1,g6=2,k5=3,e5=4,F3=3,t5;t5=[new b8(0,0,0,0,E3),new b8(4,4,8,4,h7),new b8(4,5,16,8,h7),new b8(4,6,32,32,h7),new b8(4,4,16,16,a5),new b8(8,16,32,32,a5),new b8(8,16,128,128,a5),new b8(8,32,128,256,a5),new b8(32,128,258,1024,a5),new b8(32,258,258,4096,a5)];k3.deflateInit=I3;k3.deflateInit2=KG;k3.deflateReset=JG;k3.deflateResetKeep=$G;k3.deflateSetHeader=j3;k3.deflate=T3;k3.deflateEnd=w3;k3.deflateSetDictionary=D3;k3.deflateInfo="pako deflate (from Nodeca project)"});var m7=l((f3)=>{var GG=function($,J){if(J<65534){if($.subarray&&YG||!$.subarray&&QG)return String.fromCharCode.apply(null,r1.shrinkBuf($,J))}var K="";for(var Z=0;Z<J;Z++)K+=String.fromCharCode($[Z]);return K},r1=r8(),QG=!0,YG=!0;try{String.fromCharCode.apply(null,[0])}catch($){QG=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch($){YG=!1}var h6=new r1.Buf8(256);for(a8=0;a8<256;a8++)h6[a8]=a8>=252?6:a8>=248?5:a8>=240?4:a8>=224?3:a8>=192?2:1;var a8;h6[254]=h6[254]=1;f3.string2buf=function($){var J,K,Z,Q,Y,G=$.length,H=0;for(Q=0;Q<G;Q++){if(K=$.charCodeAt(Q),(K&64512)===55296&&Q+1<G){if(Z=$.charCodeAt(Q+1),(Z&64512)===56320)K=65536+(K-55296<<10)+(Z-56320),Q++}H+=K<128?1:K<2048?2:K<65536?3:4}J=new r1.Buf8(H);for(Y=0,Q=0;Y<H;Q++){if(K=$.charCodeAt(Q),(K&64512)===55296&&Q+1<G){if(Z=$.charCodeAt(Q+1),(Z&64512)===56320)K=65536+(K-55296<<10)+(Z-56320),Q++}if(K<128)J[Y++]=K;else if(K<2048)J[Y++]=192|K>>>6,J[Y++]=128|K&63;else if(K<65536)J[Y++]=224|K>>>12,J[Y++]=128|K>>>6&63,J[Y++]=128|K&63;else J[Y++]=240|K>>>18,J[Y++]=128|K>>>12&63,J[Y++]=128|K>>>6&63,J[Y++]=128|K&63}return J};f3.buf2binstring=function($){return GG($,$.length)};f3.binstring2buf=function($){var J=new r1.Buf8($.length);for(var K=0,Z=J.length;K<Z;K++)J[K]=$.charCodeAt(K);return J};f3.buf2string=function($,J){var K,Z,Q,Y,G=J||$.length,H=new Array(G*2);for(Z=0,K=0;K<G;){if(Q=$[K++],Q<128){H[Z++]=Q;continue}if(Y=h6[Q],Y>4){H[Z++]=65533,K+=Y-1;continue}Q&=Y===2?31:Y===3?15:7;while(Y>1&&K<G)Q=Q<<6|$[K++]&63,Y--;if(Y>1){H[Z++]=65533;continue}if(Q<65536)H[Z++]=Q;else Q-=65536,H[Z++]=55296|Q>>10&1023,H[Z++]=56320|Q&1023}return GG(H,Z)};f3.utf8border=function($,J){var K;if(J=J||$.length,J>$.length)J=$.length;K=J-1;while(K>=0&&($[K]&192)===128)K--;if(K<0)return J;if(K===0)return J;return K+h6[$[K]]>J?K:J}});var f7=l((cS,HG)=>{var i3=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};HG.exports=i3});var UG=l((JF)=>{var y5=function($){if(!(this instanceof y5))return new y5($);this.options=u6.assign({level:s3,method:t3,chunkSize:16384,windowBits:15,memLevel:8,strategy:a3,to:""},$||{});var J=this.options;if(J.raw&&J.windowBits>0)J.windowBits=-J.windowBits;else if(J.gzip&&J.windowBits>0&&J.windowBits<16)J.windowBits+=16;this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o3,this.strm.avail_out=0;var K=b6.deflateInit2(this.strm,J.level,J.method,J.windowBits,J.memLevel,J.strategy);if(K!==$6)throw new Error(p7[K]);if(J.header)b6.deflateSetHeader(this.strm,J.header);if(J.dictionary){var Z;if(typeof J.dictionary==="string")Z=d7.string2buf(J.dictionary);else if(WG.call(J.dictionary)==="[object ArrayBuffer]")Z=new Uint8Array(J.dictionary);else Z=J.dictionary;if(K=b6.deflateSetDictionary(this.strm,Z),K!==$6)throw new Error(p7[K]);this._dict_set=!0}},l7=function($,J){var K=new y5(J);if(K.push($,!0),K.err)throw K.msg||p7[K.err];return K.result},e3=function($,J){return J=J||{},J.raw=!0,l7($,J)},$F=function($,J){return J=J||{},J.gzip=!0,l7($,J)},b6=ZG(),u6=r8(),d7=m7(),p7=c1(),o3=f7(),WG=Object.prototype.toString,r3=0,c7=4,$6=0,qG=1,VG=2,s3=-1,a3=0,t3=8;y5.prototype.push=function($,J){var K=this.strm,Z=this.options.chunkSize,Q,Y;if(this.ended)return!1;if(Y=J===~~J?J:J===!0?c7:r3,typeof $==="string")K.input=d7.string2buf($);else if(WG.call($)==="[object ArrayBuffer]")K.input=new Uint8Array($);else K.input=$;K.next_in=0,K.avail_in=K.input.length;do{if(K.avail_out===0)K.output=new u6.Buf8(Z),K.next_out=0,K.avail_out=Z;if(Q=b6.deflate(K,Y),Q!==qG&&Q!==$6)return this.onEnd(Q),this.ended=!0,!1;if(K.avail_out===0||K.avail_in===0&&(Y===c7||Y===VG))if(this.options.to==="string")this.onData(d7.buf2binstring(u6.shrinkBuf(K.output,K.next_out)));else this.onData(u6.shrinkBuf(K.output,K.next_out))}while((K.avail_in>0||K.avail_out===0)&&Q!==qG);if(Y===c7)return Q=b6.deflateEnd(this.strm),this.onEnd(Q),this.ended=!0,Q===$6;if(Y===VG)return this.onEnd($6),K.avail_out=0,!0;return!0};y5.prototype.onData=function($){this.chunks.push($)};y5.prototype.onEnd=function($){if($===$6)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=u6.flattenChunks(this.chunks);this.chunks=[],this.err=$,this.msg=this.strm.msg};JF.Deflate=y5;JF.deflate=l7;JF.deflateRaw=e3;JF.gzip=$F});var OG=l((pS,RG)=>{var s1=30,GF=12;RG.exports=function $(J,K){var Z,Q,Y,G,H,q,V,W,U,R,O,B,M,C,E,T,L,X,z,N,P,S,k,w,j;Z=J.state,Q=J.next_in,w=J.input,Y=Q+(J.avail_in-5),G=J.next_out,j=J.output,H=G-(K-J.avail_out),q=G+(J.avail_out-257),V=Z.dmax,W=Z.wsize,U=Z.whave,R=Z.wnext,O=Z.window,B=Z.hold,M=Z.bits,C=Z.lencode,E=Z.distcode,T=(1<<Z.lenbits)-1,L=(1<<Z.distbits)-1;$:do{if(M<15)B+=w[Q++]<<M,M+=8,B+=w[Q++]<<M,M+=8;X=C[B&T];J:for(;;){if(z=X>>>24,B>>>=z,M-=z,z=X>>>16&255,z===0)j[G++]=X&65535;else if(z&16){if(N=X&65535,z&=15,z){if(M<z)B+=w[Q++]<<M,M+=8;N+=B&(1<<z)-1,B>>>=z,M-=z}if(M<15)B+=w[Q++]<<M,M+=8,B+=w[Q++]<<M,M+=8;X=E[B&L];K:for(;;){if(z=X>>>24,B>>>=z,M-=z,z=X>>>16&255,z&16){if(P=X&65535,z&=15,M<z){if(B+=w[Q++]<<M,M+=8,M<z)B+=w[Q++]<<M,M+=8}if(P+=B&(1<<z)-1,P>V){J.msg="invalid distance too far back",Z.mode=s1;break $}if(B>>>=z,M-=z,z=G-H,P>z){if(z=P-z,z>U){if(Z.sane){J.msg="invalid distance too far back",Z.mode=s1;break $}}if(S=0,k=O,R===0){if(S+=W-z,z<N){N-=z;do j[G++]=O[S++];while(--z);S=G-P,k=j}}else if(R<z){if(S+=W+R-z,z-=R,z<N){N-=z;do j[G++]=O[S++];while(--z);if(S=0,R<N){z=R,N-=z;do j[G++]=O[S++];while(--z);S=G-P,k=j}}}else if(S+=R-z,z<N){N-=z;do j[G++]=O[S++];while(--z);S=G-P,k=j}while(N>2)j[G++]=k[S++],j[G++]=k[S++],j[G++]=k[S++],N-=3;if(N){if(j[G++]=k[S++],N>1)j[G++]=k[S++]}}else{S=G-P;do j[G++]=j[S++],j[G++]=j[S++],j[G++]=j[S++],N-=3;while(N>2);if(N){if(j[G++]=j[S++],N>1)j[G++]=j[S++]}}}else if((z&64)===0){X=E[(X&65535)+(B&(1<<z)-1)];continue K}else{J.msg="invalid distance code",Z.mode=s1;break $}break}}else if((z&64)===0){X=C[(X&65535)+(B&(1<<z)-1)];continue J}else if(z&32){Z.mode=GF;break $}else{J.msg="invalid literal/length code",Z.mode=s1;break $}break}}while(Q<Y&&G<q);N=M>>3,Q-=N,M-=N<<3,B&=(1<<M)-1,J.next_in=Q,J.next_out=G,J.avail_in=Q<Y?5+(Y-Q):5-(Q-Y),J.avail_out=G<q?257+(q-G):257-(G-q),Z.hold=B,Z.bits=M;return}});var XG=l((lS,FG)=>{var zG=r8(),J6=15,NG=852,PG=592,AG=0,n7=1,BG=2,HF=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],qF=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],VF=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],WF=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];FG.exports=function $(J,K,Z,Q,Y,G,H,q){var V=q.bits,W=0,U=0,R=0,O=0,B=0,M=0,C=0,E=0,T=0,L=0,X,z,N,P,S,k=null,w=0,j,v=new zG.Buf16(J6+1),_=new zG.Buf16(J6+1),x=null,b=0,y,p,g;for(W=0;W<=J6;W++)v[W]=0;for(U=0;U<Q;U++)v[K[Z+U]]++;B=V;for(O=J6;O>=1;O--)if(v[O]!==0)break;if(B>O)B=O;if(O===0)return Y[G++]=1<<24|64<<16|0,Y[G++]=1<<24|64<<16|0,q.bits=1,0;for(R=1;R<O;R++)if(v[R]!==0)break;if(B<R)B=R;E=1;for(W=1;W<=J6;W++)if(E<<=1,E-=v[W],E<0)return-1;if(E>0&&(J===AG||O!==1))return-1;_[1]=0;for(W=1;W<J6;W++)_[W+1]=_[W]+v[W];for(U=0;U<Q;U++)if(K[Z+U]!==0)H[_[K[Z+U]]++]=U;if(J===AG)k=x=H,j=19;else if(J===n7)k=HF,w-=257,x=qF,b-=257,j=256;else k=VF,x=WF,j=-1;if(L=0,U=0,W=R,S=G,M=B,C=0,N=-1,T=1<<B,P=T-1,J===n7&&T>NG||J===BG&&T>PG)return 1;for(;;){if(y=W-C,H[U]<j)p=0,g=H[U];else if(H[U]>j)p=x[b+H[U]],g=k[w+H[U]];else p=96,g=0;X=1<<W-C,z=1<<M,R=z;do z-=X,Y[S+(L>>C)+z]=y<<24|p<<16|g|0;while(z!==0);X=1<<W-1;while(L&X)X>>=1;if(X!==0)L&=X-1,L+=X;else L=0;if(U++,--v[W]===0){if(W===O)break;W=K[Z+H[U]]}if(W>B&&(L&P)!==N){if(C===0)C=B;S+=R,M=W-C,E=1<<M;while(M+C<O){if(E-=v[M+C],E<=0)break;M++,E<<=1}if(T+=1<<M,J===n7&&T>NG||J===BG&&T>PG)return 1;N=L&P,Y[N]=B<<24|M<<16|S-G|0}}if(L!==0)Y[S+L]=W-C<<24|64<<16|0;return q.bits=B,0}});var JH=l((wF)=>{var pG=function($){return($>>>24&255)+($>>>8&65280)+(($&65280)<<8)+(($&255)<<24)},CF=function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new W8.Buf16(320),this.work=new W8.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},sG=function($){var J;if(!$||!$.state)return X8;if(J=$.state,$.total_in=$.total_out=J.total=0,$.msg="",J.wrap)$.adler=J.wrap&1;return J.mode=rG,J.last=0,J.havedict=0,J.dmax=32768,J.head=null,J.hold=0,J.bits=0,J.lencode=J.lendyn=new W8.Buf32(BF),J.distcode=J.distdyn=new W8.Buf32(FF),J.sane=1,J.back=-1,x5},aG=function($){var J;if(!$||!$.state)return X8;return J=$.state,J.wsize=0,J.whave=0,J.wnext=0,sG($)},tG=function($,J){var K,Z;if(!$||!$.state)return X8;if(Z=$.state,J<0)K=0,J=-J;else if(K=(J>>4)+1,J<48)J&=15;if(J&&(J<8||J>15))return X8;if(Z.window!==null&&Z.wbits!==J)Z.window=null;return Z.wrap=K,Z.wbits=J,aG($)},eG=function($,J){var K,Z;if(!$)return X8;if(Z=new CF,$.state=Z,Z.window=null,K=tG($,J),K!==x5)$.state=null;return K},LF=function($){return eG($,EF)},MF=function($){if(lG){var J;s7=new W8.Buf32(512),a7=new W8.Buf32(32),J=0;while(J<144)$.lens[J++]=8;while(J<256)$.lens[J++]=9;while(J<280)$.lens[J++]=7;while(J<288)$.lens[J++]=8;m6(nG,$.lens,0,288,s7,0,$.work,{bits:9}),J=0;while(J<32)$.lens[J++]=5;m6(iG,$.lens,0,32,a7,0,$.work,{bits:5}),lG=!1}$.lencode=s7,$.lenbits=9,$.distcode=a7,$.distbits=5},$H=function($,J,K,Z){var Q,Y=$.state;if(Y.window===null)Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new W8.Buf8(Y.wsize);if(Z>=Y.wsize)W8.arraySet(Y.window,J,K-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize;else{if(Q=Y.wsize-Y.wnext,Q>Z)Q=Z;if(W8.arraySet(Y.window,J,K-Z,Q,Y.wnext),Z-=Q,Z)W8.arraySet(Y.window,J,K-Z,Z,0),Y.wnext=Z,Y.whave=Y.wsize;else{if(Y.wnext+=Q,Y.wnext===Y.wsize)Y.wnext=0;if(Y.whave<Y.wsize)Y.whave+=Q}}return 0},SF=function($,J){var K,Z,Q,Y,G,H,q,V,W,U,R,O,B,M,C=0,E,T,L,X,z,N,P,S,k=new W8.Buf8(4),w,j,v=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!$||!$.state||!$.output||!$.input&&$.avail_in!==0)return X8;if(K=$.state,K.mode===t8)K.mode=i7;G=$.next_out,Q=$.output,q=$.avail_out,Y=$.next_in,Z=$.input,H=$.avail_in,V=K.hold,W=K.bits,U=H,R=q,S=x5;$:for(;;)switch(K.mode){case rG:if(K.wrap===0){K.mode=i7;break}while(W<16){if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}if(K.wrap&2&&V===35615){K.check=0,k[0]=V&255,k[1]=V>>>8&255,K.check=m8(K.check,k,2,0),V=0,W=0,K.mode=LG;break}if(K.flags=0,K.head)K.head.done=!1;if(!(K.wrap&1)||(((V&255)<<8)+(V>>8))%31){$.msg="incorrect header check",K.mode=u0;break}if((V&15)!==CG){$.msg="unknown compression method",K.mode=u0;break}if(V>>>=4,W-=4,P=(V&15)+8,K.wbits===0)K.wbits=P;else if(P>K.wbits){$.msg="invalid window size",K.mode=u0;break}K.dmax=1<<P,$.adler=K.check=1,K.mode=V&512?kG:t8,V=0,W=0;break;case LG:while(W<16){if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}if(K.flags=V,(K.flags&255)!==CG){$.msg="unknown compression method",K.mode=u0;break}if(K.flags&57344){$.msg="unknown header flags set",K.mode=u0;break}if(K.head)K.head.text=V>>8&1;if(K.flags&512)k[0]=V&255,k[1]=V>>>8&255,K.check=m8(K.check,k,2,0);V=0,W=0,K.mode=MG;case MG:while(W<32){if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}if(K.head)K.head.time=V;if(K.flags&512)k[0]=V&255,k[1]=V>>>8&255,k[2]=V>>>16&255,k[3]=V>>>24&255,K.check=m8(K.check,k,4,0);V=0,W=0,K.mode=SG;case SG:while(W<16){if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}if(K.head)K.head.xflags=V&255,K.head.os=V>>8;if(K.flags&512)k[0]=V&255,k[1]=V>>>8&255,K.check=m8(K.check,k,2,0);V=0,W=0,K.mode=jG;case jG:if(K.flags&1024){while(W<16){if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}if(K.length=V,K.head)K.head.extra_len=V;if(K.flags&512)k[0]=V&255,k[1]=V>>>8&255,K.check=m8(K.check,k,2,0);V=0,W=0}else if(K.head)K.head.extra=null;K.mode=IG;case IG:if(K.flags&1024){if(O=K.length,O>H)O=H;if(O){if(K.head){if(P=K.head.extra_len-K.length,!K.head.extra)K.head.extra=new Array(K.head.extra_len);W8.arraySet(K.head.extra,Z,Y,O,P)}if(K.flags&512)K.check=m8(K.check,Z,O,Y);H-=O,Y+=O,K.length-=O}if(K.length)break $}K.length=0,K.mode=TG;case TG:if(K.flags&2048){if(H===0)break $;O=0;do if(P=Z[Y+O++],K.head&&P&&K.length<65536)K.head.name+=String.fromCharCode(P);while(P&&O<H);if(K.flags&512)K.check=m8(K.check,Z,O,Y);if(H-=O,Y+=O,P)break $}else if(K.head)K.head.name=null;K.length=0,K.mode=wG;case wG:if(K.flags&4096){if(H===0)break $;O=0;do if(P=Z[Y+O++],K.head&&P&&K.length<65536)K.head.comment+=String.fromCharCode(P);while(P&&O<H);if(K.flags&512)K.check=m8(K.check,Z,O,Y);if(H-=O,Y+=O,P)break $}else if(K.head)K.head.comment=null;K.mode=DG;case DG:if(K.flags&512){while(W<16){if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}if(V!==(K.check&65535)){$.msg="header crc mismatch",K.mode=u0;break}V=0,W=0}if(K.head)K.head.hcrc=K.flags>>9&1,K.head.done=!0;$.adler=K.check=0,K.mode=t8;break;case kG:while(W<32){if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}$.adler=K.check=pG(V),V=0,W=0,K.mode=$$;case $$:if(K.havedict===0)return $.next_out=G,$.avail_out=q,$.next_in=Y,$.avail_in=H,K.hold=V,K.bits=W,NF;$.adler=K.check=1,K.mode=t8;case t8:if(J===OF||J===a1)break $;case i7:if(K.last){V>>>=W&7,W-=W&7,K.mode=r7;break}while(W<3){if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}switch(K.last=V&1,V>>>=1,W-=1,V&3){case 0:K.mode=vG;break;case 1:if(MF(K),K.mode=t1,J===a1){V>>>=2,W-=2;break $}break;case 2:K.mode=yG;break;case 3:$.msg="invalid block type",K.mode=u0}V>>>=2,W-=2;break;case vG:V>>>=W&7,W-=W&7;while(W<32){if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}if((V&65535)!==(V>>>16^65535)){$.msg="invalid stored block lengths",K.mode=u0;break}if(K.length=V&65535,V=0,W=0,K.mode=o7,J===a1)break $;case o7:K.mode=_G;case _G:if(O=K.length,O){if(O>H)O=H;if(O>q)O=q;if(O===0)break $;W8.arraySet(Q,Z,Y,O,G),H-=O,Y+=O,q-=O,G+=O,K.length-=O;break}K.mode=t8;break;case yG:while(W<14){if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}if(K.nlen=(V&31)+257,V>>>=5,W-=5,K.ndist=(V&31)+1,V>>>=5,W-=5,K.ncode=(V&15)+4,V>>>=4,W-=4,K.nlen>286||K.ndist>30){$.msg="too many length or distance symbols",K.mode=u0;break}K.have=0,K.mode=xG;case xG:while(K.have<K.ncode){while(W<3){if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}K.lens[v[K.have++]]=V&7,V>>>=3,W-=3}while(K.have<19)K.lens[v[K.have++]]=0;if(K.lencode=K.lendyn,K.lenbits=7,w={bits:K.lenbits},S=m6(RF,K.lens,0,19,K.lencode,0,K.work,w),K.lenbits=w.bits,S){$.msg="invalid code lengths set",K.mode=u0;break}K.have=0,K.mode=gG;case gG:while(K.have<K.nlen+K.ndist){for(;;){if(C=K.lencode[V&(1<<K.lenbits)-1],E=C>>>24,T=C>>>16&255,L=C&65535,E<=W)break;if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}if(L<16)V>>>=E,W-=E,K.lens[K.have++]=L;else{if(L===16){j=E+2;while(W<j){if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}if(V>>>=E,W-=E,K.have===0){$.msg="invalid bit length repeat",K.mode=u0;break}P=K.lens[K.have-1],O=3+(V&3),V>>>=2,W-=2}else if(L===17){j=E+3;while(W<j){if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}V>>>=E,W-=E,P=0,O=3+(V&7),V>>>=3,W-=3}else{j=E+7;while(W<j){if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}V>>>=E,W-=E,P=0,O=11+(V&127),V>>>=7,W-=7}if(K.have+O>K.nlen+K.ndist){$.msg="invalid bit length repeat",K.mode=u0;break}while(O--)K.lens[K.have++]=P}}if(K.mode===u0)break;if(K.lens[256]===0){$.msg="invalid code -- missing end-of-block",K.mode=u0;break}if(K.lenbits=9,w={bits:K.lenbits},S=m6(nG,K.lens,0,K.nlen,K.lencode,0,K.work,w),K.lenbits=w.bits,S){$.msg="invalid literal/lengths set",K.mode=u0;break}if(K.distbits=6,K.distcode=K.distdyn,w={bits:K.distbits},S=m6(iG,K.lens,K.nlen,K.ndist,K.distcode,0,K.work,w),K.distbits=w.bits,S){$.msg="invalid distances set",K.mode=u0;break}if(K.mode=t1,J===a1)break $;case t1:K.mode=e1;case e1:if(H>=6&&q>=258){if($.next_out=G,$.avail_out=q,$.next_in=Y,$.avail_in=H,K.hold=V,K.bits=W,UF($,R),G=$.next_out,Q=$.output,q=$.avail_out,Y=$.next_in,Z=$.input,H=$.avail_in,V=K.hold,W=K.bits,K.mode===t8)K.back=-1;break}K.back=0;for(;;){if(C=K.lencode[V&(1<<K.lenbits)-1],E=C>>>24,T=C>>>16&255,L=C&65535,E<=W)break;if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}if(T&&(T&240)===0){X=E,z=T,N=L;for(;;){if(C=K.lencode[N+((V&(1<<X+z)-1)>>X)],E=C>>>24,T=C>>>16&255,L=C&65535,X+E<=W)break;if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}V>>>=X,W-=X,K.back+=X}if(V>>>=E,W-=E,K.back+=E,K.length=L,T===0){K.mode=fG;break}if(T&32){K.back=-1,K.mode=t8;break}if(T&64){$.msg="invalid literal/length code",K.mode=u0;break}K.extra=T&15,K.mode=hG;case hG:if(K.extra){j=K.extra;while(W<j){if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}K.length+=V&(1<<K.extra)-1,V>>>=K.extra,W-=K.extra,K.back+=K.extra}K.was=K.length,K.mode=bG;case bG:for(;;){if(C=K.distcode[V&(1<<K.distbits)-1],E=C>>>24,T=C>>>16&255,L=C&65535,E<=W)break;if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}if((T&240)===0){X=E,z=T,N=L;for(;;){if(C=K.distcode[N+((V&(1<<X+z)-1)>>X)],E=C>>>24,T=C>>>16&255,L=C&65535,X+E<=W)break;if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}V>>>=X,W-=X,K.back+=X}if(V>>>=E,W-=E,K.back+=E,T&64){$.msg="invalid distance code",K.mode=u0;break}K.offset=L,K.extra=T&15,K.mode=uG;case uG:if(K.extra){j=K.extra;while(W<j){if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}K.offset+=V&(1<<K.extra)-1,V>>>=K.extra,W-=K.extra,K.back+=K.extra}if(K.offset>K.dmax){$.msg="invalid distance too far back",K.mode=u0;break}K.mode=mG;case mG:if(q===0)break $;if(O=R-q,K.offset>O){if(O=K.offset-O,O>K.whave){if(K.sane){$.msg="invalid distance too far back",K.mode=u0;break}}if(O>K.wnext)O-=K.wnext,B=K.wsize-O;else B=K.wnext-O;if(O>K.length)O=K.length;M=K.window}else M=Q,B=G-K.offset,O=K.length;if(O>q)O=q;q-=O,K.length-=O;do Q[G++]=M[B++];while(--O);if(K.length===0)K.mode=e1;break;case fG:if(q===0)break $;Q[G++]=K.length,q--,K.mode=e1;break;case r7:if(K.wrap){while(W<32){if(H===0)break $;H--,V|=Z[Y++]<<W,W+=8}if(R-=q,$.total_out+=R,K.total+=R,R)$.adler=K.check=K.flags?m8(K.check,Q,R,G-R):t7(K.check,Q,R,G-R);if(R=q,(K.flags?V:pG(V))!==K.check){$.msg="incorrect data check",K.mode=u0;break}V=0,W=0}K.mode=cG;case cG:if(K.wrap&&K.flags){while(W<32){if(H===0)break $;H--,V+=Z[Y++]<<W,W+=8}if(V!==(K.total&4294967295)){$.msg="incorrect length check",K.mode=u0;break}V=0,W=0}K.mode=dG;case dG:S=zF;break $;case u0:S=oG;break $;case $J:return e7;case AF:default:return X8}if($.next_out=G,$.avail_out=q,$.next_in=Y,$.avail_in=H,K.hold=V,K.bits=W,K.wsize||R!==$.avail_out&&K.mode<u0&&(K.mode<r7||J!==EG)){if($H($,$.output,$.next_out,R-$.avail_out))return K.mode=$J,e7}if(U-=$.avail_in,R-=$.avail_out,$.total_in+=U,$.total_out+=R,K.total+=R,K.wrap&&R)$.adler=K.check=K.flags?m8(K.check,Q,R,$.next_out-R):t7(K.check,Q,R,$.next_out-R);if($.data_type=K.bits+(K.last?64:0)+(K.mode===t8?128:0)+(K.mode===t1||K.mode===o7?256:0),(U===0&&R===0||J===EG)&&S===x5)S=PF;return S},jF=function($){if(!$||!$.state)return X8;var J=$.state;if(J.window)J.window=null;return $.state=null,x5},IF=function($,J){var K;if(!$||!$.state)return X8;if(K=$.state,(K.wrap&2)===0)return X8;return K.head=J,J.done=!1,x5},TF=function($,J){var K=J.length,Z,Q,Y;if(!$||!$.state)return X8;if(Z=$.state,Z.wrap!==0&&Z.mode!==$$)return X8;if(Z.mode===$$){if(Q=1,Q=t7(Q,J,K,0),Q!==Z.check)return oG}if(Y=$H($,J,K,K),Y)return Z.mode=$J,e7;return Z.havedict=1,x5},W8=r8(),t7=y7(),m8=x7(),UF=OG(),m6=XG(),RF=0,nG=1,iG=2,EG=4,OF=5,a1=6,x5=0,zF=1,NF=2,X8=-2,oG=-3,e7=-4,PF=-5,CG=8,rG=1,LG=2,MG=3,SG=4,jG=5,IG=6,TG=7,wG=8,DG=9,kG=10,$$=11,t8=12,i7=13,vG=14,o7=15,_G=16,yG=17,xG=18,gG=19,t1=20,e1=21,hG=22,bG=23,uG=24,mG=25,fG=26,r7=27,cG=28,dG=29,u0=30,$J=31,AF=32,BF=852,FF=592,XF=15,EF=XF,lG=!0,s7,a7;wF.inflateReset=aG;wF.inflateReset2=tG;wF.inflateResetKeep=sG;wF.inflateInit=LF;wF.inflateInit2=eG;wF.inflate=SF;wF.inflateEnd=jF;wF.inflateGetHeader=IF;wF.inflateSetDictionary=TF;wF.inflateInfo="pako inflate (from Nodeca project)"});var JJ=l((iS,KH)=>{KH.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var QH=l((oS,ZH)=>{var mF=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};ZH.exports=mF});var GH=l((pF)=>{var g5=function($){if(!(this instanceof g5))return new g5($);this.options=f6.assign({chunkSize:16384,windowBits:0,to:""},$||{});var J=this.options;if(J.raw&&J.windowBits>=0&&J.windowBits<16){if(J.windowBits=-J.windowBits,J.windowBits===0)J.windowBits=-15}if(J.windowBits>=0&&J.windowBits<16&&!($&&$.windowBits))J.windowBits+=32;if(J.windowBits>15&&J.windowBits<48){if((J.windowBits&15)===0)J.windowBits|=15}this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fF,this.strm.avail_out=0;var K=K6.inflateInit2(this.strm,J.windowBits);if(K!==d0.Z_OK)throw new Error(KJ[K]);if(this.header=new cF,K6.inflateGetHeader(this.strm,this.header),J.dictionary){if(typeof J.dictionary==="string")J.dictionary=J$.string2buf(J.dictionary);else if(YH.call(J.dictionary)==="[object ArrayBuffer]")J.dictionary=new Uint8Array(J.dictionary);if(J.raw){if(K=K6.inflateSetDictionary(this.strm,J.dictionary),K!==d0.Z_OK)throw new Error(KJ[K])}}},ZJ=function($,J){var K=new g5(J);if(K.push($,!0),K.err)throw K.msg||KJ[K.err];return K.result},dF=function($,J){return J=J||{},J.raw=!0,ZJ($,J)},K6=JH(),f6=r8(),J$=m7(),d0=JJ(),KJ=c1(),fF=f7(),cF=QH(),YH=Object.prototype.toString;g5.prototype.push=function($,J){var K=this.strm,Z=this.options.chunkSize,Q=this.options.dictionary,Y,G,H,q,V,W=!1;if(this.ended)return!1;if(G=J===~~J?J:J===!0?d0.Z_FINISH:d0.Z_NO_FLUSH,typeof $==="string")K.input=J$.binstring2buf($);else if(YH.call($)==="[object ArrayBuffer]")K.input=new Uint8Array($);else K.input=$;K.next_in=0,K.avail_in=K.input.length;do{if(K.avail_out===0)K.output=new f6.Buf8(Z),K.next_out=0,K.avail_out=Z;if(Y=K6.inflate(K,d0.Z_NO_FLUSH),Y===d0.Z_NEED_DICT&&Q)Y=K6.inflateSetDictionary(this.strm,Q);if(Y===d0.Z_BUF_ERROR&&W===!0)Y=d0.Z_OK,W=!1;if(Y!==d0.Z_STREAM_END&&Y!==d0.Z_OK)return this.onEnd(Y),this.ended=!0,!1;if(K.next_out){if(K.avail_out===0||Y===d0.Z_STREAM_END||K.avail_in===0&&(G===d0.Z_FINISH||G===d0.Z_SYNC_FLUSH))if(this.options.to==="string"){if(H=J$.utf8border(K.output,K.next_out),q=K.next_out-H,V=J$.buf2string(K.output,H),K.next_out=q,K.avail_out=Z-q,q)f6.arraySet(K.output,K.output,H,q,0);this.onData(V)}else this.onData(f6.shrinkBuf(K.output,K.next_out))}if(K.avail_in===0&&K.avail_out===0)W=!0}while((K.avail_in>0||K.avail_out===0)&&Y!==d0.Z_STREAM_END);if(Y===d0.Z_STREAM_END)G=d0.Z_FINISH;if(G===d0.Z_FINISH)return Y=K6.inflateEnd(this.strm),this.onEnd(Y),this.ended=!0,Y===d0.Z_OK;if(G===d0.Z_SYNC_FLUSH)return this.onEnd(d0.Z_OK),K.avail_out=0,!0;return!0};g5.prototype.onData=function($){this.chunks.push($)};g5.prototype.onEnd=function($){if($===d0.Z_OK)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=f6.flattenChunks(this.chunks);this.chunks=[],this.err=$,this.msg=this.strm.msg};pF.Inflate=g5;pF.inflate=ZJ;pF.inflateRaw=dF;pF.ungzip=ZJ});var VH=l((sS,qH)=>{var rF=r8().assign,sF=UG(),aF=GH(),tF=JJ(),HH={};rF(HH,sF,aF,tF);qH.exports=HH});var WH=l((aS,QJ)=>{(function(){var $={};if(typeof QJ=="object")QJ.exports=$;else self.UTIF=$;var J=typeof import.meta.require==="function"?VH():self.pako;function K(){console.log.apply(console,arguments)}(function(Z,Q){(function(){var Y=function W(){function U(R){this.message="JPEG error: "+R}return U.prototype=new Error,U.prototype.name="JpegError",U.constructor=U,U}(),G=function W(){var U=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),R=4017,O=799,B=3406,M=2276,C=1567,E=3784,T=5793,L=2896;function X(j){if(j==null)j={};if(j.w==null)j.w=-1;this.V=j.n,this.N=j.w}function z(j,v){var _=0,x=[],b,y,p=16,g;while(p>0&&!j[p-1])p--;x.push({children:[],index:0});var n=x[0];for(b=0;b<p;b++){for(y=0;y<j[b];y++){n=x.pop(),n.children[n.index]=v[_];while(n.index>0)n=x.pop();n.index++,x.push(n);while(x.length<=b)x.push(g={children:[],index:0}),n.children[n.index]=g.children,n=g;_++}if(b+1<p)x.push(g={children:[],index:0}),n.children[n.index]=g.children,n=g}return x[0].children}function N(j,v,_){return 64*((j.P+1)*v+_)}function P(j,v,_,x,b,y,p,g,n,e){if(e==null)e=!1;var{m:o,Z:t}=_,d=v,h=0,u=0,F=0,A=0,I,D=0,c,m,f,i,a,$0,Q0=0,W0,r,G0,K0;function q0(){if(u>0)return u--,h>>u&1;if(h=j[v++],h===255){var Y0=j[v++];if(Y0){if(Y0===220&&e){v+=2;var R0=q(j,v);if(v+=2,R0>0&&R0!==_.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",R0)}else if(Y0===217){if(e){var B0=D*8;if(B0>0&&B0<_.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",B0)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new Y("unexpected marker")}}return u=7,h>>>7}function V0(Y0){var R0=Y0;while(!0){switch(R0=R0[q0()],typeof R0){case"number":return R0;case"object":continue}throw new Y("invalid huffman sequence")}}function U0(Y0){var R0=0;while(Y0>0)R0=R0<<1|q0(),Y0--;return R0}function N0(Y0){if(Y0===1)return q0()===1?1:-1;var R0=U0(Y0);if(R0>=1<<Y0-1)return R0;return R0+(-1<<Y0)+1}function A0(Y0,R0){var B0=V0(Y0.J),L0=B0===0?0:N0(B0),I0=1;Y0.D[R0]=Y0.Q+=L0;while(I0<64){var g0=V0(Y0.i),M0=g0&15,x0=g0>>4;if(M0===0){if(x0<15)break;I0+=16;continue}I0+=x0;var b0=U[I0];Y0.D[R0+b0]=N0(M0),I0++}}function z0(Y0,R0){var B0=V0(Y0.J),L0=B0===0?0:N0(B0)<<n;Y0.D[R0]=Y0.Q+=L0}function X0(Y0,R0){Y0.D[R0]|=q0()<<n}function Z0(Y0,R0){if(F>0){F--;return}var B0=y,L0=p;while(B0<=L0){var I0=V0(Y0.i),g0=I0&15,M0=I0>>4;if(g0===0){if(M0<15){F=U0(M0)+(1<<M0)-1;break}B0+=16;continue}B0+=M0;var x0=U[B0];Y0.D[R0+x0]=N0(g0)*(1<<n),B0++}}function J0(Y0,R0){var B0=y,L0=p,I0=0,g0,M0;while(B0<=L0){var x0=R0+U[B0],b0=Y0.D[x0]<0?-1:1;switch(A){case 0:if(M0=V0(Y0.i),g0=M0&15,I0=M0>>4,g0===0)if(I0<15)F=U0(I0)+(1<<I0),A=4;else I0=16,A=1;else{if(g0!==1)throw new Y("invalid ACn encoding");I=N0(g0),A=I0?2:3}continue;case 1:case 2:if(Y0.D[x0])Y0.D[x0]+=b0*(q0()<<n);else if(I0--,I0===0)A=A===2?3:0;break;case 3:if(Y0.D[x0])Y0.D[x0]+=b0*(q0()<<n);else Y0.D[x0]=I<<n,A=0;break;case 4:if(Y0.D[x0])Y0.D[x0]+=b0*(q0()<<n);break}B0++}if(A===4){if(F--,F===0)A=0}}function H0(Y0,R0,B0,L0,I0){var g0=B0/o|0,M0=B0%o;D=g0*Y0.A+L0;var x0=M0*Y0.h+I0,b0=N(Y0,D,x0);R0(Y0,b0)}function j0(Y0,R0,B0){D=B0/Y0.P|0;var L0=B0%Y0.P,I0=N(Y0,D,L0);R0(Y0,I0)}var P0=x.length;if(t)if(y===0)$0=g===0?z0:X0;else $0=g===0?Z0:J0;else $0=A0;if(P0===1)r=x[0].P*x[0].c;else r=o*_.R;while(Q0<=r){var C0=b?Math.min(r-Q0,b):r;if(C0>0){for(m=0;m<P0;m++)x[m].Q=0;if(F=0,P0===1){c=x[0];for(a=0;a<C0;a++)j0(c,$0,Q0),Q0++}else for(a=0;a<C0;a++){for(m=0;m<P0;m++){c=x[m],G0=c.h,K0=c.A;for(f=0;f<K0;f++)for(i=0;i<G0;i++)H0(c,$0,Q0,f,i)}Q0++}}if(u=0,W0=w(j,v),!W0)break;if(W0.u){var D0=C0>0?"unexpected":"excessive";v=W0.offset}if(W0.M>=65488&&W0.M<=65495)v+=2;else break}return v-d}function S(j,v,_){var{$:x,D:b}=j,y,p,g,n,e,o,t,d,h,u,F,A,I,D,c,m,f;if(!x)throw new Y("missing required Quantization Table.");for(var i=0;i<64;i+=8){if(h=b[v+i],u=b[v+i+1],F=b[v+i+2],A=b[v+i+3],I=b[v+i+4],D=b[v+i+5],c=b[v+i+6],m=b[v+i+7],h*=x[i],(u|F|A|I|D|c|m)===0){f=T*h+512>>10,_[i]=f,_[i+1]=f,_[i+2]=f,_[i+3]=f,_[i+4]=f,_[i+5]=f,_[i+6]=f,_[i+7]=f;continue}u*=x[i+1],F*=x[i+2],A*=x[i+3],I*=x[i+4],D*=x[i+5],c*=x[i+6],m*=x[i+7],y=T*h+128>>8,p=T*I+128>>8,g=F,n=c,e=L*(u-m)+128>>8,d=L*(u+m)+128>>8,o=A<<4,t=D<<4,y=y+p+1>>1,p=y-p,f=g*E+n*C+128>>8,g=g*C-n*E+128>>8,n=f,e=e+t+1>>1,t=e-t,d=d+o+1>>1,o=d-o,y=y+n+1>>1,n=y-n,p=p+g+1>>1,g=p-g,f=e*M+d*B+2048>>12,e=e*B-d*M+2048>>12,d=f,f=o*O+t*R+2048>>12,o=o*R-t*O+2048>>12,t=f,_[i]=y+d,_[i+7]=y-d,_[i+1]=p+t,_[i+6]=p-t,_[i+2]=g+o,_[i+5]=g-o,_[i+3]=n+e,_[i+4]=n-e}for(var a=0;a<8;++a){if(h=_[a],u=_[a+8],F=_[a+16],A=_[a+24],I=_[a+32],D=_[a+40],c=_[a+48],m=_[a+56],(u|F|A|I|D|c|m)===0){if(f=T*h+8192>>14,f<-2040)f=0;else if(f>=2024)f=255;else f=f+2056>>4;b[v+a]=f,b[v+a+8]=f,b[v+a+16]=f,b[v+a+24]=f,b[v+a+32]=f,b[v+a+40]=f,b[v+a+48]=f,b[v+a+56]=f;continue}if(y=T*h+2048>>12,p=T*I+2048>>12,g=F,n=c,e=L*(u-m)+2048>>12,d=L*(u+m)+2048>>12,o=A,t=D,y=(y+p+1>>1)+4112,p=y-p,f=g*E+n*C+2048>>12,g=g*C-n*E+2048>>12,n=f,e=e+t+1>>1,t=e-t,d=d+o+1>>1,o=d-o,y=y+n+1>>1,n=y-n,p=p+g+1>>1,g=p-g,f=e*M+d*B+2048>>12,e=e*B-d*M+2048>>12,d=f,f=o*O+t*R+2048>>12,o=o*R-t*O+2048>>12,t=f,h=y+d,m=y-d,u=p+t,c=p-t,F=g+o,D=g-o,A=n+e,I=n-e,h<16)h=0;else if(h>=4080)h=255;else h>>=4;if(u<16)u=0;else if(u>=4080)u=255;else u>>=4;if(F<16)F=0;else if(F>=4080)F=255;else F>>=4;if(A<16)A=0;else if(A>=4080)A=255;else A>>=4;if(I<16)I=0;else if(I>=4080)I=255;else I>>=4;if(D<16)D=0;else if(D>=4080)D=255;else D>>=4;if(c<16)c=0;else if(c>=4080)c=255;else c>>=4;if(m<16)m=0;else if(m>=4080)m=255;else m>>=4;b[v+a]=h,b[v+a+8]=u,b[v+a+16]=F,b[v+a+24]=A,b[v+a+32]=I,b[v+a+40]=D,b[v+a+48]=c,b[v+a+56]=m}}function k(j,v){var{P:_,c:x}=v,b=new Int16Array(64);for(var y=0;y<x;y++)for(var p=0;p<_;p++){var g=N(v,y,p);S(v,g,b)}return v.D}function w(j,v,_){if(_==null)_=v;var x=j.length-1,b=_<v?_:v;if(v>=x)return null;var y=q(j,v);if(y>=65472&&y<=65534)return{u:null,M:y,offset:v};var p=q(j,b);while(!(p>=65472&&p<=65534)){if(++b>=x)return null;p=q(j,b)}return{u:y.toString(16),M:p,offset:b}}return X.prototype={parse(j,v){if(v==null)v={};var _=v.F,x=0,b=null,y=null,p,g,n=0;function e(){var M0=q(j,x);x+=2;var x0=x+M0-2,b0=w(j,x0,x);if(b0&&b0.u)x0=b0.offset;var $8=j.subarray(x,x0);return x+=$8.length,$8}function o(M0){var x0=Math.ceil(M0.o/8/M0.X),b0=Math.ceil(M0.s/8/M0.B);for(var $8=0;$8<M0.W.length;$8++){J0=M0.W[$8];var s0=Math.ceil(Math.ceil(M0.o/8)*J0.h/M0.X),G8=Math.ceil(Math.ceil(M0.s/8)*J0.A/M0.B),C8=x0*J0.h,k8=b0*J0.A,p8=64*k8*(C8+1);J0.D=new Int16Array(p8),J0.P=s0,J0.c=G8}M0.m=x0,M0.R=b0}var t=[],d=[],h=[],u=q(j,x);if(x+=2,u!==65496)throw new Y("SOI not found");u=q(j,x),x+=2;$:while(u!==65497){var F,A,I;switch(u){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var D=e();if(u===65504){if(D[0]===74&&D[1]===70&&D[2]===73&&D[3]===70&&D[4]===0)b={version:{d:D[5],T:D[6]},K:D[7],j:D[8]<<8|D[9],H:D[10]<<8|D[11],S:D[12],I:D[13],C:D.subarray(14,14+3*D[12]*D[13])}}if(u===65518){if(D[0]===65&&D[1]===100&&D[2]===111&&D[3]===98&&D[4]===101)y={version:D[5]<<8|D[6],k:D[7]<<8|D[8],q:D[9]<<8|D[10],a:D[11]}}break;case 65499:var c=q(j,x),m;x+=2;var f=c+x-2;while(x<f){var i=j[x++],a=new Uint16Array(64);if(i>>4===0)for(A=0;A<64;A++)m=U[A],a[m]=j[x++];else if(i>>4===1)for(A=0;A<64;A++)m=U[A],a[m]=q(j,x),x+=2;else throw new Y("DQT - invalid table spec");t[i&15]=a}break;case 65472:case 65473:case 65474:if(p)throw new Y("Only single frame JPEGs supported");x+=2,p={},p.G=u===65473,p.Z=u===65474,p.precision=j[x++];var $0=q(j,x),Q0,W0=0,r=0;x+=2,p.s=_||$0,p.o=q(j,x),x+=2,p.W=[],p._={};var G0=j[x++];for(F=0;F<G0;F++){Q0=j[x];var K0=j[x+1]>>4,q0=j[x+1]&15;if(W0<K0)W0=K0;if(r<q0)r=q0;var V0=j[x+2];I=p.W.push({h:K0,A:q0,L:V0,$:null}),p._[Q0]=I-1,x+=3}p.X=W0,p.B=r,o(p);break;case 65476:var U0=q(j,x);x+=2;for(F=2;F<U0;){var N0=j[x++],A0=new Uint8Array(16),z0=0;for(A=0;A<16;A++,x++)z0+=A0[A]=j[x];var X0=new Uint8Array(z0);for(A=0;A<z0;A++,x++)X0[A]=j[x];F+=17+z0,(N0>>4===0?h:d)[N0&15]=z(A0,X0)}break;case 65501:x+=2,g=q(j,x),x+=2;break;case 65498:var Z0=++n===1&&!_,J0;x+=2;var H0=j[x++],j0=[];for(F=0;F<H0;F++){var P0=j[x++],C0=p._[P0];J0=p.W[C0],J0.index=P0;var D0=j[x++];J0.J=h[D0>>4],J0.i=d[D0&15],j0.push(J0)}var Y0=j[x++],R0=j[x++],B0=j[x++];try{var L0=P(j,x,p,j0,g,Y0,R0,B0>>4,B0&15,Z0);x+=L0}catch(M0){if(M0 instanceof DNLMarkerError)return this.parse(j,{F:M0.s});else if(M0 instanceof EOIMarkerError)break $;throw M0}break;case 65500:x+=4;break;case 65535:if(j[x]!==255)x--;break;default:var I0=w(j,x-2,x-3);if(I0&&I0.u){x=I0.offset;break}if(x>=j.length-1)break $;throw new Y("JpegImage.parse - unknown marker: "+u.toString(16))}u=q(j,x),x+=2}this.width=p.o,this.height=p.s,this.g=b,this.b=y,this.W=[];for(F=0;F<p.W.length;F++){J0=p.W[F];var g0=t[J0.L];if(g0)J0.$=g0;this.W.push({index:J0.index,e:k(p,J0),l:J0.h/p.X,t:J0.A/p.B,P:J0.P,c:J0.c})}this.p=this.W.length;return},Y(j,v,_){if(_==null)_=!1;var x=this.width/j,b=this.height/v,y,p,g,n,e,o,t,d,h,u,F=0,A,I=this.W.length,D=j*v*I,c=new Uint8ClampedArray(D),m=new Uint32Array(j),f=4294967288,i;for(t=0;t<I;t++){if(y=this.W[t],p=y.l*x,g=y.t*b,F=t,A=y.e,n=y.P+1<<3,p!==i){for(e=0;e<j;e++)d=0|e*p,m[e]=(d&f)<<3|d&7;i=p}for(o=0;o<v;o++){d=0|o*g,u=n*(d&f)|(d&7)<<3;for(e=0;e<j;e++)c[F]=A[u+m[e]],F+=I}}var a=this.V;if(!_&&I===4&&!a)a=new Int32Array([-256,255,-256,255,-256,255,-256,255]);if(a)for(t=0;t<D;)for(d=0,h=0;d<I;d++,t++,h+=2)c[t]=(c[t]*a[h]>>8)+a[h+1];return c},get f(){if(this.b)return!!this.b.a;if(this.p===3){if(this.N===0)return!1;else if(this.W[0].index===82&&this.W[1].index===71&&this.W[2].index===66)return!1;return!0}if(this.N===1)return!0;return!1},z:function j(v){var _,x,b;for(var y=0,p=v.length;y<p;y+=3)_=v[y],x=v[y+1],b=v[y+2],v[y]=_-179.456+1.402*b,v[y+1]=_+135.459-0.344*x-0.714*b,v[y+2]=_-226.816+1.772*x;return v},O:function j(v){var _,x,b,y,p=0;for(var g=0,n=v.length;g<n;g+=4)_=v[g],x=v[g+1],b=v[g+2],y=v[g+3],v[p++]=-122.67195406894+x*(-0.0000660635669420364*x+0.000437130475926232*b-0.000054080610064599*_+0.00048449797120281*y-0.154362151871126)+b*(-0.000957964378445773*b+0.000817076911346625*_-0.00477271405408747*y+1.53380253221734)+_*(0.000961250184130688*_-0.00266257332283933*y+0.48357088451265)+y*(-0.000336197177618394*y+0.484791561490776),v[p++]=107.268039397724+x*(0.0000219927104525741*x-0.000640992018297945*b+0.000659397001245577*_+0.000426105652938837*y-0.176491792462875)+b*(-0.000778269941513683*b+0.00130872261408275*_+0.000770482631801132*y-0.151051492775562)+_*(0.00126935368114843*_-0.00265090189010898*y+0.25802910206845)+y*(-0.000318913117588328*y-0.213742400323665),v[p++]=-20.810012546947+x*(-0.000570115196973677*x-0.0000263409051004589*b+0.0020741088115012*_-0.00288260236853442*y+0.814272968359295)+b*(-0.0000153496057440975*b-0.000132689043961446*_+0.000560833691242812*y-0.195152027534049)+_*(0.00174418132927582*_-0.00255243321439347*y+0.116935020465145)+y*(-0.000343531996510555*y+0.24165260232407);return v.subarray(0,p)},r:function j(v){var _,x,b;for(var y=0,p=v.length;y<p;y+=4)_=v[y],x=v[y+1],b=v[y+2],v[y]=434.456-_-1.402*b,v[y+1]=119.541-_+0.344*x+0.714*b,v[y+2]=481.816-_-1.772*x;return v},U:function j(v){var _,x,b,y,p=0;for(var g=0,n=v.length;g<n;g+=4)_=v[g],x=v[g+1],b=v[g+2],y=v[g+3],v[p++]=255+_*(-0.00006747147073602441*_+0.0008379262121013727*x+0.0002894718188643294*b+0.003264231057537806*y-1.1185611867203937)+x*(0.000026374107616089405*x-0.00008626949158638572*b-0.0002748769067499491*y-0.02155688794978967)+b*(-0.00003878099212869363*b-0.0003267808279485286*y+0.0686742238595345)-y*(0.0003361971776183937*y+0.7430659151342254),v[p++]=255+_*(0.00013596372813588848*_+0.000924537132573585*x+0.00010567359618683593*b+0.0004791864687436512*y-0.3109689587515875)+x*(-0.00023545346108370344*x+0.0002702845253534714*b+0.0020200308977307156*y-0.7488052167015494)+b*(0.00006834815998235662*b+0.00015168452363460973*y-0.09751927774728933)-y*(0.0003189131175883281*y+0.7364883807733168),v[p++]=255+_*(0.000013598650411385307*_+0.00012423956175490851*x+0.0004751985097583589*b-0.0000036729317476630422*y-0.05562186980264034)+x*(0.00016141380598724676*x+0.0009692239130725186*b+0.0007782692450036253*y-0.44015232367526463)+b*(0.0000005068882914068769*b+0.0017778369011375071*y-0.7591454649749609)-y*(0.0003435319965105553*y+0.7063770186160144);return v.subarray(0,p)},getData:function(j){var{width:v,height:_,forceRGB:x,isSourcePDF:b}=j;if(this.p>4)throw new Y("Unsupported color mode");var y=this.Y(v,_,b);if(this.p===1&&x){var p=y.length,g=new Uint8ClampedArray(p*3),n=0;for(var e=0;e<p;e++){var o=y[e];g[n++]=o,g[n++]=o,g[n++]=o}return g}else if(this.p===3&&this.f)return this.z(y);else if(this.p===4){if(this.f){if(x)return this.O(y);return this.r(y)}else if(x)return this.U(y)}return y}},X}();function H(W,U){return W[U]<<24>>24}function q(W,U){return W[U]<<8|W[U+1]}function V(W,U){return(W[U]<<24|W[U+1]<<16|W[U+2]<<8|W[U+3])>>>0}Z.JpegDecoder=G})(),Z.encodeImage=function(Y,G,H,q){var V={t256:[G],t257:[H],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1000],t277:[4],t278:[H],t279:[G*H*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(q)for(var W in q)V[W]=q[W];var U=new Uint8Array(Z.encode([V])),R=new Uint8Array(Y),O=new Uint8Array(1000+G*H*4);for(var W=0;W<U.length;W++)O[W]=U[W];for(var W=0;W<R.length;W++)O[1000+W]=R[W];return O.buffer},Z.encode=function(Y){var G=!1,H=new Uint8Array(20000),q=4,V=G?Z._binLE:Z._binBE;H[0]=H[1]=G?73:77,V.writeUshort(H,2,42);var W=8;V.writeUint(H,q,W),q+=4;for(var U=0;U<Y.length;U++){var R=Z._writeIFD(V,Z._types.basic,H,W,Y[U]);if(W=R[1],U<Y.length-1){if((W&3)!=0)W+=4-(W&3);V.writeUint(H,R[0],W)}}return H.slice(0,W).buffer},Z.decode=function(Y,G){if(G==null)G={parseMN:!0,debug:!1};var H=new Uint8Array(Y),q=0,V=Z._binBE.readASCII(H,q,2);q+=2;var W=V=="II"?Z._binLE:Z._binBE,U=W.readUshort(H,q);q+=2;var R=W.readUint(H,q);q+=4;var O=[];while(!0){var B=W.readUshort(H,R),M=W.readUshort(H,R+4);if(B!=0){if(M<1||13<M){K("error in TIFF");break}}if(Z._readIFD(W,H,R,O,0,G),R=W.readUint(H,R+2+B*12),R==0)break}return O},Z.decodeImage=function(Y,G,H){if(G.data)return;var q=new Uint8Array(Y),V=Z._binBE.readASCII(q,0,2);if(G.t256==null)return;G.isLE=V=="II",G.width=G.t256[0],G.height=G.t257[0];var W=G.t259?G.t259[0]:1,U=G.t266?G.t266[0]:1;if(G.t284&&G.t284[0]==2)K("PlanarConfiguration 2 should not be used!");if(W==7&&G.t258&&G.t258.length>3)G.t258=G.t258.slice(0,3);var R=G.t277?G.t277[0]:1,O=G.t258?G.t258[0]:1,B=O*R;if(W==1&&G.t279!=null&&G.t278&&G.t262[0]==32803)B=Math.round(G.t279[0]*8/(G.width*G.t278[0]));if(G.t50885&&G.t50885[0]==4)B=G.t258[0]*3;var M=Math.ceil(G.width*B/8)*8,C=G.t273;if(C==null||G.t322)C=G.t324;var E=G.t279;if(W==1&&C.length==1)E=[G.height*(M>>>3)];if(E==null||G.t322)E=G.t325;var T=new Uint8Array(G.height*(M>>>3)),L=0;if(G.t322!=null){var X=G.t322[0],z=G.t323[0],N=Math.floor((G.width+X-1)/X),P=Math.floor((G.height+z-1)/z),S=new Uint8Array(Math.ceil(X*z*B/8)|0);console.log("====",N,P);for(var k=0;k<P;k++)for(var w=0;w<N;w++){var j=k*N+w;if(S.fill(0),Z.decode._decompress(G,H,q,C[j],E[j],W,S,0,U,X,z),W==6)T=S;else Z._copyTile(S,Math.ceil(X*B/8)|0,z,T,Math.ceil(G.width*B/8)|0,G.height,Math.ceil(w*X*B/8)|0,k*z)}L=T.length*8}else{if(C==null)return;var v=G.t278?G.t278[0]:G.height;v=Math.min(v,G.height);for(var j=0;j<C.length;j++)Z.decode._decompress(G,H,q,C[j],E[j],W,T,Math.ceil(L/8)|0,U,G.width,v),L+=M*v;L=Math.min(L,T.length*8)}G.data=new Uint8Array(T.buffer,0,Math.ceil(L/8)|0)},Z.decode._decompress=function(Y,G,H,q,V,W,U,R,O,B,M){if(Y.t271&&Y.t271[0]=="Panasonic"&&Y.t45&&Y.t45[0]==6)W=34316;if(W==1)for(var C=0;C<V;C++)U[R+C]=H[q+C];else if(W==2)Z.decode._decodeG2(H,q,V,U,R,B,O);else if(W==3)Z.decode._decodeG3(H,q,V,U,R,B,O,Y.t292?(Y.t292[0]&1)==1:!1);else if(W==4)Z.decode._decodeG4(H,q,V,U,R,B,O);else if(W==5)Z.decode._decodeLZW(H,q,V,U,R,8);else if(W==6)Z.decode._decodeOldJPEG(Y,H,q,V,U,R);else if(W==7||W==34892)Z.decode._decodeNewJPEG(Y,H,q,V,U,R);else if(W==8||W==32946){var E=new Uint8Array(H.buffer,q+2,V-6),T=Q.inflateRaw(E);if(R+T.length<=U.length)U.set(T,R)}else if(W==9)Z.decode._decodeVC5(H,q,V,U,R,Y.t33422);else if(W==32767)Z.decode._decodeARW(Y,H,q,V,U,R);else if(W==32773)Z.decode._decodePackBits(H,q,V,U,R);else if(W==32809)Z.decode._decodeThunder(H,q,V,U,R);else if(W==34316)Z.decode._decodePanasonic(Y,H,q,V,U,R);else if(W==34713)Z.decode._decodeNikon(Y,G,H,q,V,U,R);else if(W==34676)Z.decode._decodeLogLuv32(Y,H,q,V,U,R);else K("Unknown compression",W);var L=Y.t258?Math.min(32,Y.t258[0]):1,X=Y.t277?Y.t277[0]:1,z=L*X>>>3,N=Math.ceil(L*X*B/8);if(L==16&&!Y.isLE&&Y.t33422==null)for(var P=0;P<M;P++){var S=R+P*N;for(var k=1;k<N;k+=2){var w=U[S+k];U[S+k]=U[S+k-1],U[S+k-1]=w}}if(Y.t317&&Y.t317[0]==2)for(var P=0;P<M;P++){var j=R+P*N;if(L==16)for(var C=z;C<N;C+=2){var v=(U[j+C+1]<<8|U[j+C])+(U[j+C-z+1]<<8|U[j+C-z]);U[j+C]=v&255,U[j+C+1]=v>>>8&255}else if(X==3)for(var C=3;C<N;C+=3)U[j+C]=U[j+C]+U[j+C-3]&255,U[j+C+1]=U[j+C+1]+U[j+C-2]&255,U[j+C+2]=U[j+C+2]+U[j+C-1]&255;else for(var C=z;C<N;C++)U[j+C]=U[j+C]+U[j+C-z]&255}},Z.decode._decodePanasonic=function(Y,G,H,q,V,W){var U=G.buffer,R=Y.t2[0],O=Y.t3[0],B=Y.t10[0],M=Y.t45[0],C=0,E=0,T=0,L=0,X,z,N=M==6?new Uint32Array(18):new Uint8Array(16),P,S,k,w=[0,0],j=[0,0],v,_=0,x,b,y,p,g=new Uint8Array(16384),n=new Uint16Array(V.buffer);function e(q0){if(T==0){var V0=new Uint8Array(U,H+E+8184,8200),U0=new Uint8Array(U,H+E,8184);g.set(V0),g.set(U0,V0.length),E+=16384}if(M==5)for(P=0;P<16;P++)N[P]=g[T++],T&=16383;else return T=T-q0&131071,L=T>>3^16368,(g[L]|g[L+1]<<8)>>(T&7)&~(-1<<q0)}function o(q0){return g[T+15-q0]}function t(){N[0]=o(0)<<6|o(1)>>2,N[1]=((o(1)&3)<<12|o(2)<<4|o(3)>>4)&16383,N[2]=o(3)>>2&3,N[3]=(o(3)&3)<<8|o(4),N[4]=o(5)<<2|o(6)>>6,N[5]=(o(6)&63)<<4|o(7)>>4,N[6]=o(7)>>2&3,N[7]=(o(7)&3)<<8|o(8),N[8]=o(9)<<2&1020|o(10)>>6,N[9]=(o(10)<<4|o(11)>>4)&1023,N[10]=o(11)>>2&3,N[11]=(o(11)&3)<<8|o(12),N[12]=(o(13)<<2&1020|o(14)>>6)&1023,N[13]=(o(14)<<4|o(15)>>4)&1023,T+=16,L=0}function d(){N[0]=o(0)<<4|o(1)>>4,N[1]=((o(1)&15)<<8|o(2))&4095,N[2]=o(3)>>6&3,N[3]=(o(3)&63)<<2|o(4)>>6,N[4]=(o(4)&63)<<2|o(5)>>6,N[5]=(o(5)&63)<<2|o(6)>>6,N[6]=o(6)>>4&3,N[7]=(o(6)&15)<<4|o(7)>>4,N[8]=(o(7)&15)<<4|o(8)>>4,N[9]=(o(8)&15)<<4|o(9)>>4,N[10]=o(9)>>2&3,N[11]=(o(9)&3)<<6|o(10)>>2,N[12]=(o(10)&3)<<6|o(11)>>2,N[13]=(o(11)&3)<<6|o(12)>>2,N[14]=o(12)&3,N[15]=o(13),N[16]=o(14),N[17]=o(15),T+=16,L=0}function h(){w[0]=0,w[1]=0,j[0]=0,j[1]=0}if(M==7)throw M;else if(M==6){var u=B==12,F=u?d:t,A=u?14:11,I=u?128:512,D=u?2048:8192,c=u?16383:65535,m=u?4095:16383,f=R/A,i=f*16,a=u?18:14;for(b=0;b<O-15;b+=16){var $0=Math.min(16,O-b),Q0=i*$0;g=new Uint8Array(U,H+C,Q0),T=0,C+=Q0;for(p=0,y=0;p<$0;p++,y=0){_=(b+p)*R;for(var W0=0;W0<f;W0++){F(),h(),k=0,x=0;for(P=0;P<A;P++){if(v=P&1,P%3==2){var r=L<a?N[L++]:0;if(r==3)r=4;x=I<<r,k=1<<r}var G0=L<a?N[L++]:0;if(w[v]){if(G0*=k,x<D&&j[v]>x)G0+=j[v]-x;j[v]=G0}else if(w[v]=G0,G0)j[v]=G0;else G0=j[v];n[_+y++]=G0-15<=c?G0-15&c:G0+2147483633>>31&m}}}}}else if(M==5){var K0=B==12?10:9;for(b=0;b<O;b++)for(y=0;y<R;y+=K0)if(e(0),B==12)n[_++]=((N[1]&15)<<8)+N[0],n[_++]=16*N[2]+(N[1]>>4),n[_++]=((N[4]&15)<<8)+N[3],n[_++]=16*N[5]+(N[4]>>4),n[_++]=((N[7]&15)<<8)+N[6],n[_++]=16*N[8]+(N[7]>>4),n[_++]=((N[10]&15)<<8)+N[9],n[_++]=16*N[11]+(N[10]>>4),n[_++]=((N[13]&15)<<8)+N[12],n[_++]=16*N[14]+(N[13]>>4);else if(B==14)n[_++]=N[0]+((N[1]&63)<<8),n[_++]=(N[1]>>6)+4*N[2]+((N[3]&15)<<10),n[_++]=(N[3]>>4)+16*N[4]+((N[5]&3)<<12),n[_++]=((N[5]&252)>>2)+(N[6]<<6),n[_++]=N[7]+((N[8]&63)<<8),n[_++]=(N[8]>>6)+4*N[9]+((N[10]&15)<<10),n[_++]=(N[10]>>4)+16*N[11]+((N[12]&3)<<12),n[_++]=((N[12]&252)>>2)+(N[13]<<6),n[_++]=N[14]+((N[15]&63)<<8)}else if(M==4)for(b=0;b<O;b++)for(y=0;y<R;y++){if(P=y%14,v=P&1,P==0)h();if(P%3==2)k=4>>3-e(2);if(j[v]){if(S=e(8),S!=0){if(w[v]-=128<<k,w[v]<0||k==4)w[v]&=~(-1<<k);w[v]+=S<<k}}else if(j[v]=e(8),j[v]||P>11)w[v]=j[v]<<4|e(4);n[_++]=w[y&1]}else throw M},Z.decode._decodeVC5=function(){var Y=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],G,H,q,V=[3,3,3,3,2,2,2,1,1,1],W=24576,U=16384,R=8192,O=U|R;function B(P){var S=P[1],k=P[0][S>>>3]>>>7-(S&7)&1;return P[1]++,k}function M(P,S){if(G==null){G={};for(var k=0;k<Y.length;k+=4)G[Y[k+1]]=Y.slice(k,k+4)}var w=B(P),j=G[w];while(j==null)w=w<<1|B(P),j=G[w];var v=j[3];if(v!=0)v=B(P)==0?v:-v;S[0]=j[2],S[1]=v}function C(P,S){for(var k=0;k<S;k++){if((P&1)==1)P++;P=P>>>1}return P}function E(P,S){return P>>S}function T(P,S,k,w,j,v){S[k]=E(E(11*P[j]-4*P[j+v]+P[j+v+v]+4,3)+P[w],1),S[k+v]=E(E(5*P[j]+4*P[j+v]-P[j+v+v]+4,3)-P[w],1)}function L(P,S,k,w,j,v){var _=P[j-v]-P[j+v],x=P[j],b=P[w];S[k]=E(E(_+4,3)+x+b,1),S[k+v]=E(E(-_+4,3)+x-b,1)}function X(P,S,k,w,j,v){S[k]=E(E(5*P[j]+4*P[j-v]-P[j-v-v]+4,3)+P[w],1),S[k+v]=E(E(11*P[j]-4*P[j-v]+P[j-v-v]+4,3)-P[w],1)}function z(P){return P=P<0?0:P>4095?4095:P,P=q[P]>>>2,P}function N(P,S,k,w,j,v){w=new Uint16Array(w.buffer);var _=Date.now(),x=Z._binBE,b=S+k,y,p,g,n,e,o,t,d,h,u,F,A,I,D,c,m,f,i;S+=4;var a=v[0]==1;while(S<b){var $0=x.readShort(P,S),Q0=x.readUshort(P,S+2);if(S+=4,$0==12)y=Q0;else if($0==20)p=Q0;else if($0==21)g=Q0;else if($0==48)n=Q0;else if($0==53)e=Q0;else if($0==35)o=Q0;else if($0==62)t=Q0;else if($0==101)d=Q0;else if($0==109)h=Q0;else if($0==84)u=Q0;else if($0==106)F=Q0;else if($0==107)A=Q0;else if($0==108)I=Q0;else if($0==102)D=Q0;else if($0==104)c=Q0;else if($0==105)m=Q0;else{var W0=$0<0?-$0:$0,r=W0&65280,G0=0;if(W0&O)if(W0&R)G0=Q0&65535,G0+=(W0&255)<<16;else G0=Q0&65535;if((W0&W)==W){if(f==null){f=[];for(var K0=0;K0<4;K0++)f[K0]=new Int16Array((p>>>1)*(g>>>1));i=new Int16Array((p>>>1)*(g>>>1)),H=new Int16Array(1024);for(var K0=0;K0<1024;K0++){var q0=K0-512,V0=Math.abs(q0),y=Math.floor(768*V0*V0*V0/16581375)+V0;H[K0]=Math.sign(q0)*y}q=new Uint16Array(4096);var U0=(1<<16)-1;for(var K0=0;K0<4096;K0++){var N0=K0,A0=U0*(Math.pow(113,N0/4095)-1)/112;q[K0]=Math.min(A0,U0)}}var z0=f[t],X0=C(p,1+V[n]),Z0=C(g,1+V[n]);if(n==0)for(var J0=0;J0<Z0;J0++)for(var H0=0;H0<X0;H0++){var j0=S+(J0*X0+H0)*2;z0[J0*(p>>>1)+H0]=P[j0]<<8|P[j0+1]}else{var P0=[P,S*8],C0=[],D0=0,Y0=X0*Z0,R0=[0,0],B0=0,Q0=0;while(D0<Y0){M(P0,R0),B0=R0[0],Q0=R0[1];while(B0>0)C0[D0++]=Q0,B0--}var L0=(n-1)%3,I0=L0!=1?X0:0,g0=L0!=0?Z0:0;for(var J0=0;J0<Z0;J0++){var M0=(J0+g0)*(p>>>1)+I0,x0=J0*X0;for(var H0=0;H0<X0;H0++)z0[M0+H0]=H[C0[x0+H0]+512]*e}if(L0==2){var c=p>>>1,b0=X0*2,$8=Z0*2;for(var J0=0;J0<Z0;J0++)for(var H0=0;H0<b0;H0++){var K0=J0*2*c+H0,s0=J0*c+H0,G8=Z0*c+s0;if(J0==0)T(z0,i,K0,G8,s0,c);else if(J0==Z0-1)X(z0,i,K0,G8,s0,c);else L(z0,i,K0,G8,s0,c)}var C8=z0;z0=i,i=C8;for(var J0=0;J0<$8;J0++)for(var H0=0;H0<X0;H0++){var K0=J0*c+2*H0,s0=J0*c+H0,G8=X0+s0;if(H0==0)T(z0,i,K0,G8,s0,1);else if(H0==X0-1)X(z0,i,K0,G8,s0,1);else L(z0,i,K0,G8,s0,1)}var C8=z0;z0=i,i=C8;var k8=[],p8=2-~~((n-1)/3);for(var v8=0;v8<3;v8++)k8[v8]=h>>14-v8*2&3;var A6=k8[p8];if(A6!=0)for(var J0=0;J0<$8;J0++)for(var H0=0;H0<b0;H0++){var K0=J0*c+H0;z0[K0]=z0[K0]<<A6}}}if(n==9&&t==3){var B6=f[0],Z1=f[1],Q1=f[2],Y1=f[3];for(var J0=0;J0<g;J0+=2)for(var H0=0;H0<p;H0+=2){var L8=J0*p+H0,j0=(J0>>>1)*(p>>>1)+(H0>>>1),C5=B6[j0],E9=Z1[j0]-2048,L5=Q1[j0]-2048,f5=Y1[j0]-2048,M5=(E9<<1)+C5,S5=(L5<<1)+C5,F6=C5+f5,X6=C5-f5;if(a)w[L8]=z(F6),w[L8+1]=z(S5),w[L8+p]=z(M5),w[L8+p+1]=z(X6);else w[L8]=z(M5),w[L8+1]=z(F6),w[L8+p]=z(X6),w[L8+p+1]=z(S5)}}S+=G0*4}else if(W0==16388)S+=G0*4;else if(r==8192||r==8448||r==9216);else throw W0.toString(16)}}console.log(Date.now()-_)}return N}(),Z.decode._decodeLogLuv32=function(Y,G,H,q,V,W){var U=Y.width,R=U*4,O=0,B=new Uint8Array(R);while(O<q){var M=0;while(M<R){var C=G[H+O];if(O++,C<128){for(var E=0;E<C;E++)B[M+E]=G[H+O+E];M+=C,O+=C}else{C=C-126;for(var E=0;E<C;E++)B[M+E]=G[H+O];M+=C,O++}}for(var T=0;T<U;T++)V[W+0]=B[T],V[W+1]=B[T+U],V[W+2]=B[T+U*2],V[W+4]=B[T+U*3],W+=6}},Z.decode._ljpeg_diff=function(Y,G,H){var q=Z.decode._getbithuff,V,W;if(V=q(Y,G,H[0],H),W=q(Y,G,V,0),(W&1<<V-1)==0)W-=(1<<V)-1;return W},Z.decode._decodeARW=function(Y,G,H,q,V,W){var U=Y.t256[0],R=Y.t257[0],O=Y.t258[0],B=Y.isLE?Z._binLE:Z._binBE,M=U*R==q||U*R*1.5==q;if(!M){R+=8;var C=[H,0,0,0],E=new Uint16Array(32770),T=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],t,L,X,x,_,z=0,N=Z.decode._ljpeg_diff;E[0]=15;for(X=t=0;t<18;t++){var P=32768>>>(T[t]>>>8);for(var L=0;L<P;L++)E[++X]=T[t]}for(x=U;x--;)for(_=0;_<R+1;_+=2){if(_==R)_=1;if(z+=N(G,C,E),_<R){var S=z&4095;Z.decode._putsF(V,(_*U+x)*O,S<<16-O)}}return}if(U*R*1.5==q){for(var t=0;t<q;t+=3){var k=G[H+t+0],w=G[H+t+1],j=G[H+t+2];V[W+t]=w<<4|k>>>4,V[W+t+1]=k<<4|j>>>4,V[W+t+2]=j<<4|w>>>4}return}var v=new Uint16Array(16),_,x,b,y,p,g,n,e,o,t,d,h=new Uint8Array(U+1);for(_=0;_<R;_++){for(var u=0;u<U;u++)h[u]=G[H++];for(d=0,x=0;x<U-30;d+=16){y=2047&(b=B.readUint(h,d)),p=2047&b>>>11,g=15&b>>>22,n=15&b>>>26;for(e=0;e<4&&128<<e<=y-p;e++);for(o=30,t=0;t<16;t++)if(t==g)v[t]=y;else if(t==n)v[t]=p;else{if(v[t]=((B.readUshort(h,d+(o>>3))>>>(o&7)&127)<<e)+p,v[t]>2047)v[t]=2047;o+=7}for(t=0;t<16;t++,x+=2){var S=v[t]<<1;Z.decode._putsF(V,(_*U+x)*O,S<<16-O)}x-=x&1?1:31}}},Z.decode._decodeNikon=function(Y,G,H,q,V,W,U){var R=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],O=Y.t256[0],B=Y.t257[0],M=Y.t258[0],C=0,E=0,T=Z.decode._make_decoder,L=Z.decode._getbithuff,X=G[0].exifIFD.makerNote,z=X.t150?X.t150:X.t140,N=0,P=z[N++],S=z[N++];if(P==73||S==88)N+=2110;if(P==70)C=2;if(M==14)C+=3;var k=[[0,0],[0,0]],w=Y.isLE?Z._binLE:Z._binBE;for(var b=0;b<2;b++)for(var j=0;j<2;j++)k[b][j]=w.readShort(z,N),N+=2;var v=1<<M&32767,_=0,x=w.readShort(z,N);if(N+=2,x>1)_=Math.floor(v/(x-1));if(P==68&&S==32&&_>0)E=w.readShort(z,562);var b,y,p,g,n,e,o=0,t=[0,0],d=T(R[C]),h=[q,0,0,0];for(o=y=0;y<B;y++){if(E&&y==E)d=T(R[C+1]);for(p=0;p<O;p++){if(b=L(H,h,d[0],d),g=b&15,n=b>>>4,e=(L(H,h,g-n,0)<<1)+1<<n>>>1,(e&1<<g-1)==0)e-=(1<<g)-(n==0?1:0);if(p<2)t[p]=k[y&1][p]+=e;else t[p&1]+=e;var u=Math.min(Math.max(t[p&1],0),(1<<M)-1),F=(y*O+p)*M;Z.decode._putsF(W,F,u<<16-M)}}},Z.decode._putsF=function(Y,G,H){H=H<<8-(G&7);var q=G>>>3;Y[q]|=H>>>16,Y[q+1]|=H>>>8,Y[q+2]|=H},Z.decode._getbithuff=function(Y,G,H,q){var V=0,W=Z.decode._get_byte,U,R=G[0],O=G[1],B=G[2],M=G[3];if(H==0||B<0)return 0;while(!M&&B<H&&(U=Y[R++])!=-1&&!(M=V&&U==255&&Y[R++]))O=(O<<8)+U,B+=8;if(U=O<<32-B>>>32-H,q)B-=q[U+1]>>>8,U=q[U+1]&255;else B-=H;if(B<0)throw"e";return G[0]=R,G[1]=O,G[2]=B,G[3]=M,U},Z.decode._make_decoder=function(Y){var G,H,q,V,W,U=[];for(G=16;G!=0&&!Y[G];G--);var R=17;U[0]=G;for(q=H=1;H<=G;H++)for(V=0;V<Y[H];V++,++R)for(W=0;W<1<<G-H;W++)if(q<=1<<G)U[q++]=H<<8|Y[R];return U},Z.decode._decodeNewJPEG=function(Y,G,H,q,V,W){q=Math.min(q,G.length-H);var U=Y.t347,R=U?U.length:0,O=new Uint8Array(R+q);if(U){var B=216,M=217,C=0;for(var E=0;E<R-1;E++){if(U[E]==255&&U[E+1]==M)break;O[C++]=U[E]}var T=G[H],L=G[H+1];if(T!=255||L!=B)O[C++]=T,O[C++]=L;for(var E=2;E<q;E++)O[C++]=G[H+E]}else for(var E=0;E<q;E++)O[E]=G[H+E];if(Y.t262[0]==32803||Y.t259[0]==7&&Y.t262[0]==34892){var X=Y.t258[0],z=Z.LosslessJpegDecode(O),N=z.length;if(X==16)if(Y.isLE)for(var E=0;E<N;E++)V[W+(E<<1)]=z[E]&255,V[W+(E<<1)+1]=z[E]>>>8;else for(var E=0;E<N;E++)V[W+(E<<1)]=z[E]>>>8,V[W+(E<<1)+1]=z[E]&255;else if(X==14||X==12||X==10){var P=16-X;for(var E=0;E<N;E++)Z.decode._putsF(V,E*X,z[E]<<P)}else if(X==8)for(var E=0;E<N;E++)V[W+E]=z[E];else throw new Error("unsupported bit depth "+X)}else{var S=new Z.JpegDecoder;S.parse(O);var k=S.getData({width:S.width,height:S.height,forceRGB:!0,isSourcePDF:!1});for(var E=0;E<k.length;E++)V[W+E]=k[E]}if(Y.t262[0]==6)Y.t262[0]=2},Z.decode._decodeOldJPEGInit=function(Y,G,H,q){var V=216,W=217,U=219,R=196,O=221,B=192,M=218,C=0,E=0,T,L,X=!1,z,N,P,S=Y.t513,k=S?S[0]:0,w=Y.t514,j=w?w[0]:0,v=Y.t324||Y.t273||S,_=Y.t530,x=0,b=0,y=Y.t277?Y.t277[0]:1,p=Y.t515;if(v)E=v[0],X=v.length>1;if(!X){if(G[H]==255&&G[H+1]==V)return{jpegOffset:H};if(S!=null){if(G[H+k]==255&&G[H+k+1]==V)C=H+k;else K("JPEGInterchangeFormat does not point to SOI");if(w==null)K("JPEGInterchangeFormatLength field is missing");else if(k>=E||k+j<=E)K("JPEGInterchangeFormatLength field value is invalid");if(C!=null)return{jpegOffset:C}}}if(_!=null)x=_[0],b=_[1];if(S!=null){if(w!=null)if(j>=2&&k+j<=E){if(G[H+k+j-2]==255&&G[H+k+j-1]==V)T=new Uint8Array(j-2);else T=new Uint8Array(j);for(z=0;z<T.length;z++)T[z]=G[H+k+z];K("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else K("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile")}if(T==null){var g=0,n=[];n[g++]=255,n[g++]=V;var e=Y.t519;if(e==null)throw new Error("JPEGQTables tag is missing");for(z=0;z<e.length;z++){n[g++]=255,n[g++]=U,n[g++]=0,n[g++]=67,n[g++]=z;for(N=0;N<64;N++)n[g++]=G[H+e[z]+N]}for(P=0;P<2;P++){var o=Y[P==0?"t520":"t521"];if(o==null)throw new Error((P==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(z=0;z<o.length;z++){n[g++]=255,n[g++]=R;var t=19;for(N=0;N<16;N++)t+=G[H+o[z]+N];n[g++]=t>>>8,n[g++]=t&255,n[g++]=z|P<<4;for(N=0;N<16;N++)n[g++]=G[H+o[z]+N];for(N=0;N<t;N++)n[g++]=G[H+o[z]+16+N]}}if(n[g++]=255,n[g++]=B,n[g++]=0,n[g++]=8+3*y,n[g++]=8,n[g++]=Y.height>>>8&255,n[g++]=Y.height&255,n[g++]=Y.width>>>8&255,n[g++]=Y.width&255,n[g++]=y,y==1)n[g++]=1,n[g++]=17,n[g++]=0;else for(z=0;z<3;z++)n[g++]=z+1,n[g++]=z!=0?17:(x&15)<<4|b&15,n[g++]=z;if(p!=null&&p[0]!=0)n[g++]=255,n[g++]=O,n[g++]=0,n[g++]=4,n[g++]=p[0]>>>8&255,n[g++]=p[0]&255;T=new Uint8Array(n)}var d=-1;z=0;while(z<T.length-1){if(T[z]==255&&T[z+1]==B){d=z;break}z++}if(d==-1){var h=new Uint8Array(T.length+10+3*y);h.set(T);var u=T.length;if(d=T.length,T=h,T[u++]=255,T[u++]=B,T[u++]=0,T[u++]=8+3*y,T[u++]=8,T[u++]=Y.height>>>8&255,T[u++]=Y.height&255,T[u++]=Y.width>>>8&255,T[u++]=Y.width&255,T[u++]=y,y==1)T[u++]=1,T[u++]=17,T[u++]=0;else for(z=0;z<3;z++)T[u++]=z+1,T[u++]=z!=0?17:(x&15)<<4|b&15,T[u++]=z}if(G[E]==255&&G[E+1]==M){var F=G[E+2]<<8|G[E+3];L=new Uint8Array(F+2),L[0]=G[E],L[1]=G[E+1],L[2]=G[E+2],L[3]=G[E+3];for(z=0;z<F-2;z++)L[z+4]=G[E+z+4]}else{L=new Uint8Array(8+2*y);var A=0;if(L[A++]=255,L[A++]=M,L[A++]=0,L[A++]=6+2*y,L[A++]=y,y==1)L[A++]=1,L[A++]=0;else for(z=0;z<3;z++)L[A++]=z+1,L[A++]=z<<4|z;L[A++]=0,L[A++]=63,L[A++]=0}return{jpegOffset:H,tables:T,sosMarker:L,sofPosition:d}},Z.decode._decodeOldJPEG=function(Y,G,H,q,V,W){var U,R,O,B,M,C=Z.decode._decodeOldJPEGInit(Y,G,H,q);if(C.jpegOffset!=null){R=H+q-C.jpegOffset,B=new Uint8Array(R);for(U=0;U<R;U++)B[U]=G[C.jpegOffset+U]}else{if(O=C.tables.length,B=new Uint8Array(O+C.sosMarker.length+q+2),B.set(C.tables),M=O,B[C.sofPosition+5]=Y.height>>>8&255,B[C.sofPosition+6]=Y.height&255,B[C.sofPosition+7]=Y.width>>>8&255,B[C.sofPosition+8]=Y.width&255,G[H]!=255||G[H+1]!=SOS)B.set(C.sosMarker,M),M+=sosMarker.length;for(U=0;U<q;U++)B[M++]=G[H+U];B[M++]=255,B[M++]=EOI}var E=new Z.JpegDecoder;E.parse(B);var T=E.getData({width:E.width,height:E.height,forceRGB:!0,isSourcePDF:!1});for(var U=0;U<T.length;U++)V[W+U]=T[U];if(Y.t262&&Y.t262[0]==6)Y.t262[0]=2},Z.decode._decodePackBits=function(Y,G,H,q,V){var W=new Int8Array(Y.buffer),U=new Int8Array(q.buffer),R=G+H;while(G<R){var O=W[G];if(G++,O>=0&&O<128)for(var B=0;B<O+1;B++)U[V]=W[G],V++,G++;if(O>=-127&&O<0){for(var B=0;B<-O+1;B++)U[V]=W[G],V++;G++}}return V},Z.decode._decodeThunder=function(Y,G,H,q,V){var W=[0,1,0,-1],U=[0,1,2,3,0,-3,-2,-1],R=G+H,O=V*2,B=0;while(G<R){var M=Y[G],C=M>>>6,E=M&63;if(G++,C==3)B=E&15,q[O>>>1]|=B<<4*(1-O&1),O++;if(C==0)for(var T=0;T<E;T++)q[O>>>1]|=B<<4*(1-O&1),O++;if(C==2)for(var T=0;T<2;T++){var L=E>>>3*(1-T)&7;if(L!=4)B+=U[L],q[O>>>1]|=B<<4*(1-O&1),O++}if(C==1)for(var T=0;T<3;T++){var L=E>>>2*(2-T)&3;if(L!=2)B+=W[L],q[O>>>1]|=B<<4*(1-O&1),O++}}},Z.decode._dmap={"1":0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},Z.decode._lens=function(){var Y=function(O,B,M,C){for(var E=0;E<B.length;E++)O[B[E]]=M+E*C},G="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",H="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",q="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",V="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",W="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";G=G.split(","),H=H.split(","),q=q.split(","),V=V.split(","),W=W.split(",");var U={},R={};return Y(U,G,0,1),Y(U,q,64,64),Y(U,W,1792,64),Y(R,H,0,1),Y(R,V,64,64),Y(R,W,1792,64),[U,R]}(),Z.decode._decodeG4=function(Y,G,H,q,V,W,U){var R=Z.decode,O=G<<3,B=0,M="",C=[],E=[];for(var T=0;T<W;T++)E.push(0);E=R._makeDiff(E);var L=0,X=0,z=0,N=0,P=0,S=0,k=0,w="",j=0,v=Math.ceil(W/8)*8;while(O>>>3<G+H){N=R._findDiff(E,L+(L==0?0:1),1-S),P=R._findDiff(E,N,S);var _=0;if(U==1)_=Y[O>>>3]>>>7-(O&7)&1;if(U==2)_=Y[O>>>3]>>>(O&7)&1;if(O++,M+=_,w=="H"){if(R._lens[S][M]!=null){var x=R._lens[S][M];if(M="",B+=x,x<64){if(R._addNtimes(C,B,S),L+=B,S=1-S,B=0,j--,j==0)w=""}}}else{if(M=="0001")M="",R._addNtimes(C,P-L,S),L=P;if(M=="001")M="",w="H",j=2;if(R._dmap[M]!=null)X=N+R._dmap[M],R._addNtimes(C,X-L,S),L=X,M="",S=1-S}if(C.length==W&&w=="")R._writeBits(C,q,V*8+k*v),S=0,k++,L=0,E=R._makeDiff(C),C=[]}},Z.decode._findDiff=function(Y,G,H){for(var q=0;q<Y.length;q+=2)if(Y[q]>=G&&Y[q+1]==H)return Y[q]},Z.decode._makeDiff=function(Y){var G=[];if(Y[0]==1)G.push(0,1);for(var H=1;H<Y.length;H++)if(Y[H-1]!=Y[H])G.push(H,Y[H]);return G.push(Y.length,0,Y.length,1),G},Z.decode._decodeG2=function(Y,G,H,q,V,W,U){var R=Z.decode,O=G<<3,B=0,M="",C=[],E=0,T=0,L=Math.ceil(W/8)*8;while(O>>>3<G+H){var X=0;if(U==1)X=Y[O>>>3]>>>7-(O&7)&1;if(U==2)X=Y[O>>>3]>>>(O&7)&1;if(O++,M+=X,B=R._lens[E][M],B!=null){if(R._addNtimes(C,B,E),M="",B<64)E=1-E;if(C.length==W){if(R._writeBits(C,q,V*8+T*L),C=[],T++,E=0,(O&7)!=0)O+=8-(O&7);if(B>=64)O+=8}}}},Z.decode._decodeG3=function(Y,G,H,q,V,W,U,R){var O=Z.decode,B=G<<3,M=0,C="",E=[],T=[];for(var L=0;L<W;L++)E.push(0);var X=0,z=0,N=0,P=0,S=0,k=0,w=-1,j="",v=0,_=!0,x=Math.ceil(W/8)*8;while(B>>>3<G+H){P=O._findDiff(T,X+(X==0?0:1),1-k),S=O._findDiff(T,P,k);var b=0;if(U==1)b=Y[B>>>3]>>>7-(B&7)&1;if(U==2)b=Y[B>>>3]>>>(B&7)&1;if(B++,C+=b,_){if(O._lens[k][C]!=null){var y=O._lens[k][C];if(C="",M+=y,y<64)O._addNtimes(E,M,k),k=1-k,M=0}}else if(j=="H"){if(O._lens[k][C]!=null){var y=O._lens[k][C];if(C="",M+=y,y<64){if(O._addNtimes(E,M,k),X+=M,k=1-k,M=0,v--,v==0)j=""}}}else{if(C=="0001")C="",O._addNtimes(E,S-X,k),X=S;if(C=="001")C="",j="H",v=2;if(O._dmap[C]!=null)z=P+O._dmap[C],O._addNtimes(E,z-X,k),X=z,C="",k=1-k}if(C.endsWith("000000000001")){if(w>=0)O._writeBits(E,q,V*8+w*x);if(R){if(U==1)_=(Y[B>>>3]>>>7-(B&7)&1)==1;if(U==2)_=(Y[B>>>3]>>>(B&7)&1)==1;B++}C="",k=0,w++,X=0,T=O._makeDiff(E),E=[]}}if(E.length==W)O._writeBits(E,q,V*8+w*x)},Z.decode._addNtimes=function(Y,G,H){for(var q=0;q<G;q++)Y.push(H)},Z.decode._writeBits=function(Y,G,H){for(var q=0;q<Y.length;q++)G[H+q>>>3]|=Y[q]<<7-(H+q&7)},Z.decode._decodeLZW=Z.decode._decodeLZW=function(){var Y,G,H,q,V=0,W=0,U=0,R=0,O=function(){var z=Y>>>3,N=G[z]<<16|G[z+1]<<8|G[z+2],P=N>>>24-(Y&7)-W&(1<<W)-1;return Y+=W,P},B=new Uint32Array(16384),M=0,C=function(z){if(z==M)return;M=z,U=1<<z,R=U+1;for(var N=0;N<R+1;N++)B[4*N]=B[4*N+3]=N,B[4*N+1]=65535,B[4*N+2]=1},E=function(z){W=z+1,V=R+1},T=function(z){var N=z<<2,P=B[N+2],S=q+P-1;while(N!=65535)H[S--]=B[N],N=B[N+1];q+=P},L=function(z,N){var P=V<<2,S=z<<2;if(B[P]=B[(N<<2)+3],B[P+1]=S,B[P+2]=B[S+2]+1,B[P+3]=B[S+3],V++,V+1==1<<W&&W!=12)W++},X=function(z,N,P,S,k,w){Y=N<<3,G=z,H=S,q=k;var j=N+P<<3,v=0,_=0;C(w),E(w);while(Y<j&&(v=O())!=R){if(v==U){if(E(w),v=O(),v==R)break;T(v)}else if(v<V)T(v),L(_,v);else L(_,_),T(V-1);_=v}return q};return X}(),Z.tags={},Z._types=function(){var Y=new Array(250);Y.fill(0),Y=Y.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);var G={33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7};return{basic:{main:Y,rest:G},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}}(),Z._readIFD=function(Y,G,H,q,V,W){var U=Y.readUshort(G,H);H+=2;var R={};if(W.debug)K("   ".repeat(V),q.length-1,">>>----------------");for(var O=0;O<U;O++){var B=Y.readUshort(G,H);H+=2;var M=Y.readUshort(G,H);H+=2;var C=Y.readUint(G,H);H+=4;var E=Y.readUint(G,H);H+=4;var T=[];if(M==1||M==7){var L=C<5?H-4:E;if(L+C>G.buffer.byteLength)C=G.buffer.byteLength-L;T=new Uint8Array(G.buffer,L,C)}if(M==2){var X=C<5?H-4:E,z=G[X],N=Math.max(0,Math.min(C-1,G.length-X));if(z<128||N==0)T.push(Y.readASCII(G,X,N));else T=new Uint8Array(G.buffer,X,N)}if(M==3)for(var P=0;P<C;P++)T.push(Y.readUshort(G,(C<3?H-4:E)+2*P));if(M==4||M==13)for(var P=0;P<C;P++)T.push(Y.readUint(G,(C<2?H-4:E)+4*P));if(M==5||M==10){var S=M==5?Y.readUint:Y.readInt;for(var P=0;P<C;P++)T.push([S(G,E+P*8),S(G,E+P*8+4)])}if(M==8)for(var P=0;P<C;P++)T.push(Y.readShort(G,(C<3?H-4:E)+2*P));if(M==9)for(var P=0;P<C;P++)T.push(Y.readInt(G,(C<2?H-4:E)+4*P));if(M==11)for(var P=0;P<C;P++)T.push(Y.readFloat(G,E+P*4));if(M==12)for(var P=0;P<C;P++)T.push(Y.readDouble(G,E+P*8));if(C!=0&&T.length==0){if(K(B,"unknown TIFF tag type: ",M,"num:",C),O==0)return;continue}if(W.debug)K("   ".repeat(V),B,M,Z.tags[B],T);if(R["t"+B]=T,B==330&&R.t272&&R.t272[0]=="DSLR-A100");else if(B==330||B==34665||B==34853||B==50740&&Y.readUshort(G,Y.readUint(T,0))<300||B==61440){var k=B==50740?[Y.readUint(T,0)]:T,w=[];for(var P=0;P<k.length;P++)Z._readIFD(Y,G,k[P],w,V+1,W);if(B==330)R.subIFD=w;if(B==34665)R.exifIFD=w[0];if(B==34853)R.gpsiIFD=w[0];if(B==50740)R.dngPrvt=w[0];if(B==61440)R.fujiIFD=w[0]}if(B==37500&&W.parseMN){var j=T;if(Y.readASCII(j,0,5)=="Nikon")R.makerNote=Z.decode(j.slice(10).buffer)[0];else if(Y.readASCII(j,0,5)=="OLYMP"||Y.readASCII(j,0,9)=="OM SYSTEM"){var v=[8208,8224,8240,8256,8272],_=[];Z._readIFD(Y,j,j[1]==77?16:j[5]==85?12:8,_,V+1,W);var x=R.makerNote=_.pop();for(var P=0;P<v.length;P++){var b="t"+v[P];if(x[b]==null)continue;Z._readIFD(Y,j,x[b][0],_,V+1,W),x[b]=_.pop()}if(x.t12288)Z._readIFD(Y,x.t12288,0,_,V+1,W),x.t12288=_.pop()}else if(Y.readUshort(G,E)<300&&Y.readUshort(G,E+4)<=12){var _=[];Z._readIFD(Y,G,E,_,V+1,W),R.makerNote=_[0]}}}if(q.push(R),W.debug)K("   ".repeat(V),"<<<---------------");return H},Z._writeIFD=function(Y,G,H,q,V){var W=Object.keys(V),U=W.length;if(V.exifIFD)U--;if(V.gpsiIFD)U--;Y.writeUshort(H,q,U),q+=2;var R=q+U*12+4;for(var O=0;O<W.length;O++){var B=W[O];if(B=="t34665"||B=="t34853")continue;if(B=="exifIFD")B="t34665";if(B=="gpsiIFD")B="t34853";var M=parseInt(B.slice(1)),C=G.main[M];if(C==null)C=G.rest[M];if(C==null||C==0)throw new Error("unknown type of tag: "+M);var E=V[B];if(M==34665){var T=Z._writeIFD(Y,G,H,R,V.exifIFD);E=[R],R=T[1]}if(M==34853){var T=Z._writeIFD(Y,Z._types.gps,H,R,V.gpsiIFD);E=[R],R=T[1]}if(C==2)E=E[0]+"\0";var L=E.length;Y.writeUshort(H,q,M),q+=2,Y.writeUshort(H,q,C),q+=2,Y.writeUint(H,q,L),q+=4;var X=[-1,1,1,2,4,8,0,1,0,4,8,0,8][C]*L,z=q;if(X>4)Y.writeUint(H,q,R),z=R;if(C==1||C==7)for(var N=0;N<L;N++)H[z+N]=E[N];else if(C==2)Y.writeASCII(H,z,E);else if(C==3)for(var N=0;N<L;N++)Y.writeUshort(H,z+2*N,E[N]);else if(C==4)for(var N=0;N<L;N++)Y.writeUint(H,z+4*N,E[N]);else if(C==5||C==10){var P=C==5?Y.writeUint:Y.writeInt;for(var N=0;N<L;N++){var S=E[N],k=S[0],w=S[1];if(k==null)throw"e";P(H,z+8*N,k),P(H,z+8*N+4,w)}}else if(C==9)for(var N=0;N<L;N++)Y.writeInt(H,z+4*N,E[N]);else if(C==12)for(var N=0;N<L;N++)Y.writeDouble(H,z+8*N,E[N]);else throw C;if(X>4)X+=X&1,R+=X;q+=4}return[q,R]},Z.toRGBA8=function(Y,G){function H(z0){return z0<0.0031308?12.92*z0:1.055*Math.pow(z0,0.4166666666666667)-0.055}var{width:q,height:V}=Y,W=q*V,U=W*4,R=Y.data,O=new Uint8Array(W*4),B=Y.t262?Y.t262[0]:2,M=Y.t258?Math.min(32,Y.t258[0]):1;if(Y.t262==null&&M==1)B=0;var C=Y.t277?Y.t277[0]:Y.t258?Y.t258.length:[1,1,3,1,1,4,3][B],E=Y.t339?Y.t339[0]:null;if(B==1&&M==32&&E!=3)throw"e";var T=Math.ceil(C*M*q/8);if(B==0){G=0.00390625;for(var L=0;L<V;L++){var X=L*T,z=L*q;if(M==1)for(var N=0;N<q;N++){var P=z+N<<2,S=R[X+(N>>3)]>>7-(N&7)&1;O[P]=O[P+1]=O[P+2]=(1-S)*255,O[P+3]=255}if(M==4)for(var N=0;N<q;N++){var P=z+N<<2,S=R[X+(N>>1)]>>4-4*(N&1)&15;O[P]=O[P+1]=O[P+2]=(15-S)*17,O[P+3]=255}if(M==8)for(var N=0;N<q;N++){var P=z+N<<2,S=R[X+N];O[P]=O[P+1]=O[P+2]=255-S,O[P+3]=255}if(M==16)for(var N=0;N<q;N++){var P=z+N<<2,k=X+2*N,S=R[k+1]<<8|R[k];O[P]=O[P+1]=O[P+2]=Math.min(255,255-~~(S*G)),O[P+3]=255}}}else if(B==1){if(G==null)G=0.00390625;var w=(R.length&3)==0?new Float32Array(R.buffer):null;for(var L=0;L<V;L++){var X=L*T,z=L*q;if(M==1)for(var N=0;N<q;N++){var P=z+N<<2,S=R[X+(N>>3)]>>7-(N&7)&1;O[P]=O[P+1]=O[P+2]=S*255,O[P+3]=255}if(M==2)for(var N=0;N<q;N++){var P=z+N<<2,S=R[X+(N>>2)]>>6-2*(N&3)&3;O[P]=O[P+1]=O[P+2]=S*85,O[P+3]=255}if(M==8)for(var N=0;N<q;N++){var P=z+N<<2,S=R[X+N*C];O[P]=O[P+1]=O[P+2]=S,O[P+3]=255}if(M==16)for(var N=0;N<q;N++){var P=z+N<<2,k=X+2*N,S=R[k+1]<<8|R[k];O[P]=O[P+1]=O[P+2]=Math.min(255,~~(S*G)),O[P+3]=255}if(M==32)for(var N=0;N<q;N++){var P=z+N<<2,k=(X>>>2)+N,S=w[k];O[P]=O[P+1]=O[P+2]=~~(0.5+255*S),O[P+3]=255}}}else if(B==2)if(M==8){if(C==1)for(var N=0;N<W;N++)O[4*N]=O[4*N+1]=O[4*N+2]=R[N],O[4*N+3]=255;if(C==3)for(var N=0;N<W;N++){var P=N<<2,j=N*3;O[P]=R[j],O[P+1]=R[j+1],O[P+2]=R[j+2],O[P+3]=255}if(C>=4)for(var N=0;N<W;N++){var P=N<<2,j=N*C;O[P]=R[j],O[P+1]=R[j+1],O[P+2]=R[j+2],O[P+3]=R[j+3]}}else if(M==16){if(C==4)for(var N=0;N<W;N++){var P=N<<2,j=N*8+1;O[P]=R[j],O[P+1]=R[j+2],O[P+2]=R[j+4],O[P+3]=R[j+6]}if(C==3)for(var N=0;N<W;N++){var P=N<<2,j=N*6+1;O[P]=R[j],O[P+1]=R[j+2],O[P+2]=R[j+4],O[P+3]=255}}else if(M==32){var v=new Float32Array(R.buffer),_=0;for(var N=0;N<v.length;N++)_=Math.min(_,v[N]);if(_<0)for(var N=0;N<R.length;N+=4){var x=R[N];R[N]=R[N+3],R[N+3]=x,x=R[N+1],R[N+1]=R[N+2],R[N+2]=x}var b=[];for(var N=0;N<65536;N++)b.push(H(N/65535));for(var N=0;N<v.length;N++){var y=Math.max(0,Math.min(1,v[N]));v[N]=b[~~(0.5+y*65535)]}if(C==3)for(var N=0;N<W;N++){var P=N<<2,j=N*3;O[P]=~~(0.5+v[j]*255),O[P+1]=~~(0.5+v[j+1]*255),O[P+2]=~~(0.5+v[j+2]*255),O[P+3]=255}else if(C==4)for(var N=0;N<W;N++){var P=N<<2,j=N*4;O[P]=~~(0.5+v[j]*255),O[P+1]=~~(0.5+v[j+1]*255),O[P+2]=~~(0.5+v[j+2]*255),O[P+3]=~~(0.5+v[j+3]*255)}else throw C}else throw M;else if(B==3){var p=Y.t320,g=1<<M,n=M==8&&C>1&&Y.t338&&Y.t338[0]!=0;for(var L=0;L<V;L++)for(var e=0;e<q;e++){var N=L*q+e,P=N<<2,o=0,t=L*T;if(M==1)o=R[t+(e>>>3)]>>>7-(e&7)&1;else if(M==2)o=R[t+(e>>>2)]>>>6-2*(e&3)&3;else if(M==4)o=R[t+(e>>>1)]>>>4-4*(e&1)&15;else if(M==8)o=R[t+e*C];else throw M;O[P]=p[o]>>8,O[P+1]=p[g+o]>>8,O[P+2]=p[g+g+o]>>8,O[P+3]=n?R[t+e*C+1]:255}}else if(B==5){var d=C>4?1:0;for(var N=0;N<W;N++){var P=N<<2,h=N*C;if(window.UDOC){var u=R[h],F=R[h+1],A=R[h+2],I=R[h+3],D=UDOC.C.cmykToRgb([u*0.00392156862745098,F*0.00392156862745098,A*0.00392156862745098,I*0.00392156862745098]);O[P]=~~(0.5+255*D[0]),O[P+1]=~~(0.5+255*D[1]),O[P+2]=~~(0.5+255*D[2])}else{var u=255-R[h],F=255-R[h+1],A=255-R[h+2],I=(255-R[h+3])*0.00392156862745098;O[P]=~~(u*I+0.5),O[P+1]=~~(F*I+0.5),O[P+2]=~~(A*I+0.5)}O[P+3]=255*(1-d)+R[h+4]*d}}else if(B==6&&Y.t278){var c=Y.t278[0];for(var L=0;L<V;L+=c){var N=L*q,m=c*q;for(var f=0;f<m;f++){var P=4*(N+f),h=3*N+4*(f>>>1),A=R[h+(f&1)],i=R[h+2]-128,a=R[h+3]-128,$0=A+((a>>2)+(a>>3)+(a>>5)),Q0=A-((i>>2)+(i>>4)+(i>>5))-((a>>1)+(a>>3)+(a>>4)+(a>>5)),W0=A+(i+(i>>1)+(i>>2)+(i>>6));O[P]=Math.max(0,Math.min(255,$0)),O[P+1]=Math.max(0,Math.min(255,Q0)),O[P+2]=Math.max(0,Math.min(255,W0)),O[P+3]=255}}}else if(B==32845)for(var L=0;L<V;L++)for(var e=0;e<q;e++){var h=(L*q+e)*6,P=(L*q+e)*4,r=R[h+1]<<8|R[h],r=Math.pow(2,(r+0.5)/256-64),G0=(R[h+3]+0.5)/410,K0=(R[h+5]+0.5)/410,q0=9*G0/(6*G0-16*K0+12),V0=4*K0/(6*G0-16*K0+12),U0=r,N0=q0*U0/V0,A=U0,A0=(1-q0-V0)*U0/V0,$0=2.69*N0-1.276*A-0.414*A0,Q0=-1.022*N0+1.978*A+0.044*A0,W0=0.061*N0-0.224*A+1.163*A0;O[P]=H(Math.min($0,1))*255,O[P+1]=H(Math.min(Q0,1))*255,O[P+2]=H(Math.min(W0,1))*255,O[P+3]=255}else K("Unknown Photometric interpretation: "+B);return O},Z.replaceIMG=function(Y){if(Y==null)Y=document.getElementsByTagName("img");var G=["tif","tiff","dng","cr2","nef"];for(var H=0;H<Y.length;H++){var q=Y[H],V=q.getAttribute("src");if(V==null)continue;var W=V.split(".").pop().toLowerCase();if(G.indexOf(W)==-1)continue;var U=new XMLHttpRequest;Z._xhrs.push(U),Z._imgs.push(q),U.open("GET",V),U.responseType="arraybuffer",U.onload=Z._imgLoaded,U.send()}},Z._xhrs=[],Z._imgs=[],Z._imgLoaded=function(Y){var G=Z._xhrs.indexOf(Y.target),H=Z._imgs[G];Z._xhrs.splice(G,1),Z._imgs.splice(G,1),H.setAttribute("src",Z.bufferToURI(Y.target.response))},Z.bufferToURI=function(Y){var G=Z.decode(Y),H=G,q=0,V=H[0];if(G[0].subIFD)H=H.concat(G[0].subIFD);for(var W=0;W<H.length;W++){var U=H[W];if(U.t258==null||U.t258.length<3)continue;var R=U.t256*U.t257;if(R>q)q=R,V=U}Z.decodeImage(Y,V,G);var O=Z.toRGBA8(V),B=V.width,M=V.height,C=document.createElement("canvas");C.width=B,C.height=M;var E=C.getContext("2d"),T=new ImageData(new Uint8ClampedArray(O.buffer),B,M);return E.putImageData(T,0,0),C.toDataURL()},Z._binBE={nextZero:function(Y,G){while(Y[G]!=0)G++;return G},readUshort:function(Y,G){return Y[G]<<8|Y[G+1]},readShort:function(Y,G){var H=Z._binBE.ui8;return H[0]=Y[G+1],H[1]=Y[G+0],Z._binBE.i16[0]},readInt:function(Y,G){var H=Z._binBE.ui8;return H[0]=Y[G+3],H[1]=Y[G+2],H[2]=Y[G+1],H[3]=Y[G+0],Z._binBE.i32[0]},readUint:function(Y,G){var H=Z._binBE.ui8;return H[0]=Y[G+3],H[1]=Y[G+2],H[2]=Y[G+1],H[3]=Y[G+0],Z._binBE.ui32[0]},readASCII:function(Y,G,H){var q="";for(var V=0;V<H;V++)q+=String.fromCharCode(Y[G+V]);return q},readFloat:function(Y,G){var H=Z._binBE.ui8;for(var q=0;q<4;q++)H[q]=Y[G+3-q];return Z._binBE.fl32[0]},readDouble:function(Y,G){var H=Z._binBE.ui8;for(var q=0;q<8;q++)H[q]=Y[G+7-q];return Z._binBE.fl64[0]},writeUshort:function(Y,G,H){Y[G]=H>>8&255,Y[G+1]=H&255},writeInt:function(Y,G,H){var q=Z._binBE.ui8;Z._binBE.i32[0]=H,Y[G+3]=q[0],Y[G+2]=q[1],Y[G+1]=q[2],Y[G+0]=q[3]},writeUint:function(Y,G,H){Y[G]=H>>24&255,Y[G+1]=H>>16&255,Y[G+2]=H>>8&255,Y[G+3]=H>>0&255},writeASCII:function(Y,G,H){for(var q=0;q<H.length;q++)Y[G+q]=H.charCodeAt(q)},writeDouble:function(Y,G,H){Z._binBE.fl64[0]=H;for(var q=0;q<8;q++)Y[G+q]=Z._binBE.ui8[7-q]}},Z._binBE.ui8=new Uint8Array(8),Z._binBE.i16=new Int16Array(Z._binBE.ui8.buffer),Z._binBE.i32=new Int32Array(Z._binBE.ui8.buffer),Z._binBE.ui32=new Uint32Array(Z._binBE.ui8.buffer),Z._binBE.fl32=new Float32Array(Z._binBE.ui8.buffer),Z._binBE.fl64=new Float64Array(Z._binBE.ui8.buffer),Z._binLE={nextZero:Z._binBE.nextZero,readUshort:function(Y,G){return Y[G+1]<<8|Y[G]},readShort:function(Y,G){var H=Z._binBE.ui8;return H[0]=Y[G+0],H[1]=Y[G+1],Z._binBE.i16[0]},readInt:function(Y,G){var H=Z._binBE.ui8;return H[0]=Y[G+0],H[1]=Y[G+1],H[2]=Y[G+2],H[3]=Y[G+3],Z._binBE.i32[0]},readUint:function(Y,G){var H=Z._binBE.ui8;return H[0]=Y[G+0],H[1]=Y[G+1],H[2]=Y[G+2],H[3]=Y[G+3],Z._binBE.ui32[0]},readASCII:Z._binBE.readASCII,readFloat:function(Y,G){var H=Z._binBE.ui8;for(var q=0;q<4;q++)H[q]=Y[G+q];return Z._binBE.fl32[0]},readDouble:function(Y,G){var H=Z._binBE.ui8;for(var q=0;q<8;q++)H[q]=Y[G+q];return Z._binBE.fl64[0]},writeUshort:function(Y,G,H){Y[G]=H&255,Y[G+1]=H>>8&255},writeInt:function(Y,G,H){var q=Z._binBE.ui8;Z._binBE.i32[0]=H,Y[G+0]=q[0],Y[G+1]=q[1],Y[G+2]=q[2],Y[G+3]=q[3]},writeUint:function(Y,G,H){Y[G]=H>>>0&255,Y[G+1]=H>>>8&255,Y[G+2]=H>>>16&255,Y[G+3]=H>>>24&255},writeASCII:Z._binBE.writeASCII},Z._copyTile=function(Y,G,H,q,V,W,U,R){var O=Math.min(G,V-U),B=Math.min(H,W-R);for(var M=0;M<B;M++){var C=(R+M)*V+U,E=M*G;for(var T=0;T<O;T++)q[C+T]=Y[E+T]}},Z.LosslessJpegDecode=function(){var Y,G;function H(){return Y[G++]}function q(){return Y[G++]<<8|Y[G++]}function V(z){var N=H(),P=[0,0,0,255],S=[],k=8;for(var w=0;w<16;w++)S[w]=H();for(var w=0;w<16;w++)for(var j=0;j<S[w];j++){var v=W(P,0,w+1,1);P[v+3]=H()}var _=new Uint8Array(1<<k);z[N]=[new Uint8Array(P),_];for(var w=0;w<1<<k;w++){var x=k,b=w,y=0,p=0;while(P[y+3]==255&&x!=0)p=b>>--x&1,y=P[y+p];_[w]=y}}function W(z,N,P,S){if(z[N+3]!=255)return 0;if(P==0)return N;for(var k=0;k<2;k++){if(z[N+k]==0)z[N+k]=z.length,z.push(0,0,S,255);var w=W(z,z[N+k],P-1,S+1);if(w!=0)return w}return 0}function U(z){var{b:N,f:P}=z;while(N<25&&z.a<z.d){var S=z.data[z.a++];if(S==255&&!z.c)z.a++;P=P<<8|S,N+=8}if(N<0)throw"e";z.b=N,z.f=P}function R(z,N){if(N.b<z)U(N);return N.f>>(N.b-=z)&65535>>16-z}function O(z,N){var P=z[0],S=0,k=255,w=0;if(N.b<16)U(N);var j=N.f>>N.b-8&255;S=z[1][j],k=P[S+3],N.b-=P[S+2];while(k==255)w=N.f>>--N.b&1,S=P[S+w],k=P[S+3];return k}function B(z,N){if(z<32768>>16-N)z+=-(1<<N)+1;return z}function M(z,N){var P=O(z,N);if(P==0)return 0;if(P==16)return-32768;var S=R(P,N);return B(S,P)}function C(z,N,P,S,k,w){var j=0;for(var v=0;v<w;v++){var _=v*N;for(var x=0;x<N;x+=k){j++;for(var b=0;b<k;b++)z[_+x+b]=M(S[b],P)}if(P.e!=0&&j%P.e==0&&v!=0){var{a:y,data:p}=P;while(p[y]!=255||!(208<=p[y+1]&&p[y+1]<=215))y--;P.a=y+2,P.f=0,P.b=0}}}function E(z,N){return B(R(z,N),z)}function T(z,N,P,S,k){var w=Y.length-G;for(var j=0;j<w;j+=4){var v=Y[G+j];Y[G+j]=Y[G+j+3],Y[G+j+3]=v;var v=Y[G+j+1];Y[G+j+1]=Y[G+j+2],Y[G+j+2]=v}for(var _=0;_<k;_++){var x=32768,b=32768;for(var y=0;y<N;y+=2){var p=O(S,P),g=O(S,P);if(p!=0)x+=E(p,P);if(g!=0)b+=E(g,P);z[_*N+y]=x&65535,z[_*N+y+1]=b&65535}}}function L(z){if(Y=z,G=0,q()!=65496)throw"e";var N=[],P=0,S=0,k=0,w=[],j=[],v=[],_=0,x=0,b=0;while(!0){var y=q();if(y==65535){G--;continue}var p=q();if(y==65475){S=H(),x=q(),b=q(),_=H();for(var g=0;g<_;g++){var n=H(),e=H(),o=H();if(o!=0)throw"e";N[n]=[g,e>>4,e&15]}}else if(y==65476){var t=G+p-2;while(G<t)V(j)}else if(y==65498){G++;for(var g=0;g<_;g++){var d=H(),h=N[d];v[h[0]]=j[H()>>>4],w[h[0]]=h.slice(1)}P=H(),G+=2;break}else if(y==65501)k=q();else G+=p-2}var u=S>8?Uint16Array:Uint8Array,F=new u(x*b*_),A={b:0,f:0,c:P==8,a:G,data:Y,d:Y.length,e:k};if(A.c)T(F,b*_,A,v[0],x);else{var I=[],D=0,c=0;for(var g=0;g<_;g++){var m=w[g],f=m[0],i=m[1];if(f>D)D=f;if(i>c)c=i;I.push(f*i)}if(D!=1||c!=1){if(_!=3||I[1]!=1||I[2]!=1)throw"e";if(D!=2||c!=1&&c!=2)throw"e";var a=[],$0=0;for(var g=0;g<_;g++){for(var Q0=0;Q0<I[g];Q0++)a.push(v[g]);$0+=I[g]}var W0=b/D,r=x/c,G0=W0*r;C(F,W0*$0,A,a,$0,r),X(F,P,W0,r,$0-2,$0,$0,S);var K0=new Uint16Array(G0*I[0]);if(D==2&&c==2){for(var g=0;g<G0;g++)K0[4*g]=F[6*g],K0[4*g+1]=F[6*g+1],K0[4*g+2]=F[6*g+2],K0[4*g+3]=F[6*g+3];X(K0,P,W0*4,r,0,1,1,S);for(var g=0;g<G0;g++)F[6*g]=K0[4*g],F[6*g+1]=K0[4*g+1],F[6*g+2]=K0[4*g+2],F[6*g+3]=K0[4*g+3]}if(D==2&&c==1){for(var g=0;g<G0;g++)K0[2*g]=F[4*g],K0[2*g+1]=F[4*g+1];X(K0,P,W0*2,r,0,1,1,S);for(var g=0;g<G0;g++)F[4*g]=K0[2*g],F[4*g+1]=K0[2*g+1]}var q0=F.slice(0);for(var i=0;i<x;i++)if(c==2)for(var f=0;f<b;f++){var V0=(i*b+f)*_,U0=((i>>>1)*W0+(f>>>1))*$0,N0=(i&1)*2+(f&1);F[V0]=q0[U0+N0],F[V0+1]=q0[U0+4],F[V0+2]=q0[U0+5]}else for(var f=0;f<b;f++){var V0=(i*b+f)*_,U0=(i*W0+(f>>>1))*$0,N0=f&1;F[V0]=q0[U0+N0],F[V0+1]=q0[U0+2],F[V0+2]=q0[U0+3]}}else if(C(F,b*_,A,v,_,x),k==0)X(F,P,b,x,0,_,_,S);else{var A0=Math.floor(k/b);for(var i=0;i<x;i+=A0){var z0=F.slice(i*b*_,(i+A0)*b*_);X(z0,P,b,A0,0,_,_,S),F.set(z0,i*b*_)}}}return F}function X(z,N,P,S,k,w,j,v){var _=P*j;for(var x=k;x<w;x++)z[x]+=1<<v-1;for(var b=j;b<_;b+=j)for(var x=k;x<w;x++)z[b+x]+=z[b+x-j];for(var y=1;y<S;y++){var p=y*_;for(var x=k;x<w;x++)z[p+x]+=z[p+x-_];for(var b=j;b<_;b+=j)for(var x=k;x<w;x++){var g=p+b+x,n=g-_,e=z[g-j],o=0;if(N==0)o=0;else if(N==1)o=e;else if(N==2)o=z[n];else if(N==3)o=z[n-j];else if(N==4)o=e+(z[n]-z[n-j]);else if(N==5)o=e+(z[n]-z[n-j]>>>1);else if(N==6)o=z[n]+(e-z[n-j]>>>1);else if(N==7)o=e+z[n]>>>1;else throw N;z[g]+=o}}}return L}(),function(){var Y=0,G=1,H=2,q=3,V=4,W=5,U=6,R=7,O=8,B=9,M=10,C=11,E=12,T=13,L=14,X=15,z=16,N=17,P=18;function S(d){var h=Z._binBE.readUshort,u={b:h(d,0),i:d[2],C:d[3],u:d[4],q:h(d,5),k:h(d,7),e:h(d,9),l:h(d,11),s:d[13],d:h(d,14)};if(u.b!=18771||u.i>1||u.q<6||u.q%6||u.e<768||u.e%24||u.l!=768||u.k<u.l||u.k%u.l||u.k-u.e>=u.l||u.s>16||u.s!=u.k/u.l||u.s!=Math.ceil(u.e/u.l)||u.d!=u.q/6||u.u!=12&&u.u!=14&&u.u!=16||u.C!=16&&u.C!=0)throw"Invalid data";if(u.i==0)throw"Not implemented. We need this file!";return u.h=u.C==16,u.m=(u.h?u.l*2/3:u.l>>>1)|0,u.A=u.m+2,u.f=64,u.g=(1<<u.u)-1,u.n=4*u.u,u}function k(d,h){var u=new Array(h.s),F=4*h.s,A=16+F;if(F&12)A+=16-(F&12);for(var I=0,D=16;I<h.s;D+=4){var c=Z._binBE.readUint(d,D);u[I]=d.slice(A,A+c),u[I].j=0,u[I].a=0,A+=c,I++}if(A!=d.length)throw"Invalid data";return u}function w(d,h){for(var u=-h[4],F=0;u<=h[4];F++,u++)d[F]=u<=-h[3]?-4:u<=-h[2]?-3:u<=-h[1]?-2:u<-h[0]?-1:u<=h[0]?0:u<h[1]?1:u<h[2]?2:u<h[3]?3:4}function j(d,h,u){var F=[h,3*h+18,5*h+67,7*h+276,u];d.o=h,d.w=(F[4]+2*h)/(2*h+1)+1|0,d.v=Math.ceil(Math.log2(d.w)),d.t=9,w(d.c,F)}function v(d){var h={c:new Int8Array(2<<d.u)};return j(h,0,d.g),h}function _(d){var h=[[],[],[]],u=Math.max(2,d.w+32>>>6);for(var F=0;F<3;F++)for(var A=0;A<41;A++)h[F][A]=[u,1];return h}function x(d){for(var h=-1,u=0;!u;h++)if(u=d[d.j]>>>7-d.a&1,d.a++,d.a&=7,!d.a)d.j++;return h}function b(d,h){var u=0,F=8-d.a,A=d.j,I=d.a;if(h){if(h>=F)do u<<=F,h-=F,u|=d[d.j]&(1<<F)-1,d.j++,F=8;while(h>=8);if(h)u<<=h,F-=h,u|=d[d.j]>>>F&(1<<h)-1;d.a=8-F}return u}function y(d,h){var u=0;if(h<d)while(u<=14&&h<<++u<d);return u}function p(d,h,u,F,A,I,D,c){if(c==null)c=0;var m=I+1,f=m%2,i=0,a=0,$0=0,Q0,W0,r=F[A],G0=F[A-1],K0=F[A-2][m],q0=G0[m-1],V0=G0[m],U0=G0[m+1],N0=r[m-1],A0=r[m+1],z0=Math.abs,X0,Z0,J0,H0;if(f)X0=z0(U0-V0),Z0=z0(K0-V0),J0=z0(q0-V0);if(f){if(H0=X0>J0&&Z0<X0?K0+q0:X0<J0&&Z0<J0?K0+U0:U0+q0,H0=H0+2*V0>>>2,c){r[m]=H0;return}Q0=h.t*h.c[d.g+V0-K0]+h.c[d.g+q0-V0]}else H0=V0>q0&&V0>U0||V0<q0&&V0<U0?A0+N0+2*V0>>>2:N0+A0>>>1,Q0=h.t*h.c[d.g+V0-q0]+h.c[d.g+q0-N0];W0=z0(Q0);var j0=x(u);if(j0<d.n-h.v-1){var P0=y(D[W0][0],D[W0][1]);$0=b(u,P0)+(j0<<P0)}else $0=b(u,h.v)+1;if($0=$0&1?-1-($0>>>1):$0>>>1,D[W0][0]+=z0($0),D[W0][1]==d.f)D[W0][0]>>>=1,D[W0][1]>>>=1;if(D[W0][1]++,H0=Q0<0?H0-$0:H0+$0,d.i){if(H0<0)H0+=h.w;else if(H0>d.g)H0-=h.w}r[m]=H0>=0?Math.min(H0,d.g):0}function g(d,h,u){var F=d[0].length;for(var A=h;A<=u;A++)d[A][0]=d[A-1][1],d[A][F-1]=d[A-1][F-2]}function n(d){g(d,R,E),g(d,H,V),g(d,X,N)}function e(d,h,u,F,A,I,D,c,m,f,i,a,$0){var Q0=0,W0=1,r=A<T&&A>V;while(W0<d.m){if(Q0<d.m)p(d,h,u,F,A,Q0,D[m],d.h&&(r&&f||!r&&(i||(Q0&a)==$0))),p(d,h,u,F,I,Q0,D[m],d.h&&(!r&&f||r&&(i||(Q0&a)==$0))),Q0+=2;if(Q0>8)p(d,h,u,F,A,W0,c[m]),p(d,h,u,F,I,W0,c[m]),W0+=2}n(F)}function o(d,h,u,F,A,I){e(d,h,u,F,H,R,A,I,0,0,1,0,8),e(d,h,u,F,O,X,A,I,1,0,1,0,8),e(d,h,u,F,q,B,A,I,2,1,0,3,0),e(d,h,u,F,M,z,A,I,0,0,0,3,2),e(d,h,u,F,V,C,A,I,1,0,0,3,2),e(d,h,u,F,E,N,A,I,2,1,0,3,0)}function t(d,h,u,F,A,I){var D=I.length,c=d.l;if(A+1==d.s)c=d.e-A*d.l;var m=6*d.e*F+A*d.l;for(var f=0;f<6;f++){for(var i=0;i<c;i++){var a=I[f%D][i%D],$0;if(a==0)$0=H+(f>>>1);else if(a==2)$0=X+(f>>>1);else $0=R+f;var Q0=d.h?(i*2/3&2147483646|i%3&1)+(i%3>>>1):i>>>1;h[m+i]=u[$0][Q0+1]}m+=d.e}}Z._decompressRAF=function(d,h){var u=S(d),F=k(d,u),A=v(u),I=new Int16Array(u.e*u.q);if(h==null)h=u.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]];var D=[[Y,q],[G,V],[W,C],[U,E],[T,z],[L,N]],c=[];for(var m=0;m<P;m++)c[m]=new Uint16Array(u.A);for(var f=0;f<u.s;f++){var i=_(A),a=_(A);for(var m=0;m<P;m++)for(var $0=0;$0<u.A;$0++)c[m][$0]=0;for(var Q0=0;Q0<u.d;Q0++){o(u,A,F[f],c,i,a);for(var m=0;m<6;m++)for(var $0=0;$0<u.A;$0++)c[D[m][0]][$0]=c[D[m][1]][$0];t(u,I,c,Q0,f,h);for(var m=H;m<P;m++)if([W,U,T,L].indexOf(m)==-1)for(var $0=0;$0<u.A;$0++)c[m][$0]=0;n(c)}}return I}}()})($,J)})()});var RH=l((Q$,YJ)=>{var eF=function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(Q$,"__esModule",{value:!0});Q$.default=void 0;var K$=eF(WH()),Z$="image/tiff",$X=()=>({mime:{[Z$]:["tiff","tif"]},constants:{MIME_TIFF:Z$},decoders:{[Z$]:($)=>{const J=K$.default.decode($),K=J[0];J.forEach((Q)=>{K$.default.decodeImage($,Q)});const Z=K$.default.toRGBA8(K);return{data:Buffer.from(Z),width:K.t256[0],height:K.t257[0]}}},encoders:{[Z$]:($)=>{const J=K$.default.encodeImage($.bitmap.data,$.bitmap.width,$.bitmap.height);return Buffer.from(J)}}});Q$.default=$X;YJ.exports=Q$.default;YJ.exports.default=Q$.default});var GJ=l((QX)=>{var JX=function($,J,K,Y){var Q=0,Y=Y===void 0?{}:Y,G=Y.loop===void 0?null:Y.loop,H=Y.palette===void 0?null:Y.palette;if(J<=0||K<=0||J>65535||K>65535)throw new Error("Width/Height invalid.");function q(C){var E=C.length;if(E<2||E>256||E&E-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return E}$[Q++]=71,$[Q++]=73,$[Q++]=70,$[Q++]=56,$[Q++]=57,$[Q++]=97;var V=0,W=0;if(H!==null){var U=q(H);while(U>>=1)++V;if(U=1<<V,--V,Y.background!==void 0){if(W=Y.background,W>=U)throw new Error("Background index out of range.");if(W===0)throw new Error("Background index explicitly passed as 0.")}}if($[Q++]=J&255,$[Q++]=J>>8&255,$[Q++]=K&255,$[Q++]=K>>8&255,$[Q++]=(H!==null?128:0)|V,$[Q++]=W,$[Q++]=0,H!==null)for(var R=0,O=H.length;R<O;++R){var B=H[R];$[Q++]=B>>16&255,$[Q++]=B>>8&255,$[Q++]=B&255}if(G!==null){if(G<0||G>65535)throw new Error("Loop count invalid.");$[Q++]=33,$[Q++]=255,$[Q++]=11,$[Q++]=78,$[Q++]=69,$[Q++]=84,$[Q++]=83,$[Q++]=67,$[Q++]=65,$[Q++]=80,$[Q++]=69,$[Q++]=50,$[Q++]=46,$[Q++]=48,$[Q++]=3,$[Q++]=1,$[Q++]=G&255,$[Q++]=G>>8&255,$[Q++]=0}var M=!1;this.addFrame=function(C,E,T,L,X,z){if(M===!0)--Q,M=!1;if(z=z===void 0?{}:z,C<0||E<0||C>65535||E>65535)throw new Error("x/y invalid.");if(T<=0||L<=0||T>65535||L>65535)throw new Error("Width/Height invalid.");if(X.length<T*L)throw new Error("Not enough pixels for the frame size.");var N=!0,P=z.palette;if(P===void 0||P===null)N=!1,P=H;if(P===void 0||P===null)throw new Error("Must supply either a local or global palette.");var S=q(P),k=0;while(S>>=1)++k;S=1<<k;var w=z.delay===void 0?0:z.delay,j=z.disposal===void 0?0:z.disposal;if(j<0||j>3)throw new Error("Disposal out of range.");var v=!1,_=0;if(z.transparent!==void 0&&z.transparent!==null){if(v=!0,_=z.transparent,_<0||_>=S)throw new Error("Transparent color index.")}if(j!==0||v||w!==0)$[Q++]=33,$[Q++]=249,$[Q++]=4,$[Q++]=j<<2|(v===!0?1:0),$[Q++]=w&255,$[Q++]=w>>8&255,$[Q++]=_,$[Q++]=0;if($[Q++]=44,$[Q++]=C&255,$[Q++]=C>>8&255,$[Q++]=E&255,$[Q++]=E>>8&255,$[Q++]=T&255,$[Q++]=T>>8&255,$[Q++]=L&255,$[Q++]=L>>8&255,$[Q++]=N===!0?128|k-1:0,N===!0)for(var x=0,b=P.length;x<b;++x){var y=P[x];$[Q++]=y>>16&255,$[Q++]=y>>8&255,$[Q++]=y&255}return Q=KX($,Q,k<2?2:k,X),Q},this.end=function(){if(M===!1)$[Q++]=59,M=!0;return Q},this.getOutputBuffer=function(){return $},this.setOutputBuffer=function(C){$=C},this.getOutputBufferPosition=function(){return Q},this.setOutputBufferPosition=function(C){Q=C}},KX=function($,J,K,Z){$[J++]=K;var Q=J++,Y=1<<K,G=Y-1,H=Y+1,q=H+1,V=K+1,W=0,U=0;function R(z){while(W>=z)if($[J++]=U&255,U>>=8,W-=8,J===Q+256)$[Q]=255,Q=J++}function O(z){U|=z<<W,W+=V,R(8)}var B=Z[0]&G,M={};O(Y);for(var C=1,E=Z.length;C<E;++C){var T=Z[C]&G,L=B<<8|T,X=M[L];if(X===void 0){U|=B<<W,W+=V;while(W>=8)if($[J++]=U&255,U>>=8,W-=8,J===Q+256)$[Q]=255,Q=J++;if(q===4096)O(Y),q=H+1,V=K+1,M={};else{if(q>=1<<V)++V;M[L]=q++}B=T}else B=X}if(O(B),O(H),R(1),Q+1===J)$[Q]=0;else $[Q]=J-Q-1,$[J++]=0;return J},ZX=function($){var J=0;if($[J++]!==71||$[J++]!==73||$[J++]!==70||$[J++]!==56||($[J++]+1&253)!==56||$[J++]!==97)throw new Error("Invalid GIF 87a/89a header.");var K=$[J++]|$[J++]<<8,Z=$[J++]|$[J++]<<8,Q=$[J++],Y=Q>>7,G=Q&7,H=1<<G+1,q=$[J++];$[J++];var V=null,W=null;if(Y)V=J,W=H,J+=H*3;var U=!0,R=[],O=0,B=null,M=0,C=null;this.width=K,this.height=Z;while(U&&J<$.length)switch($[J++]){case 33:switch($[J++]){case 255:if($[J]!==11||$[J+1]==78&&$[J+2]==69&&$[J+3]==84&&$[J+4]==83&&$[J+5]==67&&$[J+6]==65&&$[J+7]==80&&$[J+8]==69&&$[J+9]==50&&$[J+10]==46&&$[J+11]==48&&$[J+12]==3&&$[J+13]==1&&$[J+16]==0)J+=14,C=$[J++]|$[J++]<<8,J++;else{J+=12;while(!0){var E=$[J++];if(!(E>=0))throw Error("Invalid block size");if(E===0)break;J+=E}}break;case 249:if($[J++]!==4||$[J+4]!==0)throw new Error("Invalid graphics extension block.");var T=$[J++];if(O=$[J++]|$[J++]<<8,B=$[J++],(T&1)===0)B=null;M=T>>2&7,J++;break;case 254:while(!0){var E=$[J++];if(!(E>=0))throw Error("Invalid block size");if(E===0)break;J+=E}break;default:throw new Error("Unknown graphic control label: 0x"+$[J-1].toString(16))}break;case 44:var L=$[J++]|$[J++]<<8,X=$[J++]|$[J++]<<8,z=$[J++]|$[J++]<<8,N=$[J++]|$[J++]<<8,P=$[J++],S=P>>7,k=P>>6&1,w=P&7,j=1<<w+1,v=V,_=W,x=!1;if(S){var x=!0;v=J,_=j,J+=j*3}var b=J;J++;while(!0){var E=$[J++];if(!(E>=0))throw Error("Invalid block size");if(E===0)break;J+=E}R.push({x:L,y:X,width:z,height:N,has_local_palette:x,palette_offset:v,palette_size:_,data_offset:b,data_length:J-b,transparent_index:B,interlaced:!!k,delay:O,disposal:M});break;case 59:U=!1;break;default:throw new Error("Unknown gif block: 0x"+$[J-1].toString(16))}this.numFrames=function(){return R.length},this.loopCount=function(){return C},this.frameInfo=function(y){if(y<0||y>=R.length)throw new Error("Frame index out of range.");return R[y]},this.decodeAndBlitFrameBGRA=function(y,p){var g=this.frameInfo(y),n=g.width*g.height,e=new Uint8Array(n);OH($,g.data_offset,e,n);var{palette_offset:o,transparent_index:t}=g;if(t===null)t=256;var d=g.width,h=K-d,u=d,F=(g.y*K+g.x)*4,A=((g.y+g.height)*K+g.x)*4,I=F,D=h*4;if(g.interlaced===!0)D+=K*4*7;var c=8;for(var m=0,f=e.length;m<f;++m){var i=e[m];if(u===0){if(I+=D,u=d,I>=A)D=h*4+K*4*(c-1),I=F+(d+h)*(c<<1),c>>=1}if(i===t)I+=4;else{var a=$[o+i*3],$0=$[o+i*3+1],Q0=$[o+i*3+2];p[I++]=Q0,p[I++]=$0,p[I++]=a,p[I++]=255}--u}},this.decodeAndBlitFrameRGBA=function(y,p){var g=this.frameInfo(y),n=g.width*g.height,e=new Uint8Array(n);OH($,g.data_offset,e,n);var{palette_offset:o,transparent_index:t}=g;if(t===null)t=256;var d=g.width,h=K-d,u=d,F=(g.y*K+g.x)*4,A=((g.y+g.height)*K+g.x)*4,I=F,D=h*4;if(g.interlaced===!0)D+=K*4*7;var c=8;for(var m=0,f=e.length;m<f;++m){var i=e[m];if(u===0){if(I+=D,u=d,I>=A)D=h*4+K*4*(c-1),I=F+(d+h)*(c<<1),c>>=1}if(i===t)I+=4;else{var a=$[o+i*3],$0=$[o+i*3+1],Q0=$[o+i*3+2];p[I++]=a,p[I++]=$0,p[I++]=Q0,p[I++]=255}--u}}},OH=function($,J,K,Z){var Q=$[J++],Y=1<<Q,G=Y+1,H=G+1,q=Q+1,V=(1<<q)-1,W=0,U=0,R=0,O=$[J++],B=new Int32Array(4096),M=null;while(!0){while(W<16){if(O===0)break;if(U|=$[J++]<<W,W+=8,O===1)O=$[J++];else--O}if(W<q)break;var C=U&V;if(U>>=q,W-=q,C===Y){H=G+1,q=Q+1,V=(1<<q)-1,M=null;continue}else if(C===G)break;var E=C<H?C:M,T=0,L=E;while(L>Y)L=B[L]>>8,++T;var X=L,z=R+T+(E!==C?1:0);if(z>Z){console.log("Warning, gif stream longer than expected.");return}K[R++]=X,R+=T;var N=R;if(E!==C)K[R++]=X;L=E;while(T--)L=B[L],K[--N]=L&255,L>>=8;if(M!==null&&H<4096){if(B[H++]=M<<8|X,H>=V+1&&q<12)++q,V=V<<1|1}M=C}if(R!==Z)console.log("Warning, gif stream shorter than expected.");return K};try{QX.GifWriter=JX,QX.GifReader=ZX}catch($){}});var Y$=l((Jj,zH)=>{class c6{constructor(...$){if($.length===0)throw new Error("constructor requires parameters");const J=$[0];if(J!==null&&typeof J==="object")if(J instanceof c6){const K=J.bitmap;this.bitmap={width:K.width,height:K.height,data:new Buffer(K.width*K.height*4)},K.data.copy(this.bitmap.data)}else if(J.width&&J.height&&J.data)this.bitmap=J;else throw new Error("unrecognized constructor parameters");else if(typeof J==="number"&&typeof $[1]==="number"){const K=J,Z=$[1],Q=$[2];if(this.bitmap={width:K,height:Z},Buffer.isBuffer(Q))this.bitmap.data=Q;else if(this.bitmap.data=new Buffer(K*Z*4),typeof Q==="number")this.fillRGBA(Q)}else throw new Error("unrecognized constructor parameters")}blit($,J,K,Z,Q,Y,G){if(Z+Y>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(J+Y>$.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(Q+G>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(K+G>$.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const H=this.bitmap.data,q=$.bitmap.data,V=this.bitmap.width*4,W=$.bitmap.width*4,U=Y*4;let R=Q*V+Z*4,O=K*W+J*4;while(--G>=0)H.copy(q,O,R,R+U),R+=V,O+=W;return this}fillRGBA($){const J=this.bitmap.data,K=this.bitmap.height*4;let Z=0;while(Z<K)J.writeUInt32BE($,Z),Z+=4;while(Z<J.length)J.copy(J,Z,0,K),Z+=K;return this}getRGBA($,J){const K=(J*this.bitmap.width+$)*4;return this.bitmap.data.readUInt32BE(K)}getRGBASet(){const $=new Set,J=this.bitmap.data;for(let K=0;K<J.length;K+=4)$.add(J.readUInt32BE(K,!0));return $}greyscale(){const $=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(J,K,Z)=>{const Q=Math.round(0.299*$[Z]+0.587*$[Z+1]+0.114*$[Z+2]);$[Z]=Q,$[Z+1]=Q,$[Z+2]=Q}),this}reframe($,J,K,Z,Q){const Y=$<0?0:$,G=J<0?0:J,H=K+Y>this.bitmap.width?this.bitmap.width-Y:K,q=Z+G>this.bitmap.height?this.bitmap.height-G:Z,V=$<0?-$:0,W=J<0?-J:0;let U;if(Q===void 0){if(Y!==$||G!=J||H!==K||q!==Z)throw new GifError("fillRGBA required for this reframing");U=new c6(K,Z)}else U=new c6(K,Z,Q);return this.blit(U,V,W,Y,G,H,q),this.bitmap=U.bitmap,this}scale($){if($===1)return;if(!Number.isInteger($)||$<1)throw new Error("the scale must be an integer >= 1");const J=this.bitmap.width,K=this.bitmap.height,Z=J*$*4,Q=this.bitmap.data,Y=new Buffer(K*Z*$);let G=0,H,q=0;for(let V=0;V<K;++V){H=q;for(let W=0;W<J;++W){const U=Q.readUInt32BE(G,!0);for(let R=0;R<$;++R)Y.writeUInt32BE(U,q),q+=4;G+=4}for(let W=1;W<$;++W)Y.copy(Y,q,H,q),q+=Z,H+=Z}return this.bitmap={width:J*$,height:K*$,data:Y},this}scanAllCoords($){const J=this.bitmap.width,K=this.bitmap.data.length;let Z=0,Q=0;for(let Y=0;Y<K;Y+=4)if($(Z,Q,Y),++Z===J)Z=0,++Q}scanAllIndexes($){const J=this.bitmap.data.length;for(let K=0;K<J;K+=4)$(K)}}zH.exports=c6});var p6=l((YX)=>{class d6{constructor($,J,K){this.width=K.width,this.height=K.height,this.loops=K.loops,this.usesTransparency=K.usesTransparency,this.colorScope=K.colorScope,this.frames=J,this.buffer=$}}d6.GlobalColorsPreferred=0;d6.GlobalColorsOnly=1;d6.LocalColorsOnly=2;class NH extends Error{constructor($){super($);if($ instanceof Error)this.stack="Gif"+$.stack}}YX.Gif=d6;YX.GifError=NH});var Qq=l((Zj,Zq)=>{var HJ=function($){return $>0.04045?(($+0.055)/1.055)**2.4:$/12.92},jH=function($,J,K){return $=HJ($/255),J=HJ(J/255),K=HJ(K/255),{x:$*0.4124+J*0.3576+K*0.1805,y:$*0.2126+J*0.7152+K*0.0722,z:$*0.0193+J*0.1192+K*0.9505}},O5=function($){return $*(Math.PI/180)},TH=function($,J,K){let Z=$;if(Z<J)Z=J;if(Z<K)Z=K;return Z},wH=function($,J,K){let Z=$;if(Z>J)Z=J;if(Z>K)Z=K;return Z},NX=function($,J,K){if($>K)$=K;if($<J)$=J;return $|0},E8=function($){if($=Math.round($),$>255)$=255;else if($<0)$=0;return $},R8=function($){if($>255)$=255;else if($<0)$=0;return $},RJ=function($,J){const K=typeof $[0];let Z;if(K==="number"||K==="string"){const Q=Object.create(null);for(let Y=0,G=$.length;Y<G;Y++){const H=$[Y];if(Q[H]||Q[H]===0)continue;Q[H]=Y}Z=$.sort((Y,G)=>J(Y,G)||Q[Y]-Q[G])}else{const Q=$.slice(0);Z=$.sort((Y,G)=>J(Y,G)||Q.indexOf(Y)-Q.indexOf(G))}return Z},G$=function($,J,K){const Z=wH($,J,K),Q=TH($,J,K),Y=Q-Z,G=(Z+Q)/510;let H=0;if(G>0&&G<1)H=Y/(G<0.5?Q+Z:510-Q-Z);let q=0;if(Y>0){if(Q===$)q=(J-K)/Y;else if(Q===J)q=2+(K-$)/Y;else q=4+($-J)/Y;if(q*=60,q<0)q+=360}return{h:q,s:H,l:G}},qJ=function($){return $>0.008856?$**0.3333333333333333:7.787*$+0.13793103448275862},DH=function($,J,K){if($=qJ($/PX),J=qJ(J/AX),K=qJ(K/BX),116*J-16<0)throw new Error("xxx");return{L:Math.max(0,116*J-16),a:500*($-J),b:200*(J-K)}},n6=function($,J,K){const Z=jH($,J,K);return DH(Z.x,Z.y,Z.z)},VJ=function($){return $>0.206893034?$**3:($-0.13793103448275862)/7.787},kH=function($,J,K){const Z=($+16)/116,Q=J/500+Z,Y=Z-K/200;return{x:FX*VJ(Q),y:XX*VJ(Z),z:EX*VJ(Y)}},WJ=function($){return $>0.0031308?1.055*$**0.4166666666666667-0.055:12.92*$},vH=function($,J,K){const Z=WJ($*3.2406+J*-1.5372+K*-0.4986),Q=WJ($*-0.9689+J*1.8758+K*0.0415),Y=WJ($*0.0557+J*-0.204+K*1.057);return{r:E8(Z*255),g:E8(Q*255),b:E8(Y*255)}},CX=function($,J,K){const Z=kH($,J,K);return vH(Z.x,Z.y,Z.z)},UJ=function($,J){const Z=360/J,Q=Z/2;for(let Y=1,G=Z-Q;Y<J;Y++,G+=Z)if($>=G&&$<G+Z)return Y;return 0},Z6=function($){const J=[];for(let K=0;K<$;K++)J[K]=0;return J},Q6=function($,J,K,Z){const Q=new Array($);for(let Y=0;Y<$;Y++){Q[Y]=new Array(J);for(let G=0;G<J;G++){Q[Y][G]=new Array(K);for(let H=0;H<K;H++){Q[Y][G][H]=new Array(Z);for(let q=0;q<Z;q++)Q[Y][G][H][q]=0}}}return Q},Y6=function($,J,K){const Z=new Array($);for(let Q=0;Q<$;Q++){Z[Q]=new Array(J);for(let Y=0;Y<J;Y++){Z[Q][Y]=new Array(K);for(let G=0;G<K;G++)Z[Q][Y][G]=0}}return Z},G6=function($,J,K,Z,Q){for(let Y=0;Y<J;Y++){$[Y]=[];for(let G=0;G<K;G++){$[Y][G]=[];for(let H=0;H<Z;H++)$[Y][G][H]=Q}}},H6=function($,J,K){for(let Z=0;Z<J;Z++)$[Z]=K};function*IX($,J,K){const Z=Math.max($,J),Q=Math.floor(Math.log(Z)/Math.log(2)+1),Y=new $5($*J,99),G={width:$,height:J,level:Q,callback:K,tracker:Y,index:0,x:0,y:0};yield*t0(G,1),U8(G,0)}function*t0($,J){if($.level<1)return;if($.tracker.shouldNotify($.index))yield{progress:$.tracker.progress};switch($.level--,J){case 2:yield*t0($,1),U8($,3),yield*t0($,2),U8($,4),yield*t0($,2),U8($,2),yield*t0($,4);break;case 3:yield*t0($,4),U8($,2),yield*t0($,3),U8($,1),yield*t0($,3),U8($,3),yield*t0($,1);break;case 1:yield*t0($,2),U8($,4),yield*t0($,1),U8($,3),yield*t0($,1),U8($,1),yield*t0($,3);break;case 4:yield*t0($,3),U8($,1),yield*t0($,4),U8($,2),yield*t0($,4),U8($,4),yield*t0($,2);break;default:break}$.level++}var U8=function($,J){if($.x>=0&&$.x<$.width&&$.y>=0&&$.y<$.height)$.callback($.x,$.y),$.index++;switch(J){case 2:$.x--;break;case 3:$.x++;break;case 1:$.y--;break;case 4:$.y++;break}},DX=function($,J){if($.getHeight()!==J.getHeight()||$.getWidth()!==J.getWidth())throw new Error("Images have different sizes!");const Z=(1<<8)-1,Q=(TX*Z)**2,Y=(wX*Z)**2;let G=0,H=0;return kX($,J,(q,V,W,U)=>{let R=0,O=0,B=0;for(let L=0;L<q.length;L++)O+=(q[L]-W)**2,B+=(V[L]-U)**2,R+=(q[L]-W)*(V[L]-U);const M=q.length-1;O/=M,B/=M,R/=M;const C=(2*W*U+Q)*(2*R+Y),E=(W**2+U**2+Q)*(O+B+Y),T=C/E;H+=T,G++}),H/G},kX=function($,J,K){const Q=$.getWidth(),Y=$.getHeight();for(let G=0;G<Y;G+=8)for(let H=0;H<Q;H+=8){const q=Math.min(8,Q-H),V=Math.min(8,Y-G),W=AH($,H,G,q,V),U=AH(J,H,G,q,V),R=BH(W),O=BH(U);K(W,U,R,O)}},AH=function($,J,K,Z,Q){const Y=$.getPointArray(),G=[];let H=0;for(let q=K;q<K+Q;q++){const V=q*$.getWidth();for(let W=J;W<J+Z;W++){const U=Y[V+W];G[H]=U.r*0.2126+U.g*0.7152+U.b*0.0722,H++}}return G},BH=function($){let J=0;for(let K of $)J+=K;return J/$.length},vX=function($,{colorDistanceFormula:J,paletteQuantization:K,colors:Z}={}){const Q=R$(J),Y=Kq(Q,K,Z);return $.forEach((G)=>Y.sample(G)),Y.quantizeSync()};async function _X($,{colorDistanceFormula:J,paletteQuantization:K,colors:Z,onProgress:Q}={}){return new Promise((Y,G)=>{const H=R$(J),q=Kq(H,K,Z);$.forEach((R)=>q.sample(R));let V;const W=q.quantize(),U=()=>{try{const R=W.next();if(R.done)Y(V);else{if(R.value.palette)V=R.value.palette;if(Q)Q(R.value.progress);H$(U)}}catch(R){G(R)}};H$(U)})}var yX=function($,J,{colorDistanceFormula:K,imageQuantization:Z}={}){const Q=R$(K);return Jq(Q,Z).quantizeSync($,J)};async function xX($,J,{colorDistanceFormula:K,imageQuantization:Z,onProgress:Q}={}){return new Promise((Y,G)=>{const H=R$(K),q=Jq(H,Z);let V;const W=q.quantize($,J),U=()=>{try{const R=W.next();if(R.done)Y(V);else{if(R.value.pointContainer)V=R.value.pointContainer;if(Q)Q(R.value.progress);H$(U)}}catch(R){G(R)}};H$(U)})}var R$=function($="euclidean-bt709"){switch($){case"cie94-graphic-arts":return new gH;case"cie94-textiles":return new xH;case"ciede2000":return new T8;case"color-metric":return new hH;case"euclidean":return new bH;case"euclidean-bt709":return new uH;case"euclidean-bt709-noalpha":return new mH;case"manhattan":return new fH;case"manhattan-bt709":return new dH;case"manhattan-nommyde":return new cH;case"pngquant":return new pH;default:throw new Error(`Unknown colorDistanceFormula ${$}`)}},Jq=function($,J="floyd-steinberg"){switch(J){case"nearest":return new tH($);case"riemersma":return new OJ($);case"floyd-steinberg":return new f8($,0);case"false-floyd-steinberg":return new f8($,1);case"stucki":return new f8($,2);case"atkinson":return new f8($,3);case"jarvis":return new f8($,4);case"burkes":return new f8($,5);case"sierra":return new f8($,6);case"two-sierra":return new f8($,7);case"sierra-lite":return new f8($,8);default:throw new Error(`Unknown imageQuantization ${J}`)}},Kq=function($,J="wuquant",K=256){switch(J){case"neuquant":return new f0($,K);case"rgbquant":return new rH($,K);case"wuquant":return new q6($,K);case"neuquant-float":return new c0($,K);default:throw new Error(`Unknown paletteQuantization ${J}`)}},q$=Object.defineProperty,qX=Object.getOwnPropertyDescriptor,VX=Object.getOwnPropertyNames,WX=Object.prototype.hasOwnProperty,UX=($,J,K)=>(J in $)?q$($,J,{enumerable:!0,configurable:!0,writable:!0,value:K}):$[J]=K,RX=($)=>q$($,"__esModule",{value:!0}),c8=($,J)=>{for(var K in J)q$($,K,{get:J[K],enumerable:!0})},OX=($,J,K,Z)=>{if(J&&typeof J==="object"||typeof J==="function"){for(let Q of VX(J))if(!WX.call($,Q)&&(K||Q!=="default"))q$($,Q,{get:()=>J[Q],enumerable:!(Z=qX(J,Q))||Z.enumerable})}return $},zX=(($)=>{return(J,K)=>{return $&&$.get(J)||(K=OX(RX({}),J,1),$&&$.set(J,K),K)}})(typeof WeakMap!=="undefined"?new WeakMap:0),s=($,J,K)=>{return UX($,typeof J!=="symbol"?J+"":J,K),K},FH={};c8(FH,{applyPalette:()=>xX,applyPaletteSync:()=>yX,buildPalette:()=>_X,buildPaletteSync:()=>vX,constants:()=>XH,conversion:()=>SH,distance:()=>_H,image:()=>aH,palette:()=>lH,quality:()=>$q,utils:()=>nH});var XH={};c8(XH,{bt709:()=>EH});var EH={};c8(EH,{Y:()=>CH,x:()=>LH,y:()=>MH});var CH=(($)=>{return $[$.RED=0.2126]="RED",$[$.GREEN=0.7152]="GREEN",$[$.BLUE=0.0722]="BLUE",$[$.WHITE=1]="WHITE",$})(CH||{}),LH=(($)=>{return $[$.RED=0.64]="RED",$[$.GREEN=0.3]="GREEN",$[$.BLUE=0.15]="BLUE",$[$.WHITE=0.3127]="WHITE",$})(LH||{}),MH=(($)=>{return $[$.RED=0.33]="RED",$[$.GREEN=0.6]="GREEN",$[$.BLUE=0.06]="BLUE",$[$.WHITE=0.329]="WHITE",$})(MH||{}),SH={};c8(SH,{lab2rgb:()=>CX,lab2xyz:()=>kH,rgb2hsl:()=>G$,rgb2lab:()=>n6,rgb2xyz:()=>jH,xyz2lab:()=>DH,xyz2rgb:()=>vH});var IH={};c8(IH,{degrees2radians:()=>O5,inRange0to255:()=>R8,inRange0to255Rounded:()=>E8,intInRange:()=>NX,max3:()=>TH,min3:()=>wH,stableSort:()=>RJ});var PX=0.95047,AX=1,BX=1.08883,FX=0.95047,XX=1,EX=1.08883,_H={};c8(_H,{AbstractDistanceCalculator:()=>h5,AbstractEuclidean:()=>V$,AbstractManhattan:()=>W$,CIE94GraphicArts:()=>gH,CIE94Textiles:()=>xH,CIEDE2000:()=>T8,CMetric:()=>hH,Euclidean:()=>bH,EuclideanBT709:()=>uH,EuclideanBT709NoAlpha:()=>mH,Manhattan:()=>fH,ManhattanBT709:()=>dH,ManhattanNommyde:()=>cH,PNGQuant:()=>pH});var h5=class{constructor(){s(this,"_maxDistance"),s(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint($,J,K,Z){this._whitePoint={r:$>0?255/$:0,g:J>0?255/J:0,b:K>0?255/K:0,a:Z>0?255/Z:0},this._maxDistance=this.calculateRaw($,J,K,Z,0,0,0,0)}calculateNormalized($,J){return this.calculateRaw($.r,$.g,$.b,$.a,J.r,J.g,J.b,J.a)/this._maxDistance}},yH=class extends h5{calculateRaw($,J,K,Z,Q,Y,G,H){const q=n6(R8($*this._whitePoint.r),R8(J*this._whitePoint.g),R8(K*this._whitePoint.b)),V=n6(R8(Q*this._whitePoint.r),R8(Y*this._whitePoint.g),R8(G*this._whitePoint.b)),W=q.L-V.L,U=q.a-V.a,R=q.b-V.b,O=Math.sqrt(q.a*q.a+q.b*q.b),B=Math.sqrt(V.a*V.a+V.b*V.b),M=O-B;let C=U*U+R*R-M*M;C=C<0?0:Math.sqrt(C);const E=(H-Z)*this._whitePoint.a*this._kA;return Math.sqrt((W/this._Kl)**2+(M/(1+this._K1*O))**2+(C/(1+this._K2*O))**2+E**2)}},xH=class extends yH{_setDefaults(){this._Kl=2,this._K1=0.048,this._K2=0.014,this._kA=0.049019607843137254}},gH=class extends yH{_setDefaults(){this._Kl=1,this._K1=0.045,this._K2=0.015,this._kA=0.09803921568627451}},m0=class extends h5{_setDefaults(){}static _calculatehp($,J){const K=Math.atan2($,J);if(K>=0)return K;return K+m0._deg360InRad}static _calculateRT($,J){const K=J**7,Z=2*Math.sqrt(K/(K+m0._pow25to7)),Q=m0._deg30InRad*Math.exp(-((($-m0._deg275InRad)/m0._deg25InRad)**2));return-Math.sin(2*Q)*Z}static _calculateT($){return 1-0.17*Math.cos($-m0._deg30InRad)+0.24*Math.cos($*2)+0.32*Math.cos($*3+m0._deg6InRad)-0.2*Math.cos($*4-m0._deg63InRad)}static _calculate_ahp($,J,K,Z){const Q=K+Z;if($===0)return Q;if(J<=m0._deg180InRad)return Q/2;if(Q<m0._deg360InRad)return(Q+m0._deg360InRad)/2;return(Q-m0._deg360InRad)/2}static _calculate_dHp($,J,K,Z){let Q;if($===0)Q=0;else if(J<=m0._deg180InRad)Q=K-Z;else if(K<=Z)Q=K-Z+m0._deg360InRad;else Q=K-Z-m0._deg360InRad;return 2*Math.sqrt($)*Math.sin(Q/2)}calculateRaw($,J,K,Z,Q,Y,G,H){const q=n6(R8($*this._whitePoint.r),R8(J*this._whitePoint.g),R8(K*this._whitePoint.b)),V=n6(R8(Q*this._whitePoint.r),R8(Y*this._whitePoint.g),R8(G*this._whitePoint.b)),W=(H-Z)*this._whitePoint.a*m0._kA,U=this.calculateRawInLab(q,V);return Math.sqrt(U+W*W)}calculateRawInLab($,J){const{L:K,a:Z,b:Q}=$,Y=J.L,G=J.a,H=J.b,q=Math.sqrt(Z*Z+Q*Q),V=Math.sqrt(G*G+H*H),W=((q+V)/2)**7,U=0.5*(1-Math.sqrt(W/(W+m0._pow25to7))),R=(1+U)*Z,O=(1+U)*G,B=Math.sqrt(R*R+Q*Q),M=Math.sqrt(O*O+H*H),C=B*M,E=m0._calculatehp(Q,R),T=m0._calculatehp(H,O),L=Math.abs(E-T),X=Y-K,z=M-B,N=m0._calculate_dHp(C,L,T,E),P=m0._calculate_ahp(C,L,E,T),S=m0._calculateT(P),k=(B+M)/2,w=((K+Y)/2-50)**2,j=1+0.015*w/Math.sqrt(20+w),v=1+0.045*k,_=1+0.015*S*k,x=m0._calculateRT(P,k),b=X/j,y=z/v,p=N/_;return b**2+y**2+p**2+x*y*p}},T8=m0;s(T8,"_kA",0.09803921568627451);s(T8,"_pow25to7",6103515625);s(T8,"_deg360InRad",O5(360));s(T8,"_deg180InRad",O5(180));s(T8,"_deg30InRad",O5(30));s(T8,"_deg6InRad",O5(6));s(T8,"_deg63InRad",O5(63));s(T8,"_deg275InRad",O5(275));s(T8,"_deg25InRad",O5(25));var hH=class extends h5{calculateRaw($,J,K,Z,Q,Y,G,H){const q=($+Q)/2*this._whitePoint.r,V=($-Q)*this._whitePoint.r,W=(J-Y)*this._whitePoint.g,U=(K-G)*this._whitePoint.b,R=((512+q)*V*V>>8)+4*W*W+((767-q)*U*U>>8),O=(H-Z)*this._whitePoint.a;return Math.sqrt(R+O*O)}_setDefaults(){}},V$=class extends h5{calculateRaw($,J,K,Z,Q,Y,G,H){const q=Q-$,V=Y-J,W=G-K,U=H-Z;return Math.sqrt(this._kR*q*q+this._kG*V*V+this._kB*W*W+this._kA*U*U)}},bH=class extends V${_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},uH=class extends V${_setDefaults(){this._kR=0.2126,this._kG=0.7152,this._kB=0.0722,this._kA=1}},mH=class extends V${_setDefaults(){this._kR=0.2126,this._kG=0.7152,this._kB=0.0722,this._kA=0}},W$=class extends h5{calculateRaw($,J,K,Z,Q,Y,G,H){let q=Q-$,V=Y-J,W=G-K,U=H-Z;if(q<0)q=0-q;if(V<0)V=0-V;if(W<0)W=0-W;if(U<0)U=0-U;return this._kR*q+this._kG*V+this._kB*W+this._kA*U}},fH=class extends W${_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},cH=class extends W${_setDefaults(){this._kR=0.4984,this._kG=0.8625,this._kB=0.2979,this._kA=1}},dH=class extends W${_setDefaults(){this._kR=0.2126,this._kG=0.7152,this._kB=0.0722,this._kA=1}},pH=class extends h5{calculateRaw($,J,K,Z,Q,Y,G,H){const q=(H-Z)*this._whitePoint.a;return this._colordifferenceCh($*this._whitePoint.r,Q*this._whitePoint.r,q)+this._colordifferenceCh(J*this._whitePoint.g,Y*this._whitePoint.g,q)+this._colordifferenceCh(K*this._whitePoint.b,G*this._whitePoint.b,q)}_colordifferenceCh($,J,K){const Z=$-J,Q=Z+K;return Z*Z+Q*Q}_setDefaults(){}},lH={};c8(lH,{AbstractPaletteQuantizer:()=>i6,ColorHistogram:()=>r6,NeuQuant:()=>f0,NeuQuantFloat:()=>c0,RGBQuant:()=>rH,WuColorCube:()=>sH,WuQuant:()=>q6});var i6=class{quantizeSync(){for(let $ of this.quantize())if($.palette)return $.palette;throw new Error("unreachable")}},O8=class{constructor(){s(this,"r"),s(this,"g"),s(this,"b"),s(this,"a"),s(this,"uint32"),s(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet($){const J=new O8;return J.r=$[0]|0,J.g=$[1]|0,J.b=$[2]|0,J.a=$[3]|0,J._loadUINT32(),J._loadQuadruplet(),J}static createByRGBA($,J,K,Z){const Q=new O8;return Q.r=$|0,Q.g=J|0,Q.b=K|0,Q.a=Z|0,Q._loadUINT32(),Q._loadQuadruplet(),Q}static createByUint32($){const J=new O8;return J.uint32=$>>>0,J._loadRGBA(),J._loadQuadruplet(),J}from($){this.r=$.r,this.g=$.g,this.b=$.b,this.a=$.a,this.uint32=$.uint32,this.rgba[0]=$.r,this.rgba[1]=$.g,this.rgba[2]=$.b,this.rgba[3]=$.a}getLuminosity($){let J=this.r,K=this.g,Z=this.b;if($)J=Math.min(255,255-this.a+this.a*J/255),K=Math.min(255,255-this.a+this.a*K/255),Z=Math.min(255,255-this.a+this.a*Z/255);return J*0.2126+K*0.7152+Z*0.0722}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=this.uint32&255,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},e8=class{constructor(){s(this,"_pointArray"),s(this,"_width"),s(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth($){this._width=$}setHeight($){this._height=$}getPointArray(){return this._pointArray}clone(){const $=new e8;$._width=this._width,$._height=this._height;for(let J=0,K=this._pointArray.length;J<K;J++)$._pointArray[J]=O8.createByUint32(this._pointArray[J].uint32|0);return $}toUint32Array(){const $=this._pointArray.length,J=new Uint32Array($);for(let K=0;K<$;K++)J[K]=this._pointArray[K].uint32;return J}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement($){const{naturalWidth:J,naturalHeight:K}=$,Z=document.createElement("canvas");return Z.width=J,Z.height=K,Z.getContext("2d").drawImage($,0,0,J,K,0,0,J,K),e8.fromHTMLCanvasElement(Z)}static fromHTMLCanvasElement($){const{width:J,height:K}=$,Q=$.getContext("2d").getImageData(0,0,J,K);return e8.fromImageData(Q)}static fromImageData($){const{width:J,height:K}=$;return e8.fromUint8Array($.data,J,K)}static fromUint8Array($,J,K){switch(Object.prototype.toString.call($)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:$=new Uint8Array($)}const Z=new Uint32Array($.buffer);return e8.fromUint32Array(Z,J,K)}static fromUint32Array($,J,K){const Z=new e8;Z._width=J,Z._height=K;for(let Q=0,Y=$.length;Q<Y;Q++)Z._pointArray[Q]=O8.createByUint32($[Q]|0);return Z}static fromBuffer($,J,K){const Z=new Uint32Array($.buffer,$.byteOffset,$.byteLength/Uint32Array.BYTES_PER_ELEMENT);return e8.fromUint32Array(Z,J,K)}},PH=10,o6=class{constructor(){s(this,"_pointContainer"),s(this,"_pointArray",[]),s(this,"_i32idx",{}),this._pointContainer=new e8,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add($){this._pointArray.push($),this._pointContainer.setWidth(this._pointArray.length)}has($){for(let J=this._pointArray.length-1;J>=0;J--)if($.uint32===this._pointArray[J].uint32)return!0;return!1}getNearestColor($,J){return this._pointArray[this._getNearestIndex($,J)|0]}getPointContainer(){return this._pointContainer}_nearestPointFromCache($){return typeof this._i32idx[$]==="number"?this._i32idx[$]:-1}_getNearestIndex($,J){let K=this._nearestPointFromCache(""+J.uint32);if(K>=0)return K;let Z=Number.MAX_VALUE;K=0;for(let Q=0,Y=this._pointArray.length;Q<Y;Q++){const G=this._pointArray[Q],H=$.calculateRaw(J.r,J.g,J.b,J.a,G.r,G.g,G.b,G.a);if(H<Z)Z=H,K=Q}return this._i32idx[J.uint32]=K,K}sort(){this._i32idx={},this._pointArray.sort(($,J)=>{const K=G$($.r,$.g,$.b),Z=G$(J.r,J.g,J.b),Q=$.r===$.g&&$.g===$.b?0:1+UJ(K.h,PH),G=(J.r===J.g&&J.g===J.b?0:1+UJ(Z.h,PH))-Q;if(G)return-G;const H=$.getLuminosity(!0),q=J.getLuminosity(!0);if(q-H!==0)return q-H;const V=(Z.s*100|0)-(K.s*100|0);if(V)return-V;return 0})}},nH={};c8(nH,{HueStatistics:()=>iH,Palette:()=>o6,Point:()=>O8,PointContainer:()=>e8,ProgressTracker:()=>$5,arithmetic:()=>IH});var LX=class{constructor(){s(this,"num",0),s(this,"cols",[])}},iH=class{constructor($,J){s(this,"_numGroups"),s(this,"_minCols"),s(this,"_stats"),s(this,"_groupsFull"),this._numGroups=$,this._minCols=J,this._stats=[];for(let K=0;K<=$;K++)this._stats[K]=new LX;this._groupsFull=0}check($){if(this._groupsFull===this._numGroups+1)this.check=()=>{};const J=$&255,K=$>>>8&255,Z=$>>>16&255,Q=J===K&&K===Z?0:1+UJ(G$(J,K,Z).h,this._numGroups),Y=this._stats[Q],G=this._minCols;if(Y.num++,Y.num>G)return;if(Y.num===G)this._groupsFull++;if(Y.num<=G)this._stats[Q].cols.push($)}injectIntoDictionary($){for(let J=0;J<=this._numGroups;J++)if(this._stats[J].num<=this._minCols)this._stats[J].cols.forEach((K)=>{if(!$[K])$[K]=1;else $[K]++})}injectIntoArray($){for(let J=0;J<=this._numGroups;J++)if(this._stats[J].num<=this._minCols)this._stats[J].cols.forEach((K)=>{if($.indexOf(K)===-1)$.push(K)})}},oH=class{constructor($,J){s(this,"progress"),s(this,"_step"),s(this,"_range"),s(this,"_last"),s(this,"_progressRange"),this._range=$,this._progressRange=J,this._step=Math.max(1,this._range/(oH.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify($){if($-this._last>=this._step)return this._last=$,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0;return!1}},$5=oH;s($5,"steps",100);var Z8=3,MX=class{constructor($){s(this,"r"),s(this,"g"),s(this,"b"),s(this,"a"),this.r=this.g=this.b=this.a=$}toPoint(){return O8.createByRGBA(this.r>>Z8,this.g>>Z8,this.b>>Z8,this.a>>Z8)}subtract($,J,K,Z){this.r-=$|0,this.g-=J|0,this.b-=K|0,this.a-=Z|0}},T0=class extends i6{constructor($,J=256){super();s(this,"_pointArray"),s(this,"_networkSize"),s(this,"_network"),s(this,"_sampleFactor"),s(this,"_radPower"),s(this,"_freq"),s(this,"_bias"),s(this,"_distance"),this._distance=$,this._pointArray=[],this._sampleFactor=1,this._networkSize=J,this._distance.setWhitePoint(255<<Z8,255<<Z8,255<<Z8,255<<Z8)}sample($){this._pointArray=this._pointArray.concat($.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let $=0;$<this._networkSize;$++)this._network[$]=new MX(($<<Z8+8)/this._networkSize|0),this._freq[$]=T0._initialBias/this._networkSize|0,this._bias[$]=0}*_learn(){let $=this._sampleFactor;const J=this._pointArray.length;if(J<T0._minpicturebytes)$=1;const K=30+($-1)/3|0,Z=J/$|0;let Q=Z/T0._nCycles|0,Y=T0._initAlpha,G=(this._networkSize>>3)*T0._radiusBias,H=G>>T0._radiusBiasShift;if(H<=1)H=0;for(let W=0;W<H;W++)this._radPower[W]=Y*((H*H-W*W)*T0._radBias/(H*H))>>>0;let q;if(J<T0._minpicturebytes)q=1;else if(J%T0._prime1!==0)q=T0._prime1;else if(J%T0._prime2!==0)q=T0._prime2;else if(J%T0._prime3!==0)q=T0._prime3;else q=T0._prime4;const V=new $5(Z,99);for(let W=0,U=0;W<Z;){if(V.shouldNotify(W))yield{progress:V.progress};const R=this._pointArray[U],O=R.b<<Z8,B=R.g<<Z8,M=R.r<<Z8,C=R.a<<Z8,E=this._contest(O,B,M,C);if(this._alterSingle(Y,E,O,B,M,C),H!==0)this._alterNeighbour(H,E,O,B,M,C);if(U+=q,U>=J)U-=J;if(W++,Q===0)Q=1;if(W%Q===0){if(Y-=Y/K|0,G-=G/T0._radiusDecrease|0,H=G>>T0._radiusBiasShift,H<=1)H=0;for(let T=0;T<H;T++)this._radPower[T]=Y*((H*H-T*T)*T0._radBias/(H*H))>>>0}}}_buildPalette(){const $=new o6;return this._network.forEach((J)=>{$.add(J.toPoint())}),$.sort(),$}_alterNeighbour($,J,K,Z,Q,Y){let G=J-$;if(G<-1)G=-1;let H=J+$;if(H>this._networkSize)H=this._networkSize;let q=J+1,V=J-1,W=1;while(q<H||V>G){const U=this._radPower[W++]/T0._alphaRadBias;if(q<H){const R=this._network[q++];R.subtract(U*(R.r-Q),U*(R.g-Z),U*(R.b-K),U*(R.a-Y))}if(V>G){const R=this._network[V--];R.subtract(U*(R.r-Q),U*(R.g-Z),U*(R.b-K),U*(R.a-Y))}}}_alterSingle($,J,K,Z,Q,Y){$/=T0._initAlpha;const G=this._network[J];G.subtract($*(G.r-Q),$*(G.g-Z),$*(G.b-K),$*(G.a-Y))}_contest($,J,K,Z){const Q=1020<<Z8;let Y=~(1<<31),G=Y,H=-1,q=H;for(let V=0;V<this._networkSize;V++){const W=this._network[V],U=this._distance.calculateNormalized(W,{r:K,g:J,b:$,a:Z})*Q|0;if(U<Y)Y=U,H=V;const R=U-(this._bias[V]>>T0._initialBiasShift-Z8);if(R<G)G=R,q=V;const O=this._freq[V]>>T0._betaShift;this._freq[V]-=O,this._bias[V]+=O<<T0._gammaShift}return this._freq[H]+=T0._beta,this._bias[H]-=T0._betaGamma,q}},f0=T0;s(f0,"_prime1",499);s(f0,"_prime2",491);s(f0,"_prime3",487);s(f0,"_prime4",503);s(f0,"_minpicturebytes",T0._prime4);s(f0,"_nCycles",100);s(f0,"_initialBiasShift",16);s(f0,"_initialBias",1<<T0._initialBiasShift);s(f0,"_gammaShift",10);s(f0,"_betaShift",10);s(f0,"_beta",T0._initialBias>>T0._betaShift);s(f0,"_betaGamma",T0._initialBias<<T0._gammaShift-T0._betaShift);s(f0,"_radiusBiasShift",6);s(f0,"_radiusBias",1<<T0._radiusBiasShift);s(f0,"_radiusDecrease",30);s(f0,"_alphaBiasShift",10);s(f0,"_initAlpha",1<<T0._alphaBiasShift);s(f0,"_radBiasShift",8);s(f0,"_radBias",1<<T0._radBiasShift);s(f0,"_alphaRadBiasShift",T0._alphaBiasShift+T0._radBiasShift);s(f0,"_alphaRadBias",1<<T0._alphaRadBiasShift);var Q8=3,SX=class{constructor($){s(this,"r"),s(this,"g"),s(this,"b"),s(this,"a"),this.r=this.g=this.b=this.a=$}toPoint(){return O8.createByRGBA(this.r>>Q8,this.g>>Q8,this.b>>Q8,this.a>>Q8)}subtract($,J,K,Z){this.r-=$,this.g-=J,this.b-=K,this.a-=Z}},w0=class extends i6{constructor($,J=256){super();s(this,"_pointArray"),s(this,"_networkSize"),s(this,"_network"),s(this,"_sampleFactor"),s(this,"_radPower"),s(this,"_freq"),s(this,"_bias"),s(this,"_distance"),this._distance=$,this._pointArray=[],this._sampleFactor=1,this._networkSize=J,this._distance.setWhitePoint(255<<Q8,255<<Q8,255<<Q8,255<<Q8)}sample($){this._pointArray=this._pointArray.concat($.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let $=0;$<this._networkSize;$++)this._network[$]=new SX(($<<Q8+8)/this._networkSize),this._freq[$]=w0._initialBias/this._networkSize,this._bias[$]=0}*_learn(){let $=this._sampleFactor;const J=this._pointArray.length;if(J<w0._minpicturebytes)$=1;const K=30+($-1)/3,Z=J/$;let Q=Z/w0._nCycles|0,Y=w0._initAlpha,G=(this._networkSize>>3)*w0._radiusBias,H=G>>w0._radiusBiasShift;if(H<=1)H=0;for(let W=0;W<H;W++)this._radPower[W]=Y*((H*H-W*W)*w0._radBias/(H*H));let q;if(J<w0._minpicturebytes)q=1;else if(J%w0._prime1!==0)q=w0._prime1;else if(J%w0._prime2!==0)q=w0._prime2;else if(J%w0._prime3!==0)q=w0._prime3;else q=w0._prime4;const V=new $5(Z,99);for(let W=0,U=0;W<Z;){if(V.shouldNotify(W))yield{progress:V.progress};const R=this._pointArray[U],O=R.b<<Q8,B=R.g<<Q8,M=R.r<<Q8,C=R.a<<Q8,E=this._contest(O,B,M,C);if(this._alterSingle(Y,E,O,B,M,C),H!==0)this._alterNeighbour(H,E,O,B,M,C);if(U+=q,U>=J)U-=J;if(W++,Q===0)Q=1;if(W%Q===0){if(Y-=Y/K,G-=G/w0._radiusDecrease,H=G>>w0._radiusBiasShift,H<=1)H=0;for(let T=0;T<H;T++)this._radPower[T]=Y*((H*H-T*T)*w0._radBias/(H*H))}}}_buildPalette(){const $=new o6;return this._network.forEach((J)=>{$.add(J.toPoint())}),$.sort(),$}_alterNeighbour($,J,K,Z,Q,Y){let G=J-$;if(G<-1)G=-1;let H=J+$;if(H>this._networkSize)H=this._networkSize;let q=J+1,V=J-1,W=1;while(q<H||V>G){const U=this._radPower[W++]/w0._alphaRadBias;if(q<H){const R=this._network[q++];R.subtract(U*(R.r-Q),U*(R.g-Z),U*(R.b-K),U*(R.a-Y))}if(V>G){const R=this._network[V--];R.subtract(U*(R.r-Q),U*(R.g-Z),U*(R.b-K),U*(R.a-Y))}}}_alterSingle($,J,K,Z,Q,Y){$/=w0._initAlpha;const G=this._network[J];G.subtract($*(G.r-Q),$*(G.g-Z),$*(G.b-K),$*(G.a-Y))}_contest($,J,K,Z){const Q=1020<<Q8;let Y=~(1<<31),G=Y,H=-1,q=H;for(let V=0;V<this._networkSize;V++){const W=this._network[V],U=this._distance.calculateNormalized(W,{r:K,g:J,b:$,a:Z})*Q;if(U<Y)Y=U,H=V;const R=U-(this._bias[V]>>w0._initialBiasShift-Q8);if(R<G)G=R,q=V;const O=this._freq[V]>>w0._betaShift;this._freq[V]-=O,this._bias[V]+=O<<w0._gammaShift}return this._freq[H]+=w0._beta,this._bias[H]-=w0._betaGamma,q}},c0=w0;s(c0,"_prime1",499);s(c0,"_prime2",491);s(c0,"_prime3",487);s(c0,"_prime4",503);s(c0,"_minpicturebytes",w0._prime4);s(c0,"_nCycles",100);s(c0,"_initialBiasShift",16);s(c0,"_initialBias",1<<w0._initialBiasShift);s(c0,"_gammaShift",10);s(c0,"_betaShift",10);s(c0,"_beta",w0._initialBias>>w0._betaShift);s(c0,"_betaGamma",w0._initialBias<<w0._gammaShift-w0._betaShift);s(c0,"_radiusBiasShift",6);s(c0,"_radiusBias",1<<w0._radiusBiasShift);s(c0,"_radiusDecrease",30);s(c0,"_alphaBiasShift",10);s(c0,"_initAlpha",1<<w0._alphaBiasShift);s(c0,"_radBiasShift",8);s(c0,"_radBias",1<<w0._radBiasShift);s(c0,"_alphaRadBiasShift",w0._alphaBiasShift+w0._radBiasShift);s(c0,"_alphaRadBias",1<<w0._alphaRadBiasShift);var l6=class{constructor($,J){s(this,"_method"),s(this,"_hueStats"),s(this,"_histogram"),s(this,"_initColors"),s(this,"_minHueCols"),this._method=$,this._minHueCols=J<<2,this._initColors=J<<2,this._hueStats=new iH(l6._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample($){switch(this._method){case 1:this._colorStats1D($);break;case 2:this._colorStats2D($);break}}getImportanceSortedColorsIDXI32(){const $=RJ(Object.keys(this._histogram),(K,Z)=>this._histogram[Z]-this._histogram[K]);if($.length===0)return[];let J;switch(this._method){case 1:const K=Math.min($.length,this._initColors),Z=$[K-1],Q=this._histogram[Z];J=$.slice(0,K);let Y=K;const G=$.length;while(Y<G&&this._histogram[$[Y]]===Q)J.push($[Y++]);this._hueStats.injectIntoArray(J);break;case 2:J=$;break;default:throw new Error("Incorrect method")}return J.map((K)=>+K)}_colorStats1D($){const J=this._histogram,K=$.getPointArray(),Z=K.length;for(let Q=0;Q<Z;Q++){const Y=K[Q].uint32;if(this._hueStats.check(Y),Y in J)J[Y]++;else J[Y]=1}}_colorStats2D($){const J=$.getWidth(),K=$.getHeight(),Z=$.getPointArray(),Q=l6._boxSize[0],Y=l6._boxSize[1],G=Q*Y,H=this._makeBoxes(J,K,Q,Y),q=this._histogram;H.forEach((V)=>{let W=Math.round(V.w*V.h/G)*l6._boxPixels;if(W<2)W=2;const U={};this._iterateBox(V,J,(R)=>{const O=Z[R].uint32;if(this._hueStats.check(O),O in q)q[O]++;else if(O in U){if(++U[O]>=W)q[O]=U[O]}else U[O]=1})}),this._hueStats.injectIntoDictionary(q)}_iterateBox($,J,K){const Z=$,Q=Z.y*J+Z.x,Y=(Z.y+Z.h-1)*J+(Z.x+Z.w-1),G=J-Z.w+1;let H=0,q=Q;do K.call(this,q),q+=++H%Z.w===0?G:1;while(q<=Y)}_makeBoxes($,J,K,Z){const Q=$%K,Y=J%Z,G=$-Q,H=J-Y,q=[];for(let V=0;V<J;V+=Z)for(let W=0;W<$;W+=K)q.push({x:W,y:V,w:W===G?Q:K,h:V===H?Y:Z});return q}},r6=l6;s(r6,"_boxSize",[64,64]);s(r6,"_boxPixels",2);s(r6,"_hueGroups",10);var jX=class{constructor($,J,K){s(this,"index"),s(this,"color"),s(this,"distance"),this.index=$,this.color=J,this.distance=K}},rH=class extends i6{constructor($,J=256,K=2){super();s(this,"_colors"),s(this,"_initialDistance"),s(this,"_distanceIncrement"),s(this,"_histogram"),s(this,"_distance"),this._distance=$,this._colors=J,this._histogram=new r6(K,J),this._initialDistance=0.01,this._distanceIncrement=0.005}sample($){this._histogram.sample($)}*quantize(){const $=this._histogram.getImportanceSortedColorsIDXI32();if($.length===0)throw new Error("No colors in image");yield*this._buildPalette($)}*_buildPalette($){const J=new o6,K=J.getPointContainer().getPointArray(),Z=new Array($.length);for(let W=0;W<$.length;W++)K.push(O8.createByUint32($[W])),Z[W]=1;const Q=K.length,Y=[];let G=Q,H=this._initialDistance;const q=new $5(G-this._colors,99);while(G>this._colors){Y.length=0;for(let W=0;W<Q;W++){if(q.shouldNotify(Q-G))yield{progress:q.progress};if(Z[W]===0)continue;const U=K[W];for(let R=W+1;R<Q;R++){if(Z[R]===0)continue;const O=K[R],B=this._distance.calculateNormalized(U,O);if(B<H)Y.push(new jX(R,O,B)),Z[R]=0,G--}}H+=G>this._colors*3?this._initialDistance:this._distanceIncrement}if(G<this._colors){RJ(Y,(U,R)=>R.distance-U.distance);let W=0;while(G<this._colors&&W<Y.length){const U=Y[W];Z[U.index]=1,G++,W++}}let V=K.length;for(let W=V-1;W>=0;W--)if(Z[W]===0){if(W!==V-1)K[W]=K[V-1];--V}K.length=V,J.sort(),yield{palette:J,progress:100}}},sH=class{constructor(){s(this,"redMinimum"),s(this,"redMaximum"),s(this,"greenMinimum"),s(this,"greenMaximum"),s(this,"blueMinimum"),s(this,"blueMaximum"),s(this,"volume"),s(this,"alphaMinimum"),s(this,"alphaMaximum")}},F0=class extends i6{constructor($,J=256,K=5){super();s(this,"_reds"),s(this,"_greens"),s(this,"_blues"),s(this,"_alphas"),s(this,"_sums"),s(this,"_weights"),s(this,"_momentsRed"),s(this,"_momentsGreen"),s(this,"_momentsBlue"),s(this,"_momentsAlpha"),s(this,"_moments"),s(this,"_table"),s(this,"_pixels"),s(this,"_cubes"),s(this,"_colors"),s(this,"_significantBitsPerChannel"),s(this,"_maxSideIndex"),s(this,"_alphaMaxSideIndex"),s(this,"_sideSize"),s(this,"_alphaSideSize"),s(this,"_distance"),this._distance=$,this._setQuality(K),this._initialize(J)}sample($){const J=$.getPointArray();for(let K=0,Z=J.length;K<Z;K++)this._addColor(J[K]);this._pixels=this._pixels.concat(J)}*quantize(){yield*this._preparePalette();const $=new o6;for(let J=0;J<this._colors;J++)if(this._sums[J]>0){const K=this._sums[J],Z=this._reds[J]/K,Q=this._greens[J]/K,Y=this._blues[J]/K,G=this._alphas[J]/K,H=O8.createByRGBA(Z|0,Q|0,Y|0,G|0);$.add(H)}$.sort(),yield{palette:$,progress:100}}*_preparePalette(){yield*this._calculateMoments();let $=0;const J=Z6(this._colors);for(let G=1;G<this._colors;++G){if(this._cut(this._cubes[$],this._cubes[G]))J[$]=this._cubes[$].volume>1?this._calculateVariance(this._cubes[$]):0,J[G]=this._cubes[G].volume>1?this._calculateVariance(this._cubes[G]):0;else J[$]=0,G--;$=0;let H=J[0];for(let q=1;q<=G;++q)if(J[q]>H)H=J[q],$=q;if(H<=0){this._colors=G+1;break}}const K=[],Z=[],Q=[],Y=[];for(let G=0;G<this._colors;++G){const H=F0._volume(this._cubes[G],this._weights);if(H>0)K[G]=F0._volume(this._cubes[G],this._momentsRed)/H|0,Z[G]=F0._volume(this._cubes[G],this._momentsGreen)/H|0,Q[G]=F0._volume(this._cubes[G],this._momentsBlue)/H|0,Y[G]=F0._volume(this._cubes[G],this._momentsAlpha)/H|0;else K[G]=0,Z[G]=0,Q[G]=0,Y[G]=0}this._reds=Z6(this._colors+1),this._greens=Z6(this._colors+1),this._blues=Z6(this._colors+1),this._alphas=Z6(this._colors+1),this._sums=Z6(this._colors+1);for(let G=0,H=this._pixels.length;G<H;G++){const q=this._pixels[G];let W=-1,U=Number.MAX_VALUE;for(let R=0;R<this._colors;R++){const O=K[R],B=Z[R],M=Q[R],C=Y[R],E=this._distance.calculateRaw(O,B,M,C,q.r,q.g,q.b,q.a);if(E<U)U=E,W=R}this._reds[W]+=q.r,this._greens[W]+=q.g,this._blues[W]+=q.b,this._alphas[W]+=q.a,this._sums[W]++}}_addColor($){const J=8-this._significantBitsPerChannel,K=($.r>>J)+1,Z=($.g>>J)+1,Q=($.b>>J)+1,Y=($.a>>J)+1;this._weights[Y][K][Z][Q]++,this._momentsRed[Y][K][Z][Q]+=$.r,this._momentsGreen[Y][K][Z][Q]+=$.g,this._momentsBlue[Y][K][Z][Q]+=$.b,this._momentsAlpha[Y][K][Z][Q]+=$.a,this._moments[Y][K][Z][Q]+=this._table[$.r]+this._table[$.g]+this._table[$.b]+this._table[$.a]}*_calculateMoments(){const $=[],J=[],K=[],Z=[],Q=[],Y=[],G=Y6(this._sideSize,this._sideSize,this._sideSize),H=Y6(this._sideSize,this._sideSize,this._sideSize),q=Y6(this._sideSize,this._sideSize,this._sideSize),V=Y6(this._sideSize,this._sideSize,this._sideSize),W=Y6(this._sideSize,this._sideSize,this._sideSize),U=Y6(this._sideSize,this._sideSize,this._sideSize);let R=0;const O=new $5(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let B=1;B<=this._alphaMaxSideIndex;++B){G6(G,this._sideSize,this._sideSize,this._sideSize,0),G6(H,this._sideSize,this._sideSize,this._sideSize,0),G6(q,this._sideSize,this._sideSize,this._sideSize,0),G6(V,this._sideSize,this._sideSize,this._sideSize,0),G6(W,this._sideSize,this._sideSize,this._sideSize,0),G6(U,this._sideSize,this._sideSize,this._sideSize,0);for(let M=1;M<=this._maxSideIndex;++M,++R){if(O.shouldNotify(R))yield{progress:O.progress};H6($,this._sideSize,0),H6(J,this._sideSize,0),H6(K,this._sideSize,0),H6(Z,this._sideSize,0),H6(Q,this._sideSize,0),H6(Y,this._sideSize,0);for(let C=1;C<=this._maxSideIndex;++C){let E=0,T=0,L=0,X=0,z=0,N=0;for(let P=1;P<=this._maxSideIndex;++P)E+=this._weights[B][M][C][P],T+=this._momentsRed[B][M][C][P],L+=this._momentsGreen[B][M][C][P],X+=this._momentsBlue[B][M][C][P],z+=this._momentsAlpha[B][M][C][P],N+=this._moments[B][M][C][P],$[P]+=E,J[P]+=T,K[P]+=L,Z[P]+=X,Q[P]+=z,Y[P]+=N,G[M][C][P]=G[M-1][C][P]+$[P],H[M][C][P]=H[M-1][C][P]+J[P],q[M][C][P]=q[M-1][C][P]+K[P],V[M][C][P]=V[M-1][C][P]+Z[P],W[M][C][P]=W[M-1][C][P]+Q[P],U[M][C][P]=U[M-1][C][P]+Y[P],this._weights[B][M][C][P]=this._weights[B-1][M][C][P]+G[M][C][P],this._momentsRed[B][M][C][P]=this._momentsRed[B-1][M][C][P]+H[M][C][P],this._momentsGreen[B][M][C][P]=this._momentsGreen[B-1][M][C][P]+q[M][C][P],this._momentsBlue[B][M][C][P]=this._momentsBlue[B-1][M][C][P]+V[M][C][P],this._momentsAlpha[B][M][C][P]=this._momentsAlpha[B-1][M][C][P]+W[M][C][P],this._moments[B][M][C][P]=this._moments[B-1][M][C][P]+U[M][C][P]}}}}static _volumeFloat($,J){return J[$.alphaMaximum][$.redMaximum][$.greenMaximum][$.blueMaximum]-J[$.alphaMaximum][$.redMaximum][$.greenMinimum][$.blueMaximum]-J[$.alphaMaximum][$.redMinimum][$.greenMaximum][$.blueMaximum]+J[$.alphaMaximum][$.redMinimum][$.greenMinimum][$.blueMaximum]-J[$.alphaMinimum][$.redMaximum][$.greenMaximum][$.blueMaximum]+J[$.alphaMinimum][$.redMaximum][$.greenMinimum][$.blueMaximum]+J[$.alphaMinimum][$.redMinimum][$.greenMaximum][$.blueMaximum]-J[$.alphaMinimum][$.redMinimum][$.greenMinimum][$.blueMaximum]-(J[$.alphaMaximum][$.redMaximum][$.greenMaximum][$.blueMinimum]-J[$.alphaMinimum][$.redMaximum][$.greenMaximum][$.blueMinimum]-J[$.alphaMaximum][$.redMaximum][$.greenMinimum][$.blueMinimum]+J[$.alphaMinimum][$.redMaximum][$.greenMinimum][$.blueMinimum]-J[$.alphaMaximum][$.redMinimum][$.greenMaximum][$.blueMinimum]+J[$.alphaMinimum][$.redMinimum][$.greenMaximum][$.blueMinimum]+J[$.alphaMaximum][$.redMinimum][$.greenMinimum][$.blueMinimum]-J[$.alphaMinimum][$.redMinimum][$.greenMinimum][$.blueMinimum])}static _volume($,J){return F0._volumeFloat($,J)|0}static _top($,J,K,Z){let Q;switch(J){case F0._alpha:Q=Z[K][$.redMaximum][$.greenMaximum][$.blueMaximum]-Z[K][$.redMaximum][$.greenMinimum][$.blueMaximum]-Z[K][$.redMinimum][$.greenMaximum][$.blueMaximum]+Z[K][$.redMinimum][$.greenMinimum][$.blueMaximum]-(Z[K][$.redMaximum][$.greenMaximum][$.blueMinimum]-Z[K][$.redMaximum][$.greenMinimum][$.blueMinimum]-Z[K][$.redMinimum][$.greenMaximum][$.blueMinimum]+Z[K][$.redMinimum][$.greenMinimum][$.blueMinimum]);break;case F0._red:Q=Z[$.alphaMaximum][K][$.greenMaximum][$.blueMaximum]-Z[$.alphaMaximum][K][$.greenMinimum][$.blueMaximum]-Z[$.alphaMinimum][K][$.greenMaximum][$.blueMaximum]+Z[$.alphaMinimum][K][$.greenMinimum][$.blueMaximum]-(Z[$.alphaMaximum][K][$.greenMaximum][$.blueMinimum]-Z[$.alphaMaximum][K][$.greenMinimum][$.blueMinimum]-Z[$.alphaMinimum][K][$.greenMaximum][$.blueMinimum]+Z[$.alphaMinimum][K][$.greenMinimum][$.blueMinimum]);break;case F0._green:Q=Z[$.alphaMaximum][$.redMaximum][K][$.blueMaximum]-Z[$.alphaMaximum][$.redMinimum][K][$.blueMaximum]-Z[$.alphaMinimum][$.redMaximum][K][$.blueMaximum]+Z[$.alphaMinimum][$.redMinimum][K][$.blueMaximum]-(Z[$.alphaMaximum][$.redMaximum][K][$.blueMinimum]-Z[$.alphaMaximum][$.redMinimum][K][$.blueMinimum]-Z[$.alphaMinimum][$.redMaximum][K][$.blueMinimum]+Z[$.alphaMinimum][$.redMinimum][K][$.blueMinimum]);break;case F0._blue:Q=Z[$.alphaMaximum][$.redMaximum][$.greenMaximum][K]-Z[$.alphaMaximum][$.redMaximum][$.greenMinimum][K]-Z[$.alphaMaximum][$.redMinimum][$.greenMaximum][K]+Z[$.alphaMaximum][$.redMinimum][$.greenMinimum][K]-(Z[$.alphaMinimum][$.redMaximum][$.greenMaximum][K]-Z[$.alphaMinimum][$.redMaximum][$.greenMinimum][K]-Z[$.alphaMinimum][$.redMinimum][$.greenMaximum][K]+Z[$.alphaMinimum][$.redMinimum][$.greenMinimum][K]);break;default:throw new Error("impossible")}return Q|0}static _bottom($,J,K){switch(J){case F0._alpha:return-K[$.alphaMinimum][$.redMaximum][$.greenMaximum][$.blueMaximum]+K[$.alphaMinimum][$.redMaximum][$.greenMinimum][$.blueMaximum]+K[$.alphaMinimum][$.redMinimum][$.greenMaximum][$.blueMaximum]-K[$.alphaMinimum][$.redMinimum][$.greenMinimum][$.blueMaximum]-(-K[$.alphaMinimum][$.redMaximum][$.greenMaximum][$.blueMinimum]+K[$.alphaMinimum][$.redMaximum][$.greenMinimum][$.blueMinimum]+K[$.alphaMinimum][$.redMinimum][$.greenMaximum][$.blueMinimum]-K[$.alphaMinimum][$.redMinimum][$.greenMinimum][$.blueMinimum]);case F0._red:return-K[$.alphaMaximum][$.redMinimum][$.greenMaximum][$.blueMaximum]+K[$.alphaMaximum][$.redMinimum][$.greenMinimum][$.blueMaximum]+K[$.alphaMinimum][$.redMinimum][$.greenMaximum][$.blueMaximum]-K[$.alphaMinimum][$.redMinimum][$.greenMinimum][$.blueMaximum]-(-K[$.alphaMaximum][$.redMinimum][$.greenMaximum][$.blueMinimum]+K[$.alphaMaximum][$.redMinimum][$.greenMinimum][$.blueMinimum]+K[$.alphaMinimum][$.redMinimum][$.greenMaximum][$.blueMinimum]-K[$.alphaMinimum][$.redMinimum][$.greenMinimum][$.blueMinimum]);case F0._green:return-K[$.alphaMaximum][$.redMaximum][$.greenMinimum][$.blueMaximum]+K[$.alphaMaximum][$.redMinimum][$.greenMinimum][$.blueMaximum]+K[$.alphaMinimum][$.redMaximum][$.greenMinimum][$.blueMaximum]-K[$.alphaMinimum][$.redMinimum][$.greenMinimum][$.blueMaximum]-(-K[$.alphaMaximum][$.redMaximum][$.greenMinimum][$.blueMinimum]+K[$.alphaMaximum][$.redMinimum][$.greenMinimum][$.blueMinimum]+K[$.alphaMinimum][$.redMaximum][$.greenMinimum][$.blueMinimum]-K[$.alphaMinimum][$.redMinimum][$.greenMinimum][$.blueMinimum]);case F0._blue:return-K[$.alphaMaximum][$.redMaximum][$.greenMaximum][$.blueMinimum]+K[$.alphaMaximum][$.redMaximum][$.greenMinimum][$.blueMinimum]+K[$.alphaMaximum][$.redMinimum][$.greenMaximum][$.blueMinimum]-K[$.alphaMaximum][$.redMinimum][$.greenMinimum][$.blueMinimum]-(-K[$.alphaMinimum][$.redMaximum][$.greenMaximum][$.blueMinimum]+K[$.alphaMinimum][$.redMaximum][$.greenMinimum][$.blueMinimum]+K[$.alphaMinimum][$.redMinimum][$.greenMaximum][$.blueMinimum]-K[$.alphaMinimum][$.redMinimum][$.greenMinimum][$.blueMinimum]);default:return 0}}_calculateVariance($){const J=F0._volume($,this._momentsRed),K=F0._volume($,this._momentsGreen),Z=F0._volume($,this._momentsBlue),Q=F0._volume($,this._momentsAlpha),Y=F0._volumeFloat($,this._moments),G=F0._volume($,this._weights),H=J*J+K*K+Z*Z+Q*Q;return Y-H/G}_maximize($,J,K,Z,Q,Y,G,H,q){const V=F0._bottom($,J,this._momentsRed)|0,W=F0._bottom($,J,this._momentsGreen)|0,U=F0._bottom($,J,this._momentsBlue)|0,R=F0._bottom($,J,this._momentsAlpha)|0,O=F0._bottom($,J,this._weights)|0;let B=0,M=-1;for(let C=K;C<Z;++C){let E=V+F0._top($,J,C,this._momentsRed),T=W+F0._top($,J,C,this._momentsGreen),L=U+F0._top($,J,C,this._momentsBlue),X=R+F0._top($,J,C,this._momentsAlpha),z=O+F0._top($,J,C,this._weights);if(z!==0){let N=E*E+T*T+L*L+X*X,P=N/z;if(E=Q-E,T=Y-T,L=G-L,X=H-X,z=q-z,z!==0){if(N=E*E+T*T+L*L+X*X,P+=N/z,P>B)B=P,M=C}}}return{max:B,position:M}}_cut($,J){let K;const Z=F0._volume($,this._momentsRed),Q=F0._volume($,this._momentsGreen),Y=F0._volume($,this._momentsBlue),G=F0._volume($,this._momentsAlpha),H=F0._volume($,this._weights),q=this._maximize($,F0._red,$.redMinimum+1,$.redMaximum,Z,Q,Y,G,H),V=this._maximize($,F0._green,$.greenMinimum+1,$.greenMaximum,Z,Q,Y,G,H),W=this._maximize($,F0._blue,$.blueMinimum+1,$.blueMaximum,Z,Q,Y,G,H),U=this._maximize($,F0._alpha,$.alphaMinimum+1,$.alphaMaximum,Z,Q,Y,G,H);if(U.max>=q.max&&U.max>=V.max&&U.max>=W.max){if(K=F0._alpha,U.position<0)return!1}else if(q.max>=U.max&&q.max>=V.max&&q.max>=W.max)K=F0._red;else if(V.max>=U.max&&V.max>=q.max&&V.max>=W.max)K=F0._green;else K=F0._blue;switch(J.redMaximum=$.redMaximum,J.greenMaximum=$.greenMaximum,J.blueMaximum=$.blueMaximum,J.alphaMaximum=$.alphaMaximum,K){case F0._red:J.redMinimum=$.redMaximum=q.position,J.greenMinimum=$.greenMinimum,J.blueMinimum=$.blueMinimum,J.alphaMinimum=$.alphaMinimum;break;case F0._green:J.greenMinimum=$.greenMaximum=V.position,J.redMinimum=$.redMinimum,J.blueMinimum=$.blueMinimum,J.alphaMinimum=$.alphaMinimum;break;case F0._blue:J.blueMinimum=$.blueMaximum=W.position,J.redMinimum=$.redMinimum,J.greenMinimum=$.greenMinimum,J.alphaMinimum=$.alphaMinimum;break;case F0._alpha:J.alphaMinimum=$.alphaMaximum=U.position,J.blueMinimum=$.blueMinimum,J.redMinimum=$.redMinimum,J.greenMinimum=$.greenMinimum;break}return $.volume=($.redMaximum-$.redMinimum)*($.greenMaximum-$.greenMinimum)*($.blueMaximum-$.blueMinimum)*($.alphaMaximum-$.alphaMinimum),J.volume=(J.redMaximum-J.redMinimum)*(J.greenMaximum-J.greenMinimum)*(J.blueMaximum-J.blueMinimum)*(J.alphaMaximum-J.alphaMinimum),!0}_initialize($){this._colors=$,this._cubes=[];for(let J=0;J<$;J++)this._cubes[J]=new sH;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=Q6(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=Q6(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=Q6(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=Q6(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=Q6(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=Q6(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let J=0;J<256;++J)this._table[J]=J*J;this._pixels=[]}_setQuality($=5){this._significantBitsPerChannel=$,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},q6=F0;s(q6,"_alpha",3);s(q6,"_red",2);s(q6,"_green",1);s(q6,"_blue",0);var aH={};c8(aH,{AbstractImageQuantizer:()=>U$,ErrorDiffusionArray:()=>f8,ErrorDiffusionArrayKernel:()=>eH,ErrorDiffusionRiemersma:()=>OJ,NearestColor:()=>tH});var U$=class{quantizeSync($,J){for(let K of this.quantize($,J))if(K.pointContainer)return K.pointContainer;throw new Error("unreachable")}},tH=class extends U${constructor($){super();s(this,"_distance"),this._distance=$}*quantize($,J){const K=$.getPointArray(),Z=$.getWidth(),Q=$.getHeight(),Y=new $5(Q,99);for(let G=0;G<Q;G++){if(Y.shouldNotify(G))yield{progress:Y.progress};for(let H=0,q=G*Z;H<Z;H++,q++){const V=K[q];V.from(J.getNearestColor(this._distance,V))}}yield{pointContainer:$,progress:100}}},eH=(($)=>{return $[$.FloydSteinberg=0]="FloydSteinberg",$[$.FalseFloydSteinberg=1]="FalseFloydSteinberg",$[$.Stucki=2]="Stucki",$[$.Atkinson=3]="Atkinson",$[$.Jarvis=4]="Jarvis",$[$.Burkes=5]="Burkes",$[$.Sierra=6]="Sierra",$[$.TwoSierra=7]="TwoSierra",$[$.SierraLite=8]="SierraLite",$})(eH||{}),f8=class extends U${constructor($,J,K=!0,Z=0,Q=!1){super();s(this,"_minColorDistance"),s(this,"_serpentine"),s(this,"_kernel"),s(this,"_calculateErrorLikeGIMP"),s(this,"_distance"),this._setKernel(J),this._distance=$,this._minColorDistance=Z,this._serpentine=K,this._calculateErrorLikeGIMP=Q}*quantize($,J){const K=$.getPointArray(),Z=new O8,Q=$.getWidth(),Y=$.getHeight(),G=[];let H=1,q=1;for(let W of this._kernel){const U=W[2]+1;if(q<U)q=U}for(let W=0;W<q;W++)this._fillErrorLine(G[W]=[],Q);const V=new $5(Y,99);for(let W=0;W<Y;W++){if(V.shouldNotify(W))yield{progress:V.progress};if(this._serpentine)H*=-1;const U=W*Q,R=H===1?0:Q-1,O=H===1?Q:-1;this._fillErrorLine(G[0],Q),G.push(G.shift());const B=G[0];for(let M=R,C=U+R;M!==O;M+=H,C+=H){const E=K[C],T=B[M];Z.from(E);const L=O8.createByRGBA(E8(E.r+T[0]),E8(E.g+T[1]),E8(E.b+T[2]),E8(E.a+T[3])),X=J.getNearestColor(this._distance,L);if(E.from(X),this._minColorDistance){if(this._distance.calculateNormalized(Z,X)<this._minColorDistance)continue}let z,N,P,S;if(this._calculateErrorLikeGIMP)z=L.r-X.r,N=L.g-X.g,P=L.b-X.b,S=L.a-X.a;else z=Z.r-X.r,N=Z.g-X.g,P=Z.b-X.b,S=Z.a-X.a;const k=H===1?0:this._kernel.length-1,w=H===1?this._kernel.length:-1;for(let j=k;j!==w;j+=H){const v=this._kernel[j][1]*H,_=this._kernel[j][2];if(v+M>=0&&v+M<Q&&_+W>=0&&_+W<Y){const x=this._kernel[j][0],b=G[_][v+M];b[0]+=z*x,b[1]+=N*x,b[2]+=P*x,b[3]+=S*x}}}}yield{pointContainer:$,progress:100}}_fillErrorLine($,J){if($.length>J)$.length=J;const K=$.length;for(let Z=0;Z<K;Z++){const Q=$[Z];Q[0]=Q[1]=Q[2]=Q[3]=0}for(let Z=K;Z<J;Z++)$[Z]=[0,0,0,0]}_setKernel($){switch($){case 0:this._kernel=[[0.4375,1,0],[0.1875,-1,1],[0.3125,0,1],[0.0625,1,1]];break;case 1:this._kernel=[[0.375,1,0],[0.375,0,1],[0.25,1,1]];break;case 2:this._kernel=[[0.19047619047619047,1,0],[0.09523809523809523,2,0],[0.047619047619047616,-2,1],[0.09523809523809523,-1,1],[0.19047619047619047,0,1],[0.09523809523809523,1,1],[0.047619047619047616,2,1],[0.023809523809523808,-2,2],[0.047619047619047616,-1,2],[0.09523809523809523,0,2],[0.047619047619047616,1,2],[0.023809523809523808,2,2]];break;case 3:this._kernel=[[0.125,1,0],[0.125,2,0],[0.125,-1,1],[0.125,0,1],[0.125,1,1],[0.125,0,2]];break;case 4:this._kernel=[[0.14583333333333334,1,0],[0.10416666666666667,2,0],[0.0625,-2,1],[0.10416666666666667,-1,1],[0.14583333333333334,0,1],[0.10416666666666667,1,1],[0.0625,2,1],[0.020833333333333332,-2,2],[0.0625,-1,2],[0.10416666666666667,0,2],[0.0625,1,2],[0.020833333333333332,2,2]];break;case 5:this._kernel=[[0.25,1,0],[0.125,2,0],[0.0625,-2,1],[0.125,-1,1],[0.25,0,1],[0.125,1,1],[0.0625,2,1]];break;case 6:this._kernel=[[0.15625,1,0],[0.09375,2,0],[0.0625,-2,1],[0.125,-1,1],[0.15625,0,1],[0.125,1,1],[0.0625,2,1],[0.0625,-1,2],[0.09375,0,2],[0.0625,1,2]];break;case 7:this._kernel=[[0.25,1,0],[0.1875,2,0],[0.0625,-2,1],[0.125,-1,1],[0.1875,0,1],[0.125,1,1],[0.0625,2,1]];break;case 8:this._kernel=[[0.5,1,0],[0.25,-1,1],[0.25,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${$}`)}}},OJ=class extends U${constructor($,J=16,K=1){super();s(this,"_distance"),s(this,"_weights"),s(this,"_errorQueueSize"),this._distance=$,this._errorQueueSize=J,this._weights=OJ._createWeights(K,J)}*quantize($,J){const K=$.getPointArray(),Z=$.getWidth(),Q=$.getHeight(),Y=[];let G=0;for(let H=0;H<this._errorQueueSize;H++)Y[H]={r:0,g:0,b:0,a:0};yield*IX(Z,Q,(H,q)=>{const V=K[H+q*Z];let{r:W,g:U,b:R,a:O}=V;for(let E=0;E<this._errorQueueSize;E++){const T=this._weights[E],L=Y[(E+G)%this._errorQueueSize];W+=L.r*T,U+=L.g*T,R+=L.b*T,O+=L.a*T}const B=O8.createByRGBA(E8(W),E8(U),E8(R),E8(O)),M=J.getNearestColor(this._distance,B);G=(G+1)%this._errorQueueSize;const C=(G+this._errorQueueSize-1)%this._errorQueueSize;Y[C].r=V.r-M.r,Y[C].g=V.g-M.g,Y[C].b=V.b-M.b,Y[C].a=V.a-M.a,V.from(M)}),yield{pointContainer:$,progress:100}}static _createWeights($,J){const K=[],Z=Math.exp(Math.log(J)/(J-1));for(let Q=0,Y=1;Q<J;Q++)K[Q]=(Y+0.5|0)/J*$,Y*=Z;return K}},$q={};c8($q,{ssim:()=>DX});var TX=0.01,wX=0.03,H$=typeof setImmediate==="function"?setImmediate:typeof process!=="undefined"&&typeof(process==null?void 0:process.nextTick)==="function"?($)=>process.nextTick($):($)=>setTimeout($,0);Zq.exports=zX(FH)});var O$=l((gX)=>{var Yq=Y$(),{GifError:uj}=p6();class z5 extends Yq{constructor(...$){super(...$);if($[0]instanceof z5){const J=$[0];this.xOffset=J.xOffset,this.yOffset=J.yOffset,this.disposalMethod=J.disposalMethod,this.delayCentisecs=J.delayCentisecs,this.interlaced=J.interlaced}else{const J=$[$.length-1];let K={};if(typeof J==="object"&&!(J instanceof Yq))K=J;this.xOffset=K.xOffset||0,this.yOffset=K.yOffset||0,this.disposalMethod=K.disposalMethod!==void 0?K.disposalMethod:z5.DisposeToBackgroundColor,this.delayCentisecs=K.delayCentisecs||8,this.interlaced=K.interlaced||!1}}getPalette(){const $=new Set,J=this.bitmap.data;let K=0,Z=!1;while(K<J.length){if(J[K+3]===0)Z=!0;else{const H=J.readUInt32BE(K,!0)>>8&16777215;$.add(H)}K+=4}const Q=new Array($.size),Y=$.values();for(K=0;K<Q.length;++K)Q[K]=Y.next().value;Q.sort((H,q)=>H-q);let G=Q.length;if(Z)++G;return{colors:Q,usesTransparency:Z,indexCount:G}}}z5.DisposeToAnything=0;z5.DisposeNothing=1;z5.DisposeToBackgroundColor=2;z5.DisposeToPrevious=3;gX.GifFrame=z5});var NJ=l((lX)=>{var zJ=function($,J,K,Z,Q){const Y=Array.isArray($)?$:[$],G=["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"];if(Q){if(G.indexOf(Q.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${Q.ditherAlgorithm}'`);if(Q.serpentine===void 0)Q.serpentine=!0;if(Q.minimumColorDistanceToDither===void 0)Q.minimumColorDistanceToDither=0;if(Q.calculateErrorLikeGIMP===void 0)Q.calculateErrorLikeGIMP=!1}const H=new V6.distance.Euclidean,q=new V6.palette[J](H,K,Z);let V;if(Q)V=new V6.image.ErrorDiffusionArray(H,V6.image.ErrorDiffusionArrayKernel[Q.ditherAlgorithm],Q.serpentine,Q.minimumColorDistanceToDither,Q.calculateErrorLikeGIMP);else V=new V6.image.NearestColor(H);const W=[];Y.forEach((R)=>{const O=R.bitmap.data,B=new ArrayBuffer(O.length),M=new Uint32Array(B);for(let E=0,T=0;E<O.length;E+=4,++T)M[T]=O.readUInt32LE(E,!0);const C=V6.utils.PointContainer.fromUint32Array(M,R.bitmap.width,R.bitmap.height);q.sample(C),W.push(C)});const U=q.quantizeSync();for(let R=0;R<Y.length;++R){const O=Y[R].bitmap.data,M=V.quantizeSync(W[R],U).toUint32Array();for(let C=0,E=0;C<O.length;C+=4,++E)O.writeUInt32LE(M[E],C)}},dX=function($){return new Promise((J,K)=>{Gq.readFile($,(Z,Q)=>{if(Z)return K(Z);return J(Q)})})},pX=function($,J){return new Promise((K,Z)=>{Gq.writeFile($,J,(Q)=>{if(Q)return Z(Q);return K()})})},Gq=import.meta.require("fs"),V6=Qq(),bX=Y$(),{GifFrame:uX}=O$(),{GifError:mX}=p6(),{GifCodec:fX}=PJ(),cX=[".jpg",".jpeg",".png",".bmp"],Hq=new fX;lX.cloneFrames=function($){let J=[];return $.forEach((K)=>{J.push(new uX(K))}),J};lX.getColorInfo=function($,J){let K=!1;const Z=[];for(let q=0;q<$.length;++q){let V=$[q].getPalette();if(V.usesTransparency)K=!0;if(V.indexCount>256)throw new mX(`Frame ${q} uses more than 256 color indexes`);Z.push(V)}if(J===0)return{usesTransparency:K,palettes:Z};const Q=new Set;Z.forEach((q)=>{q.colors.forEach((V)=>{Q.add(V)})});let Y=Q.size;if(K)++Y;if(J&&Y>J)return{usesTransparency:K,palettes:Z};const G=new Array(Q.size),H=Q.values();for(let q=0;q<G.length;++q)G[q]=H.next().value;return G.sort((q,V)=>q-V),{colors:G,indexCount:Y,usesTransparency:K,palettes:Z}};lX.copyAsJimp=function($,J){return lX.shareAsJimp($,new bX(J))};lX.getMaxDimensions=function($){let J=0,K=0;return $.forEach((Z)=>{const Q=Z.xOffset+Z.bitmap.width;if(Q>J)J=Q;const Y=Z.yOffset+Z.bitmap.height;if(Y>K)K=Y}),{maxWidth:J,maxHeight:K}};lX.quantizeDekker=function($,J,K){J=J||256,zJ($,"NeuQuantFloat",J,0,K)};lX.quantizeSorokin=function($,J,K,Z){J=J||256,K=K||"min-pop";let Q;switch(K){case"min-pop":Q=2;break;case"top-pop":Q=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${K}'`)}zJ($,"RGBQuant",J,Q,Z)};lX.quantizeWu=function($,J,K,Z){if(J=J||256,K=K||5,K<1||K>8)throw new Error("Invalid quantization quality");zJ($,"WuQuant",J,K,Z)};lX.read=function($,J){if(J=J||Hq,Buffer.isBuffer($))return J.decodeGif($);return dX($).then((K)=>{return J.decodeGif(K)})};lX.shareAsJimp=function($,J){const K=new $(J.bitmap.width,J.bitmap.height,0);return K.bitmap.data=J.bitmap.data,K};lX.write=function($,J,K,Z){Z=Z||Hq;const Q=$.match(/\.[a-zA-Z]+$/);if(Q!==null&&cX.includes(Q[0].toLowerCase()))throw new Error(`GIF '${$}' has an unexpected suffix`);return Z.encodeGif(J,K).then((Y)=>{return pX($,Y.buffer).then(()=>{return Y})})}});var PJ=l((VE)=>{var z$=function(){const $=NJ();return z$=function(){return $},$},QE=function($,J){const K=$.indexOf(J);return K===-1?null:K},YE=function($,J){var K=0,Z=$.length-1,Q;while(K<=Z)if(Q=Math.floor((K+Z)/2),$[Q]>J)Z=Q-1;else if($[Q]<J)K=Q+1;else return Q;return null},GE=function($,J,K,Z){const Q={colors:Z.colors.slice(),usesTransparency:Z.usesTransparency};Rq(Q);const Y={palette:Q.colors,loop:J.loops};let G=new Buffer(K),H;try{H=new AJ.GifWriter(G,J.width,J.height,Y)}catch(q){throw new J5(q)}for(let q=0;q<$.length;++q)G=Oq(H,q,$[q],Z,!1);return new N5(G.slice(0,H.end()),$,J)},HE=function($,J,K,Z){const Q={loop:J.loops};let Y=new Buffer(K),G;try{G=new AJ.GifWriter(Y,J.width,J.height,Q)}catch(H){throw new J5(H)}for(let H=0;H<$.length;++H)Y=Oq(G,H,$[H],Z[H],!0);return new N5(Y.slice(0,G.end()),$,J)},Rq=function($){const J=$.colors;if($.usesTransparency)J.push(0);const K=J.length;let Z=2;while(K>Z)Z<<=1;J.length=Z,J.fill(0,K)},Vq=function($,J){let K=$.bitmap.width*$.bitmap.height;return K=Math.ceil(K*J/8),K+=Math.ceil(K/255),ZE+K+768},qE=function($,J,K){const Z=K.colors,Q=Z.length<=8?QE:YE,Y=J.bitmap.data,G=new Buffer(Y.length/4);let H=Z.length,q=0,V=0;while(q<Y.length){if(Y[q+3]!==0){const W=Y.readUInt32BE(q,!0)>>8&16777215;G[V]=Q(Z,W)}else G[V]=H;q+=4,++V}if(K.usesTransparency){if(H===256)throw new J5(`Frame ${$} already has 256 colors`+"and so can't use transparency")}else H=null;return{buffer:G,transparentIndex:H}},Wq=function($){let J=$.indexCount,K=0;--J;while(J)++K,J>>=1;return K>0?K:1},Oq=function($,J,K,Z,Q){if(K.interlaced)throw new J5("writing interlaced GIFs is not supported");const Y=qE(J,K,Z),G={delay:K.delayCentisecs,disposal:K.disposalMethod,transparent:Y.transparentIndex};if(Q)Rq(Z),G.palette=Z.colors;try{let H=$.getOutputBuffer(),q=$.getOutputBufferPosition(),V,W=!0;while(W)if(V=$.addFrame(K.xOffset,K.yOffset,K.bitmap.width,K.bitmap.height,Y.buffer,G),W=!1,V>=H.length-1){const U=new Buffer(H.length*1.5);H.copy(U),$.setOutputBuffer(U),$.setOutputBufferPosition(q),H=U,W=!0}return H}catch(H){throw new J5(H)}},AJ=GJ(),{Gif:N5,GifError:J5}=p6(),{GifFrame:KE}=O$(),qq=200,ZE=100;class Uq{constructor($={}){if(this._transparentRGB=null,typeof $.transparentRGB==="number"&&$.transparentRGB!==0)this._transparentRGBA=$.transparentRGB*256;this._testInitialBufferSize=0}decodeGif($){try{let J;try{J=new AJ.GifReader($)}catch(Y){throw new J5(Y)}const K=J.numFrames(),Z=[],Q={width:J.width,height:J.height,loops:J.loopCount()};Q.usesTransparency=!1;for(let Y=0;Y<K;++Y){const G=this._decodeFrame(J,Y,Q.usesTransparency);if(Z.push(G.frame),G.usesTransparency)Q.usesTransparency=!0}return Promise.resolve(new N5($,Z,Q))}catch(J){return Promise.reject(J)}}encodeGif($,J={}){try{if($===null||$.length===0)throw new J5("there are no frames");const K=z$().getMaxDimensions($);if(J=Object.assign({},J),J.width=K.maxWidth,J.height=K.maxHeight,J.loops===void 0)J.loops=0;return J.colorScope=J.colorScope||N5.GlobalColorsPreferred,Promise.resolve(this._encodeGif($,J))}catch(K){return Promise.reject(K)}}_decodeFrame($,J,K){let Z,Q;try{if(Z=$.frameInfo(J),Q=new Buffer($.width*$.height*4),$.decodeAndBlitFrameRGBA(J,Q),Z.width!==$.width||Z.height!==$.height){if(Z.y)Q=Q.slice(Z.y*$.width*4);if($.width>Z.width)for(let H=0;H<Z.height;++H)Q.copy(Q,H*Z.width*4,(Z.x+H*$.width)*4,(Z.x+H*$.width)*4+Z.width*4);Q=Q.slice(0,Z.width*Z.height*4)}}catch(H){throw new J5(H)}let Y=!1;if(this._transparentRGBA===null){if(!K){for(let H=3;H<Q.length;H+=4)if(Q[H]===0)Y=!0,H=Q.length}}else for(let H=3;H<Q.length;H+=4)if(Q[H]===0)Q.writeUInt32BE(this._transparentRGBA,H-3),Y=!0;return{frame:new KE(Z.width,Z.height,Q,{xOffset:Z.x,yOffset:Z.y,disposalMethod:Z.disposal,interlaced:Z.interlaced,delayCentisecs:Z.delay}),usesTransparency:Y}}_encodeGif($,J){let K;if(J.colorScope===N5.LocalColorsOnly)K=z$().getColorInfo($,0);else if(K=z$().getColorInfo($,256),!K.colors){if(J.colorScope===N5.GlobalColorsOnly)throw new J5("Too many color indexes for global color table");J.colorScope=N5.LocalColorsOnly}J.usesTransparency=K.usesTransparency;const Z=K.palettes;if(J.colorScope===N5.LocalColorsOnly)return HE($,J,2000,Z);return GE($,J,2000,K)}_getSizeEstimateGlobal($,J){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let K=qq+768;const Z=Wq($);return J.forEach((Q)=>{K+=Vq(Q,Z)}),K}_getSizeEstimateLocal($,J){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let K=qq;for(let Z=0;Z<J.length;++Z){const Q=$[Z],Y=Wq(Q);K+=Vq(J[Z],Y)}return K}}VE.GifCodec=Uq});var Nq=l((dj,zq)=>{var UE=Y$(),{Gif:RE,GifError:OE}=p6(),{GifCodec:zE}=PJ(),{GifFrame:NE}=O$(),PE=NJ();zq.exports={BitmapImage:UE,Gif:RE,GifCodec:zE,GifFrame:NE,GifUtil:PE,GifError:OE}});var Aq=l((A$,BJ)=>{var BE=function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(A$,"__esModule",{value:!0});A$.default=void 0;var AE=BE(GJ()),N$=Nq(),P$="image/gif",FE=()=>({mime:{[P$]:["gif"]},constants:{MIME_GIF:P$},decoders:{[P$]:($)=>{const J=new AE.default.GifReader($),K=Buffer.alloc(J.width*J.height*4);return J.decodeAndBlitFrameRGBA(0,K),{data:K,width:J.width,height:J.height}}},encoders:{[P$]:($)=>{const J=new N$.BitmapImage($.bitmap);N$.GifUtil.quantizeDekker(J,256);const K=new N$.GifFrame(J);return new N$.GifCodec().encodeGif([K],{}).then((Q)=>{return Q.buffer})}}});A$.default=FE;BJ.exports=A$.default;BJ.exports.default=A$.default});var Fq=l((B$,FJ)=>{var s6=function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(B$,"__esModule",{value:!0});B$.default=void 0;var XE=$7(),EE=s6(OQ()),CE=s6(qY()),LE=s6(EY()),ME=s6(RH()),SE=s6(Aq()),jE=()=>XE.mergeDeep(EE.default(),CE.default(),LE.default(),ME.default(),SE.default());B$.default=jE;FJ.exports=B$.default;FJ.exports.default=B$.default});var Eq=l((X$,XJ)=>{Object.defineProperty(X$,"__esModule",{value:!0});X$.default=void 0;var F$=h0(),IE=()=>({blit($,J,K,Z,Q,Y,G,H){if(!($ instanceof this.constructor))return F$.throwError.call(this,"The source must be a Jimp image",H);if(typeof J!=="number"||typeof K!=="number")return F$.throwError.call(this,"x and y must be numbers",H);if(typeof Z==="function")H=Z,Z=0,Q=0,Y=$.bitmap.width,G=$.bitmap.height;else if(typeof Z===typeof Q&&typeof Q===typeof Y&&typeof Y===typeof G)Z=Z||0,Q=Q||0,Y=Y||$.bitmap.width,G=G||$.bitmap.height;else return F$.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",H);J=Math.round(J),K=Math.round(K),Z=Math.round(Z),Q=Math.round(Q),Y=Math.round(Y),G=Math.round(G);const q=this.bitmap.width,V=this.bitmap.height,W=this;if($.scanQuiet(Z,Q,Y,G,function(U,R,O){const B=J+U-Z,M=K+R-Q;if(B>=0&&M>=0&&q-B>0&&V-M>0){const C=W.getPixelIndex(B,M),E={r:this.bitmap.data[O],g:this.bitmap.data[O+1],b:this.bitmap.data[O+2],a:this.bitmap.data[O+3]},T={r:W.bitmap.data[C],g:W.bitmap.data[C+1],b:W.bitmap.data[C+2],a:W.bitmap.data[C+3]};W.bitmap.data[C]=(E.a*(E.r-T.r)-T.r+255>>8)+T.r,W.bitmap.data[C+1]=(E.a*(E.g-T.g)-T.g+255>>8)+T.g,W.bitmap.data[C+2]=(E.a*(E.b-T.b)-T.b+255>>8)+T.b,W.bitmap.data[C+3]=this.constructor.limit255(T.a+E.a)}}),F$.isNodePattern(H))H.call(this,null,this);return this}});X$.default=IE;XJ.exports=X$.default;XJ.exports.default=X$.default});var Mq=l((Cq)=>{Object.defineProperty(Cq,"__esModule",{value:!0});Cq.shgTable=Cq.mulTable=void 0;var TE=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1];Cq.mulTable=TE;var wE=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];Cq.shgTable=wE});var Iq=l((E$,CJ)=>{Object.defineProperty(E$,"__esModule",{value:!0});E$.default=void 0;var EJ=h0(),Sq=Mq(),kE=()=>({blur($,J){if(typeof $!=="number")return EJ.throwError.call(this,"r must be a number",J);if($<1)return EJ.throwError.call(this,"r must be greater than 0",J);let K,Z,Q,Y,G,H,q,V,W,U,R,O,B,M;const C=this.bitmap.width-1,E=this.bitmap.height-1,T=$+1,L=Sq.mulTable[$],X=Sq.shgTable[$],z=[],N=[],P=[],S=[],k=[],w=[];let j=2;while(j-- >0){O=0,B=0;for(H=0;H<this.bitmap.height;H++){K=this.bitmap.data[B]*T,Z=this.bitmap.data[B+1]*T,Q=this.bitmap.data[B+2]*T,Y=this.bitmap.data[B+3]*T;for(q=1;q<=$;q++)V=B+((q>C?C:q)<<2),K+=this.bitmap.data[V++],Z+=this.bitmap.data[V++],Q+=this.bitmap.data[V++],Y+=this.bitmap.data[V];for(G=0;G<this.bitmap.width;G++){if(z[O]=K,N[O]=Z,P[O]=Q,S[O]=Y,H===0)k[G]=((V=G+T)<C?V:C)<<2,w[G]=(V=G-$)>0?V<<2:0;W=B+k[G],U=B+w[G],K+=this.bitmap.data[W++]-this.bitmap.data[U++],Z+=this.bitmap.data[W++]-this.bitmap.data[U++],Q+=this.bitmap.data[W++]-this.bitmap.data[U++],Y+=this.bitmap.data[W]-this.bitmap.data[U],O++}B+=this.bitmap.width<<2}for(G=0;G<this.bitmap.width;G++){R=G,K=z[R]*T,Z=N[R]*T,Q=P[R]*T,Y=S[R]*T;for(q=1;q<=$;q++)R+=q>E?0:this.bitmap.width,K+=z[R],Z+=N[R],Q+=P[R],Y+=S[R];O=G<<2;for(H=0;H<this.bitmap.height;H++){if(M=Y*L>>>X,this.bitmap.data[O+3]=M,M>255)this.bitmap.data[O+3]=255;if(M>0)M=255/M,this.bitmap.data[O]=(K*L>>>X)*M,this.bitmap.data[O+1]=(Z*L>>>X)*M,this.bitmap.data[O+2]=(Q*L>>>X)*M;else this.bitmap.data[O+2]=0,this.bitmap.data[O+1]=0,this.bitmap.data[O]=0;if(G===0)k[H]=((V=H+T)<E?V:E)*this.bitmap.width,w[H]=(V=H-$)>0?V*this.bitmap.width:0;W=G+k[H],U=G+w[H],K+=z[W]-z[U],Z+=N[W]-N[U],Q+=P[W]-P[U],Y+=S[W]-S[U],O+=this.bitmap.width<<2}}}if(EJ.isNodePattern(J))J.call(this,null,this);return this}});E$.default=kE;CJ.exports=E$.default;CJ.exports.default=E$.default});var wq=l((C$,LJ)=>{Object.defineProperty(C$,"__esModule",{value:!0});C$.default=void 0;var vE=h0(),_E=()=>({circle(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=arguments.length>1?arguments[1]:void 0;if(typeof $==="function")J=$,$={};const K=$.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,Z={x:typeof $.x==="number"?$.x:this.bitmap.width/2,y:typeof $.y==="number"?$.y:this.bitmap.height/2};if(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(Q,Y,G){const H=Math.sqrt(Math.pow(Q-Z.x,2)+Math.pow(Y-Z.y,2));if(K-H<=0)this.bitmap.data[G+3]=0;else if(K-H<1)this.bitmap.data[G+3]=255*(K-H)}),vE.isNodePattern(J))J.call(this,null,this);return this}});C$.default=_E;LJ.exports=C$.default;LJ.exports.default=C$.default});var gq=l((yq)=>{var yE=function($){return $&&$.__esModule?$:{default:$}},kq=function($,J,K,Z){const Q=[0,0,0],Y=(J.length-1)/2;for(let G=0;G<J.length;G+=1)for(let H=0;H<J[G].length;H+=1){const q=$.getPixelIndex(K+G-Y,Z+H-Y);Q[0]+=$.bitmap.data[q]*J[G][H],Q[1]+=$.bitmap.data[q+1]*J[G][H],Q[2]+=$.bitmap.data[q+2]*J[G][H]}return Q},vq=function($){if(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(J,K,Z){const Q=parseInt(0.2126*this.bitmap.data[Z]+0.7152*this.bitmap.data[Z+1]+0.0722*this.bitmap.data[Z+2],10);this.bitmap.data[Z]=Q,this.bitmap.data[Z+1]=Q,this.bitmap.data[Z+2]=Q}),_0.isNodePattern($))$.call(this,null,this);return this},MJ=function($,J){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:50;return{r:(J.r-$.r)*(K/100)+$.r,g:(J.g-$.g)*(K/100)+$.g,b:(J.b-$.b)*(K/100)+$.b}},_q=function($,J){if(!$||!Array.isArray($))return _0.throwError.call(this,"actions must be an array",J);if($=$.map((K)=>{if(K.apply==="xor"||K.apply==="mix")K.params[0]=Dq.default(K.params[0]).toRgb();return K}),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(K,Z,Q)=>{let Y={r:this.bitmap.data[Q],g:this.bitmap.data[Q+1],b:this.bitmap.data[Q+2]};const G=(H,q)=>this.constructor.limit255(Y[H]+q);$.forEach((H)=>{if(H.apply==="mix")Y=MJ(Y,H.params[0],H.params[1]);else if(H.apply==="tint")Y=MJ(Y,{r:255,g:255,b:255},H.params[0]);else if(H.apply==="shade")Y=MJ(Y,{r:0,g:0,b:0},H.params[0]);else if(H.apply==="xor")Y={r:Y.r^H.params[0].r,g:Y.g^H.params[0].g,b:Y.b^H.params[0].b};else if(H.apply==="red")Y.r=G("r",H.params[0]);else if(H.apply==="green")Y.g=G("g",H.params[0]);else if(H.apply==="blue")Y.b=G("b",H.params[0]);else{if(H.apply==="hue")H.apply="spin";if(Y=Dq.default(Y),!Y[H.apply])return _0.throwError.call(this,"action "+H.apply+" not supported",J);Y=Y[H.apply](...H.params).toRgb()}}),this.bitmap.data[Q]=Y.r,this.bitmap.data[Q+1]=Y.g,this.bitmap.data[Q+2]=Y.b}),_0.isNodePattern(J))J.call(this,null,this);return this};Object.defineProperty(yq,"__esModule",{value:!0});yq.default=yq.ColorActionName=void 0;var Dq=yE(I9()),_0=h0(),q8=($)=>typeof $!=="undefined"&&$!==null,xE=Object.freeze({LIGHTEN:"lighten",BRIGHTEN:"brighten",DARKEN:"darken",DESATURATE:"desaturate",SATURATE:"saturate",GREYSCALE:"greyscale",SPIN:"spin",HUE:"hue",MIX:"mix",TINT:"tint",SHADE:"shade",XOR:"xor",RED:"red",GREEN:"green",BLUE:"blue"});yq.ColorActionName=xE;var gE=()=>({brightness($,J){if(typeof $!=="number")return _0.throwError.call(this,"val must be numbers",J);if($<-1||$>1)return _0.throwError.call(this,"val must be a number between -1 and +1",J);if(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(K,Z,Q){if($<0)this.bitmap.data[Q]*=1+$,this.bitmap.data[Q+1]*=1+$,this.bitmap.data[Q+2]*=1+$;else this.bitmap.data[Q]+=(255-this.bitmap.data[Q])*$,this.bitmap.data[Q+1]+=(255-this.bitmap.data[Q+1])*$,this.bitmap.data[Q+2]+=(255-this.bitmap.data[Q+2])*$}),_0.isNodePattern(J))J.call(this,null,this);return this},contrast($,J){if(typeof $!=="number")return _0.throwError.call(this,"val must be numbers",J);if($<-1||$>1)return _0.throwError.call(this,"val must be a number between -1 and +1",J);const K=($+1)/(1-$);function Z(Q){return Q=Math.floor(K*(Q-127)+127),Q<0?0:Q>255?255:Q}if(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(Q,Y,G){this.bitmap.data[G]=Z(this.bitmap.data[G]),this.bitmap.data[G+1]=Z(this.bitmap.data[G+1]),this.bitmap.data[G+2]=Z(this.bitmap.data[G+2])}),_0.isNodePattern(J))J.call(this,null,this);return this},posterize($,J){if(typeof $!=="number")return _0.throwError.call(this,"n must be numbers",J);if($<2)$=2;if(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(K,Z,Q){this.bitmap.data[Q]=Math.floor(this.bitmap.data[Q]/255*($-1))/($-1)*255,this.bitmap.data[Q+1]=Math.floor(this.bitmap.data[Q+1]/255*($-1))/($-1)*255,this.bitmap.data[Q+2]=Math.floor(this.bitmap.data[Q+2]/255*($-1))/($-1)*255}),_0.isNodePattern(J))J.call(this,null,this);return this},greyscale:vq,grayscale:vq,opacity($,J){if(typeof $!=="number")return _0.throwError.call(this,"f must be a number",J);if($<0||$>1)return _0.throwError.call(this,"f must be a number from 0 to 1",J);if(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(K,Z,Q){const Y=this.bitmap.data[Q+3]*$;this.bitmap.data[Q+3]=Y}),_0.isNodePattern(J))J.call(this,null,this);return this},sepia($){if(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(J,K,Z){let Q=this.bitmap.data[Z],Y=this.bitmap.data[Z+1],G=this.bitmap.data[Z+2];Q=Q*0.393+Y*0.769+G*0.189,Y=Q*0.349+Y*0.686+G*0.168,G=Q*0.272+Y*0.534+G*0.131,this.bitmap.data[Z]=Q<255?Q:255,this.bitmap.data[Z+1]=Y<255?Y:255,this.bitmap.data[Z+2]=G<255?G:255}),_0.isNodePattern($))$.call(this,null,this);return this},fade($,J){if(typeof $!=="number")return _0.throwError.call(this,"f must be a number",J);if($<0||$>1)return _0.throwError.call(this,"f must be a number from 0 to 1",J);if(this.opacity(1-$),_0.isNodePattern(J))J.call(this,null,this);return this},convolution($,J,K){if(typeof J==="function"&&typeof K==="undefined")K=J,J=null;if(!J)J=this.constructor.EDGE_EXTEND;const Z=Buffer.from(this.bitmap.data),Q=$.length,Y=$[0].length,G=Math.floor(Q/2),H=Math.floor(Y/2),q=-G,V=-H;let W,U,R,O,B,M,C,E,T,L;if(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(X,z,N){O=0,R=0,U=0;for(let P=q;P<=G;P++)for(let S=V;S<=H;S++){if(E=X+S,T=z+P,W=$[P+G][S+H],L=this.getPixelIndex(E,T,J),L===-1)C=0,M=0,B=0;else B=this.bitmap.data[L+0],M=this.bitmap.data[L+1],C=this.bitmap.data[L+2];U+=W*B,R+=W*M,O+=W*C}if(U<0)U=0;if(R<0)R=0;if(O<0)O=0;if(U>255)U=255;if(R>255)R=255;if(O>255)O=255;Z[N+0]=U,Z[N+1]=R,Z[N+2]=O}),this.bitmap.data=Z,_0.isNodePattern(K))K.call(this,null,this);return this},opaque($){if(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(J,K,Z){this.bitmap.data[Z+3]=255}),_0.isNodePattern($))$.call(this,null,this);return this},pixelate($,J,K,Z,Q,Y){if(typeof J==="function")Y=J,Q=null,Z=null,K=null,J=null;else{if(typeof $!=="number")return _0.throwError.call(this,"size must be a number",Y);if(q8(J)&&typeof J!=="number")return _0.throwError.call(this,"x must be a number",Y);if(q8(K)&&typeof K!=="number")return _0.throwError.call(this,"y must be a number",Y);if(q8(Z)&&typeof Z!=="number")return _0.throwError.call(this,"w must be a number",Y);if(q8(Q)&&typeof Q!=="number")return _0.throwError.call(this,"h must be a number",Y)}const G=[[0.0625,0.125,0.0625],[0.125,0.25,0.125],[0.0625,0.125,0.0625]];J=J||0,K=K||0,Z=q8(Z)?Z:this.bitmap.width-J,Q=q8(Q)?Q:this.bitmap.height-K;const H=this.cloneQuiet();if(this.scanQuiet(J,K,Z,Q,function(q,V,W){q=$*Math.floor(q/$),V=$*Math.floor(V/$);const U=kq(H,G,q,V);this.bitmap.data[W]=U[0],this.bitmap.data[W+1]=U[1],this.bitmap.data[W+2]=U[2]}),_0.isNodePattern(Y))Y.call(this,null,this);return this},convolute($,J,K,Z,Q,Y){if(!Array.isArray($))return _0.throwError.call(this,"the kernel must be an array",Y);if(typeof J==="function")Y=J,J=null,K=null,Z=null,Q=null;else{if(q8(J)&&typeof J!=="number")return _0.throwError.call(this,"x must be a number",Y);if(q8(K)&&typeof K!=="number")return _0.throwError.call(this,"y must be a number",Y);if(q8(Z)&&typeof Z!=="number")return _0.throwError.call(this,"w must be a number",Y);if(q8(Q)&&typeof Q!=="number")return _0.throwError.call(this,"h must be a number",Y)}J=q8(J)?J:0,K=q8(K)?K:0,Z=q8(Z)?Z:this.bitmap.width-J,Q=q8(Q)?Q:this.bitmap.height-K;const G=this.cloneQuiet();if(this.scanQuiet(J,K,Z,Q,function(H,q,V){const W=kq(G,$,H,q);this.bitmap.data[V]=this.constructor.limit255(W[0]),this.bitmap.data[V+1]=this.constructor.limit255(W[1]),this.bitmap.data[V+2]=this.constructor.limit255(W[2])}),_0.isNodePattern(Y))Y.call(this,null,this);return this},color:_q,colour:_q});yq.default=gE});var bq=l((L$,jJ)=>{Object.defineProperty(L$,"__esModule",{value:!0});L$.default=void 0;var SJ=h0(),bE=()=>({contain($,J,K,Z,Q){if(typeof $!=="number"||typeof J!=="number")return SJ.throwError.call(this,"w and h must be numbers",Q);if(typeof K==="string"){if(typeof Z==="function"&&typeof Q==="undefined")Q=Z;Z=K,K=null}if(typeof K==="function"){if(typeof Q==="undefined")Q=K;Z=null,K=null}if(typeof Z==="function"&&typeof Q==="undefined")Q=Z,Z=null;K=K||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;const Y=K&(1<<3)-1,G=K>>3;if(!(Y!==0&&!(Y&Y-1)||G!==0&&!(G&G-1)))return SJ.throwError.call(this,"only use one flag per alignment direction",Q);const H=Y>>1,q=G>>1,V=$/J>this.bitmap.width/this.bitmap.height?J/this.bitmap.height:$/this.bitmap.width,W=this.cloneQuiet().scale(V,Z);if(this.resize($,J,Z),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(U,R,O){this.bitmap.data.writeUInt32BE(this._background,O)}),this.blit(W,(this.bitmap.width-W.bitmap.width)/2*H,(this.bitmap.height-W.bitmap.height)/2*q),SJ.isNodePattern(Q))Q.call(this,null,this);return this}});L$.default=bE;jJ.exports=L$.default;jJ.exports.default=L$.default});var mq=l((M$,TJ)=>{Object.defineProperty(M$,"__esModule",{value:!0});M$.default=void 0;var IJ=h0(),uE=()=>({cover($,J,K,Z,Q){if(typeof $!=="number"||typeof J!=="number")return IJ.throwError.call(this,"w and h must be numbers",Q);if(K&&typeof K==="function"&&typeof Q==="undefined")Q=K,K=null,Z=null;else if(typeof Z==="function"&&typeof Q==="undefined")Q=Z,Z=null;K=K||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;const Y=K&(1<<3)-1,G=K>>3;if(!(Y!==0&&!(Y&Y-1)||G!==0&&!(G&G-1)))return IJ.throwError.call(this,"only use one flag per alignment direction",Q);const H=Y>>1,q=G>>1,V=$/J>this.bitmap.width/this.bitmap.height?$/this.bitmap.width:J/this.bitmap.height;if(this.scale(V,Z),this.crop((this.bitmap.width-$)/2*H,(this.bitmap.height-J)/2*q,$,J),IJ.isNodePattern(Q))Q.call(this,null,this);return this}});M$.default=uE;TJ.exports=M$.default;TJ.exports.default=M$.default});var fq=l((j$,wJ)=>{var mE=function($){return $("crop",function(J,K,Z,Q,Y){if(typeof J!=="number"||typeof K!=="number")return S$.throwError.call(this,"x and y must be numbers",Y);if(typeof Z!=="number"||typeof Q!=="number")return S$.throwError.call(this,"w and h must be numbers",Y);if(J=Math.round(J),K=Math.round(K),Z=Math.round(Z),Q=Math.round(Q),J===0&&Z===this.bitmap.width){const G=Z*K+J<<2,H=G+(Q*Z<<2);this.bitmap.data=this.bitmap.data.slice(G,H)}else{const G=Buffer.allocUnsafe(Z*Q*4);let H=0;this.scanQuiet(J,K,Z,Q,function(q,V,W){const U=this.bitmap.data.readUInt32BE(W,!0);G.writeUInt32BE(U,H,!0),H+=4}),this.bitmap.data=G}if(this.bitmap.width=Z,this.bitmap.height=Q,S$.isNodePattern(Y))Y.call(this,null,this);return this}),{class:{autocrop(){const J=this.bitmap.width,K=this.bitmap.height;let Q,Y=0,G=0.0002,H=!0,q=!1,V={north:!1,south:!1,east:!1,west:!1};for(var W=arguments.length,U=new Array(W),R=0;R<W;R++)U[R]=arguments[R];for(let N=0,P=U.length;N<P;N++){if(typeof U[N]==="number")G=U[N];if(typeof U[N]==="boolean")H=U[N];if(typeof U[N]==="function")Q=U[N];if(typeof U[N]==="object"){const S=U[N];if(typeof S.tolerance!=="undefined")({tolerance:G}=S);if(typeof S.cropOnlyFrames!=="undefined")({cropOnlyFrames:H}=S);if(typeof S.cropSymmetric!=="undefined")({cropSymmetric:q}=S);if(typeof S.leaveBorder!=="undefined")({leaveBorder:Y}=S);if(typeof S.ignoreSides!=="undefined")({ignoreSides:V}=S)}}let O=this.getPixelColor(0,0);const B=this.constructor.intToRGBA(O);let M=0,C=0,E=0,T=0;if(O=this.getPixelColor(0,0),!V.north)$:for(let N=0;N<K-1;N++){for(let P=0;P<J;P++){const S=this.getPixelColor(P,N),k=this.constructor.intToRGBA(S);if(this.constructor.colorDiff(B,k)>G)break $}M++}if(O=this.getPixelColor(J,0),!V.west)$:for(let N=0;N<J-1;N++){for(let P=0+M;P<K;P++){const S=this.getPixelColor(N,P),k=this.constructor.intToRGBA(S);if(this.constructor.colorDiff(B,k)>G)break $}T++}if(O=this.getPixelColor(0,K),!V.south)$:for(let N=K-1;N>=M+1;N--){for(let P=J-C-1;P>=0;P--){const S=this.getPixelColor(P,N),k=this.constructor.intToRGBA(S);if(this.constructor.colorDiff(B,k)>G)break $}E++}if(O=this.getPixelColor(J,K),!V.east)$:for(let N=J-1;N>=0+T+1;N--){for(let P=K-1;P>=0+M;P--){const S=this.getPixelColor(N,P),k=this.constructor.intToRGBA(S);if(this.constructor.colorDiff(B,k)>G)break $}C++}let L=!1;if(T-=Y,C-=Y,M-=Y,E-=Y,q){const N=Math.min(C,T),P=Math.min(M,E);T=N,C=N,M=P,E=P}T=T>=0?T:0,C=C>=0?C:0,M=M>=0?M:0,E=E>=0?E:0;const X=J-(T+C),z=K-(E+M);if(H)L=C!==0&&M!==0&&T!==0&&E!==0;else L=C!==0||M!==0||T!==0||E!==0;if(L)this.crop(T,M,X,z);if(S$.isNodePattern(Q))Q.call(this,null,this);return this}}}};Object.defineProperty(j$,"__esModule",{value:!0});j$.default=mE;var S$=h0();wJ.exports=j$.default;wJ.exports.default=j$.default});var dq=l((I$,kJ)=>{Object.defineProperty(I$,"__esModule",{value:!0});I$.default=void 0;var DJ=h0(),cE=()=>({displace($,J,K){if(typeof $!=="object"||$.constructor!==this.constructor)return DJ.throwError.call(this,"The source must be a Jimp image",K);if(typeof J!=="number")return DJ.throwError.call(this,"factor must be a number",K);const Z=this.cloneQuiet();if(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(Q,Y,G){let H=$.bitmap.data[G]/256*J;H=Math.round(H);const q=this.getPixelIndex(Q+H,Y);this.bitmap.data[q]=Z.bitmap.data[G],this.bitmap.data[q+1]=Z.bitmap.data[G+1],this.bitmap.data[q+2]=Z.bitmap.data[G+2]}),DJ.isNodePattern(K))K.call(this,null,this);return this}});I$.default=cE;kJ.exports=I$.default;kJ.exports.default=I$.default});var nq=l((T$,vJ)=>{var pq=function($){const J=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];if(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(K,Z,Q){const Y=((Z&3)<<2)+K%4,G=J[Y];this.bitmap.data[Q]=Math.min(this.bitmap.data[Q]+G,255),this.bitmap.data[Q+1]=Math.min(this.bitmap.data[Q+1]+G,255),this.bitmap.data[Q+2]=Math.min(this.bitmap.data[Q+2]+G,255)}),dE.isNodePattern($))$.call(this,null,this);return this};Object.defineProperty(T$,"__esModule",{value:!0});T$.default=void 0;var dE=h0(),pE=()=>({dither565:pq,dither16:pq});T$.default=pE;vJ.exports=T$.default;vJ.exports.default=T$.default});var oq=l((w$,_J)=>{Object.defineProperty(w$,"__esModule",{value:!0});w$.default=void 0;var lE=h0(),nE=()=>({fisheye(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{r:2.5},J=arguments.length>1?arguments[1]:void 0;if(typeof $==="function")J=$,$={r:2.5};const K=this.cloneQuiet(),{width:Z,height:Q}=K.bitmap;if(K.scanQuiet(0,0,Z,Q,(Y,G)=>{const H=Y/Z,q=G/Q,V=Math.sqrt(Math.pow(H-0.5,2)+Math.pow(q-0.5,2)),W=2*Math.pow(V,$.r),U=(H-0.5)/V,R=(q-0.5)/V,O=Math.round((W*U+0.5)*Z),B=Math.round((W*R+0.5)*Q),M=K.getPixelColor(O,B);this.setPixelColor(M,Y,G)}),this.setPixelColor(K.getPixelColor(Z/2,Q/2),Z/2,Q/2),lE.isNodePattern(J))J.call(this,null,this);return this}});w$.default=nE;_J.exports=w$.default;_J.exports.default=w$.default});var tq=l((D$,yJ)=>{var sq=function($,J,K){if(typeof $!=="boolean"||typeof J!=="boolean")return rq.throwError.call(this,"horizontal and vertical must be Booleans",K);const Z=Buffer.alloc(this.bitmap.data.length);if(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(Q,Y,G){const H=$?this.bitmap.width-1-Q:Q,q=J?this.bitmap.height-1-Y:Y,V=this.bitmap.width*q+H<<2,W=this.bitmap.data.readUInt32BE(G);Z.writeUInt32BE(W,V)}),this.bitmap.data=Buffer.from(Z),rq.isNodePattern(K))K.call(this,null,this);return this};Object.defineProperty(D$,"__esModule",{value:!0});D$.default=void 0;var rq=h0(),iE=()=>({flip:sq,mirror:sq});D$.default=iE;yJ.exports=D$.default;yJ.exports.default=D$.default});var $V=l((k$,gJ)=>{Object.defineProperty(k$,"__esModule",{value:!0});k$.default=void 0;var xJ=h0(),oE=()=>({gaussian($,J){if(typeof $!=="number")return xJ.throwError.call(this,"r must be a number",J);if($<1)return xJ.throwError.call(this,"r must be greater than 0",J);const K=Math.ceil($*2.57),Z=K*2+1,Q=$*$*2,Y=Q*Math.PI,G=[];for(let H=0;H<Z;H++){G[H]=[];for(let q=0;q<Z;q++){const V=(q-K)**2+(H-K)**2;G[H][q]=Math.exp(-V/Q)/Y}}for(let H=0;H<this.bitmap.height;H++)for(let q=0;q<this.bitmap.width;q++){let V=0,W=0,U=0,R=0,O=0;for(let B=0;B<Z;B++){for(let C=0;C<Z;C++){const E=Math.min(this.bitmap.width-1,Math.max(0,C+q-K)),T=Math.min(this.bitmap.height-1,Math.max(0,B+H-K)),L=G[B][C],X=T*this.bitmap.width+E<<2;V+=this.bitmap.data[X]*L,W+=this.bitmap.data[X+1]*L,U+=this.bitmap.data[X+2]*L,R+=this.bitmap.data[X+3]*L,O+=L}const M=H*this.bitmap.width+q<<2;this.bitmap.data[M]=Math.round(V/O),this.bitmap.data[M+1]=Math.round(W/O),this.bitmap.data[M+2]=Math.round(U/O),this.bitmap.data[M+3]=Math.round(R/O)}}if(xJ.isNodePattern(J))J.call(this,null,this);return this}});k$.default=oE;gJ.exports=k$.default;gJ.exports.default=k$.default});var KV=l((v$,hJ)=>{Object.defineProperty(v$,"__esModule",{value:!0});v$.default=void 0;var rE=h0(),sE=()=>({invert($){if(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(J,K,Z){this.bitmap.data[Z]=255-this.bitmap.data[Z],this.bitmap.data[Z+1]=255-this.bitmap.data[Z+1],this.bitmap.data[Z+2]=255-this.bitmap.data[Z+2]}),rE.isNodePattern($))$.call(this,null,this);return this}});v$.default=sE;hJ.exports=v$.default;hJ.exports.default=v$.default});var QV=l((_$,uJ)=>{Object.defineProperty(_$,"__esModule",{value:!0});_$.default=void 0;var bJ=h0(),aE=()=>({mask($){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Z=arguments.length>3?arguments[3]:void 0;if(!($ instanceof this.constructor))return bJ.throwError.call(this,"The source must be a Jimp image",Z);if(typeof J!=="number"||typeof K!=="number")return bJ.throwError.call(this,"x and y must be numbers",Z);J=Math.round(J),K=Math.round(K);const Q=this.bitmap.width,Y=this.bitmap.height,G=this;if($.scanQuiet(0,0,$.bitmap.width,$.bitmap.height,function(H,q,V){const W=J+H,U=K+q;if(W>=0&&U>=0&&W<Q&&U<Y){const R=G.getPixelIndex(W,U),{data:O}=this.bitmap,B=(O[V+0]+O[V+1]+O[V+2])/3;G.bitmap.data[R+3]*=B/255}}),bJ.isNodePattern(Z))Z.call(this,null,this);return this}});_$.default=aE;uJ.exports=_$.default;uJ.exports.default=_$.default});var GV=l((y$,cJ)=>{var eE=function(){const $={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(J,K,Z){$.r[this.bitmap.data[Z+0]]++,$.g[this.bitmap.data[Z+1]]++,$.b[this.bitmap.data[Z+2]]++}),$};Object.defineProperty(y$,"__esModule",{value:!0});y$.default=void 0;var tE=h0(),mJ=function($,J,K){return($-J)*255/(K-J)},fJ=function($){return[$.findIndex((J)=>J>0),255-$.slice().reverse().findIndex((J)=>J>0)]},$C=()=>({normalize($){const J=eE.call(this),K={r:fJ(J.r),g:fJ(J.g),b:fJ(J.b)};if(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(Z,Q,Y){const G=this.bitmap.data[Y+0],H=this.bitmap.data[Y+1],q=this.bitmap.data[Y+2];this.bitmap.data[Y+0]=mJ(G,K.r[0],K.r[1]),this.bitmap.data[Y+1]=mJ(H,K.g[0],K.g[1]),this.bitmap.data[Y+2]=mJ(q,K.b[0],K.b[1])}),tE.isNodePattern($))$.call(this,null,this);return this}});y$.default=$C;cJ.exports=y$.default;cJ.exports.default=y$.default});var RV=l((nj,UV)=>{var x$=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol==="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},JC=import.meta.require("http"),KC=import.meta.require("https"),HV=import.meta.require("url"),qV=import.meta.require("querystring"),VV=import.meta.require("zlib"),WV=import.meta.require("util"),a6=function $(J,K){if(typeof J!=="string"){if(!J.hasOwnProperty("url"))throw new Error("Missing url option from options for request method.")}var Z=(typeof J==="undefined"?"undefined":x$(J))==="object"?HV.parse(J.url):HV.parse(J),Q={hostname:Z.hostname,port:Z.port||(Z.protocol.toLowerCase()==="http:"?80:443),path:Z.path,method:"GET",headers:{},auth:Z.auth||null,parse:"none",stream:!1};if((typeof J==="undefined"?"undefined":x$(J))==="object")Q=Object.assign(Q,J);if(Q.port=Number(Q.port),Q.hasOwnProperty("timeout"))delete Q.timeout;if(Q.compressed===!0)Q.headers["accept-encoding"]="gzip, deflate";if(J.hasOwnProperty("form")){if(x$(J.form)!=="object")throw new Error("phin \'form\' option must be of type Object if present.");var Y=qV.stringify(J.form);Q.headers["Content-Type"]="application/x-www-form-urlencoded",Q.headers["Content-Length"]=Buffer.byteLength(Y),J.data=Y}var G=void 0,H=function W(U){var R=U;if(Q.compressed===!0){if(U.headers["content-encoding"]==="gzip")R=U.pipe(VV.createGunzip());else if(U.headers["content-encoding"]==="deflate")R=U.pipe(VV.createInflate())}if(Q.stream===!0){if(U.stream=R,K)K(null,U)}else U.body=new Buffer([]),R.on("data",function(O){U.body=Buffer.concat([U.body,O])}),R.on("end",function(){if(K){if(Q.parse==="json")try{U.body=JSON.parse(U.body.toString())}catch(O){K("Invalid JSON received.",U);return}K(null,U)}})};switch(Z.protocol.toLowerCase()){case"http:":G=JC.request(Q,H);break;case"https:":G=KC.request(Q,H);break;default:if(K)K(new Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null);return}if(typeof J.timeout==="number")G.setTimeout(J.timeout,function(){if(G.abort(),K)K(new Error("Timeout has been reached."),null);K=null});if(G.on("error",function(W){if(K)K(W,null)}),J.hasOwnProperty("data")){var q=J.data;if(!(J.data instanceof Buffer)&&x$(J.data)==="object"){var V=Q.headers["content-type"]||Q.headers["Content-Type"];if(V==="application/x-www-form-urlencoded")q=qV.stringify(J.data);else try{q=JSON.stringify(J.data)}catch(W){if(K)K(new Error("Couldn\'t stringify object. (Likely due to a circular reference.)"),null)}}G.write(q)}G.end()};a6.promisified=function($,J){return new Promise(function(K,Z){a6($,function(Q,Y){if(Q)Z(Q);else K(Y)},J)})};if(WV.promisify)a6[WV.promisify.custom]=a6.promisified;UV.exports=a6});var NV=l((ij,zV)=>{var ZC=function($,J){if($=$.replace(/\t+/g," ").trim(),!$)return null;var K=$.indexOf(" ");if(K===-1)throw new Error("no named row at line "+J);var Z=$.substring(0,K);$=$.substring(K+1),$=$.replace(/letter=[\'\"]\S+[\'\"]/gi,""),$=$.split("="),$=$.map(function(q){return q.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});var Q=[];for(var Y=0;Y<$.length;Y++){var G=$[Y];if(Y===0)Q.push({key:G[0],data:""});else if(Y===$.length-1)Q[Q.length-1].data=OV(G[0]);else Q[Q.length-1].data=OV(G[0]),Q.push({key:G[1],data:""})}var H={key:Z,data:{}};return Q.forEach(function(q){H.data[q.key]=q.data}),H},OV=function($){if(!$||$.length===0)return"";if($.indexOf('"')===0||$.indexOf("'")===0)return $.substring(1,$.length-1);if($.indexOf(",")!==-1)return QC($);return parseInt($,10)},QC=function($){return $.split(",").map(function(J){return parseInt(J,10)})};zV.exports=function $(J){if(!J)throw new Error("no data provided");J=J.toString().trim();var K={pages:[],chars:[],kernings:[]},Z=J.split(/\r\n?|\n/g);if(Z.length===0)throw new Error("no data in BMFont file");for(var Q=0;Q<Z.length;Q++){var Y=ZC(Z[Q],Q);if(!Y)continue;if(Y.key==="page"){if(typeof Y.data.id!=="number")throw new Error("malformed file at line "+Q+" -- needs page id=N");if(typeof Y.data.file!=="string")throw new Error("malformed file at line "+Q+' -- needs page file="path"');K.pages[Y.data.id]=Y.data.file}else if(Y.key==="chars"||Y.key==="kernings");else if(Y.key==="char")K.chars.push(Y.data);else if(Y.key==="kerning")K.kernings.push(Y.data);else K[Y.key]=Y.data}return K}});var g$=l((PV)=>{(function(){PV.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(PV)});var d8=l((AV,P5)=>{(function(){var $,J,K,Z,Q,Y,G,H=[].slice,q={}.hasOwnProperty;$=function(){var V,W,U,R,O,B;if(B=arguments[0],O=2<=arguments.length?H.call(arguments,1):[],Q(Object.assign))Object.assign.apply(null,arguments);else for(V=0,U=O.length;V<U;V++)if(R=O[V],R!=null)for(W in R){if(!q.call(R,W))continue;B[W]=R[W]}return B},Q=function(V){return!!V&&Object.prototype.toString.call(V)==="[object Function]"},Y=function(V){var W;return!!V&&((W=typeof V)==="function"||W==="object")},K=function(V){if(Q(Array.isArray))return Array.isArray(V);else return Object.prototype.toString.call(V)==="[object Array]"},Z=function(V){var W;if(K(V))return!V.length;else{for(W in V){if(!q.call(V,W))continue;return!1}return!0}},G=function(V){var W,U;return Y(V)&&(U=Object.getPrototypeOf(V))&&(W=U.constructor)&&typeof W==="function"&&W instanceof W&&Function.prototype.toString.call(W)===Function.prototype.toString.call(Object)},J=function(V){if(Q(V.valueOf))return V.valueOf();else return V},AV.assign=$,AV.isFunction=Q,AV.isObject=Y,AV.isArray=K,AV.isEmpty=Z,AV.isPlainObject=G,AV.getValue=J}).call(AV)});var dJ=l((BV,FV)=>{(function(){var $;FV.exports=$=function(){function J(){}return J.prototype.hasFeature=function(K,Z){return!0},J.prototype.createDocumentType=function(K,Z,Q){throw new Error("This DOM method is not implemented.")},J.prototype.createDocument=function(K,Z,Q){throw new Error("This DOM method is not implemented.")},J.prototype.createHTMLDocument=function(K){throw new Error("This DOM method is not implemented.")},J.prototype.getFeature=function(K,Z){throw new Error("This DOM method is not implemented.")},J}()}).call(BV)});var CV=l((XV,EV)=>{(function(){var $;EV.exports=$=function(){function J(){}return J.prototype.handleError=function(K){throw new Error(K)},J}()}).call(XV)});var SV=l((LV,MV)=>{(function(){var $;MV.exports=$=function(){function J(K){this.arr=K||[]}return Object.defineProperty(J.prototype,"length",{get:function(){return this.arr.length}}),J.prototype.item=function(K){return this.arr[K]||null},J.prototype.contains=function(K){return this.arr.indexOf(K)!==-1},J}()}).call(LV)});var TV=l((jV,IV)=>{(function(){var $,J,K;J=CV(),K=SV(),IV.exports=$=function(){function Z(){var Q;this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new J,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Q=Object.create(this.defaultParams)}return Object.defineProperty(Z.prototype,"parameterNames",{get:function(){return new K(Object.keys(this.defaultParams))}}),Z.prototype.getParameter=function(Q){if(this.params.hasOwnProperty(Q))return this.params[Q];else return null},Z.prototype.canSetParameter=function(Q,Y){return!0},Z.prototype.setParameter=function(Q,Y){if(Y!=null)return this.params[Q]=Y;else return delete this.params[Q]},Z}()}).call(jV)});var p0=l((wV,DV)=>{(function(){DV.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(wV)});var pJ=l((kV,vV)=>{(function(){var $,J,K;$=p0(),K=z8(),vV.exports=J=function(){function Z(Q,Y,G){if(this.parent=Q,this.parent)this.options=this.parent.options,this.stringify=this.parent.stringify;if(Y==null)throw new Error("Missing attribute name. "+this.debugInfo(Y));this.name=this.stringify.name(Y),this.value=this.stringify.attValue(G),this.type=$.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(Z.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(Z.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(Z.prototype,"textContent",{get:function(){return this.value},set:function(Q){return this.value=Q||""}}),Object.defineProperty(Z.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(Z.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(Z.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(Z.prototype,"specified",{get:function(){return!0}}),Z.prototype.clone=function(){return Object.create(this)},Z.prototype.toString=function(Q){return this.options.writer.attribute(this,this.options.writer.filterOptions(Q))},Z.prototype.debugInfo=function(Q){if(Q=Q||this.name,Q==null)return"parent: <"+this.parent.name+">";else return"attribute: {"+Q+"}, parent: <"+this.parent.name+">"},Z.prototype.isEqualNode=function(Q){if(Q.namespaceURI!==this.namespaceURI)return!1;if(Q.prefix!==this.prefix)return!1;if(Q.localName!==this.localName)return!1;if(Q.value!==this.value)return!1;return!0},Z}()}).call(kV)});var h$=l((_V,yV)=>{(function(){var $;yV.exports=$=function(){function J(K){this.nodes=K}return Object.defineProperty(J.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),J.prototype.clone=function(){return this.nodes=null},J.prototype.getNamedItem=function(K){return this.nodes[K]},J.prototype.setNamedItem=function(K){var Z=this.nodes[K.nodeName];return this.nodes[K.nodeName]=K,Z||null},J.prototype.removeNamedItem=function(K){var Z=this.nodes[K];return delete this.nodes[K],Z||null},J.prototype.item=function(K){return this.nodes[Object.keys(this.nodes)[K]]||null},J.prototype.getNamedItemNS=function(K,Z){throw new Error("This DOM method is not implemented.")},J.prototype.setNamedItemNS=function(K){throw new Error("This DOM method is not implemented.")},J.prototype.removeNamedItemNS=function(K,Z){throw new Error("This DOM method is not implemented.")},J}()}).call(_V)});var b$=l((xV,gV)=>{(function(){var $,J,K,Z,Q,Y,G,H,q,V=function(U,R){for(var O in R)if(W.call(R,O))U[O]=R[O];function B(){this.constructor=U}return B.prototype=R.prototype,U.prototype=new B,U.__super__=R.prototype,U},W={}.hasOwnProperty;q=d8(),H=q.isObject,G=q.isFunction,Y=q.getValue,Q=z8(),$=p0(),J=pJ(),Z=h$(),gV.exports=K=function(U){V(R,U);function R(O,B,M){var C,E,T,L;if(R.__super__.constructor.call(this,O),B==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(B),this.type=$.Element,this.attribs={},this.schemaTypeInfo=null,M!=null)this.attribute(M);if(O.type===$.Document){if(this.isRoot=!0,this.documentObject=O,O.rootObject=this,O.children){L=O.children;for(E=0,T=L.length;E<T;E++)if(C=L[E],C.type===$.DocType){C.name=this.name;break}}}}return Object.defineProperty(R.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(R.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(R.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(R.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(R.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(R.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(R.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(R.prototype,"attributes",{get:function(){if(!this.attributeMap||!this.attributeMap.nodes)this.attributeMap=new Z(this.attribs);return this.attributeMap}}),R.prototype.clone=function(){var O,B,M,C;if(M=Object.create(this),M.isRoot)M.documentObject=null;M.attribs={},C=this.attribs;for(B in C){if(!W.call(C,B))continue;O=C[B],M.attribs[B]=O.clone()}return M.children=[],this.children.forEach(function(E){var T=E.clone();return T.parent=M,M.children.push(T)}),M},R.prototype.attribute=function(O,B){var M,C;if(O!=null)O=Y(O);if(H(O))for(M in O){if(!W.call(O,M))continue;C=O[M],this.attribute(M,C)}else{if(G(B))B=B.apply();if(this.options.keepNullAttributes&&B==null)this.attribs[O]=new J(this,O,"");else if(B!=null)this.attribs[O]=new J(this,O,B)}return this},R.prototype.removeAttribute=function(O){var B,M,C;if(O==null)throw new Error("Missing attribute name. "+this.debugInfo());if(O=Y(O),Array.isArray(O))for(M=0,C=O.length;M<C;M++)B=O[M],delete this.attribs[B];else delete this.attribs[O];return this},R.prototype.toString=function(O){return this.options.writer.element(this,this.options.writer.filterOptions(O))},R.prototype.att=function(O,B){return this.attribute(O,B)},R.prototype.a=function(O,B){return this.attribute(O,B)},R.prototype.getAttribute=function(O){if(this.attribs.hasOwnProperty(O))return this.attribs[O].value;else return null},R.prototype.setAttribute=function(O,B){throw new Error("This DOM method is not implemented."+this.debugInfo())},R.prototype.getAttributeNode=function(O){if(this.attribs.hasOwnProperty(O))return this.attribs[O];else return null},R.prototype.setAttributeNode=function(O){throw new Error("This DOM method is not implemented."+this.debugInfo())},R.prototype.removeAttributeNode=function(O){throw new Error("This DOM method is not implemented."+this.debugInfo())},R.prototype.getElementsByTagName=function(O){throw new Error("This DOM method is not implemented."+this.debugInfo())},R.prototype.getAttributeNS=function(O,B){throw new Error("This DOM method is not implemented."+this.debugInfo())},R.prototype.setAttributeNS=function(O,B,M){throw new Error("This DOM method is not implemented."+this.debugInfo())},R.prototype.removeAttributeNS=function(O,B){throw new Error("This DOM method is not implemented."+this.debugInfo())},R.prototype.getAttributeNodeNS=function(O,B){throw new Error("This DOM method is not implemented."+this.debugInfo())},R.prototype.setAttributeNodeNS=function(O){throw new Error("This DOM method is not implemented."+this.debugInfo())},R.prototype.getElementsByTagNameNS=function(O,B){throw new Error("This DOM method is not implemented."+this.debugInfo())},R.prototype.hasAttribute=function(O){return this.attribs.hasOwnProperty(O)},R.prototype.hasAttributeNS=function(O,B){throw new Error("This DOM method is not implemented."+this.debugInfo())},R.prototype.setIdAttribute=function(O,B){if(this.attribs.hasOwnProperty(O))return this.attribs[O].isId;else return B},R.prototype.setIdAttributeNS=function(O,B,M){throw new Error("This DOM method is not implemented."+this.debugInfo())},R.prototype.setIdAttributeNode=function(O,B){throw new Error("This DOM method is not implemented."+this.debugInfo())},R.prototype.getElementsByTagName=function(O){throw new Error("This DOM method is not implemented."+this.debugInfo())},R.prototype.getElementsByTagNameNS=function(O,B){throw new Error("This DOM method is not implemented."+this.debugInfo())},R.prototype.getElementsByClassName=function(O){throw new Error("This DOM method is not implemented."+this.debugInfo())},R.prototype.isEqualNode=function(O){var B,M,C;if(!R.__super__.isEqualNode.apply(this,arguments).isEqualNode(O))return!1;if(O.namespaceURI!==this.namespaceURI)return!1;if(O.prefix!==this.prefix)return!1;if(O.localName!==this.localName)return!1;if(O.attribs.length!==this.attribs.length)return!1;for(B=M=0,C=this.attribs.length-1;0<=C?M<=C:M>=C;B=0<=C?++M:--M)if(!this.attribs[B].isEqualNode(O.attribs[B]))return!1;return!0},R}(Q)}).call(xV)});var t6=l((hV,bV)=>{(function(){var $,J,K=function(Q,Y){for(var G in Y)if(Z.call(Y,G))Q[G]=Y[G];function H(){this.constructor=Q}return H.prototype=Y.prototype,Q.prototype=new H,Q.__super__=Y.prototype,Q},Z={}.hasOwnProperty;J=z8(),bV.exports=$=function(Q){K(Y,Q);function Y(G){Y.__super__.constructor.call(this,G),this.value=""}return Object.defineProperty(Y.prototype,"data",{get:function(){return this.value},set:function(G){return this.value=G||""}}),Object.defineProperty(Y.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(Y.prototype,"textContent",{get:function(){return this.value},set:function(G){return this.value=G||""}}),Y.prototype.clone=function(){return Object.create(this)},Y.prototype.substringData=function(G,H){throw new Error("This DOM method is not implemented."+this.debugInfo())},Y.prototype.appendData=function(G){throw new Error("This DOM method is not implemented."+this.debugInfo())},Y.prototype.insertData=function(G,H){throw new Error("This DOM method is not implemented."+this.debugInfo())},Y.prototype.deleteData=function(G,H){throw new Error("This DOM method is not implemented."+this.debugInfo())},Y.prototype.replaceData=function(G,H,q){throw new Error("This DOM method is not implemented."+this.debugInfo())},Y.prototype.isEqualNode=function(G){if(!Y.__super__.isEqualNode.apply(this,arguments).isEqualNode(G))return!1;if(G.data!==this.data)return!1;return!0},Y}(J)}).call(hV)});var u$=l((uV,mV)=>{(function(){var $,J,K,Z=function(Y,G){for(var H in G)if(Q.call(G,H))Y[H]=G[H];function q(){this.constructor=Y}return q.prototype=G.prototype,Y.prototype=new q,Y.__super__=G.prototype,Y},Q={}.hasOwnProperty;$=p0(),K=t6(),mV.exports=J=function(Y){Z(G,Y);function G(H,q){if(G.__super__.constructor.call(this,H),q==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=$.CData,this.value=this.stringify.cdata(q)}return G.prototype.clone=function(){return Object.create(this)},G.prototype.toString=function(H){return this.options.writer.cdata(this,this.options.writer.filterOptions(H))},G}(K)}).call(uV)});var m$=l((fV,cV)=>{(function(){var $,J,K,Z=function(Y,G){for(var H in G)if(Q.call(G,H))Y[H]=G[H];function q(){this.constructor=Y}return q.prototype=G.prototype,Y.prototype=new q,Y.__super__=G.prototype,Y},Q={}.hasOwnProperty;$=p0(),J=t6(),cV.exports=K=function(Y){Z(G,Y);function G(H,q){if(G.__super__.constructor.call(this,H),q==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=$.Comment,this.value=this.stringify.comment(q)}return G.prototype.clone=function(){return Object.create(this)},G.prototype.toString=function(H){return this.options.writer.comment(this,this.options.writer.filterOptions(H))},G}(J)}).call(fV)});var f$=l((dV,pV)=>{(function(){var $,J,K,Z,Q=function(G,H){for(var q in H)if(Y.call(H,q))G[q]=H[q];function V(){this.constructor=G}return V.prototype=H.prototype,G.prototype=new V,G.__super__=H.prototype,G},Y={}.hasOwnProperty;Z=d8().isObject,K=z8(),$=p0(),pV.exports=J=function(G){Q(H,G);function H(q,V,W,U){var R;if(H.__super__.constructor.call(this,q),Z(V))R=V,V=R.version,W=R.encoding,U=R.standalone;if(!V)V="1.0";if(this.type=$.Declaration,this.version=this.stringify.xmlVersion(V),W!=null)this.encoding=this.stringify.xmlEncoding(W);if(U!=null)this.standalone=this.stringify.xmlStandalone(U)}return H.prototype.toString=function(q){return this.options.writer.declaration(this,this.options.writer.filterOptions(q))},H}(K)}).call(dV)});var c$=l((lV,nV)=>{(function(){var $,J,K,Z=function(Y,G){for(var H in G)if(Q.call(G,H))Y[H]=G[H];function q(){this.constructor=Y}return q.prototype=G.prototype,Y.prototype=new q,Y.__super__=G.prototype,Y},Q={}.hasOwnProperty;K=z8(),$=p0(),nV.exports=J=function(Y){Z(G,Y);function G(H,q,V,W,U,R){if(G.__super__.constructor.call(this,H),q==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(V==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(q));if(!W)throw new Error("Missing DTD attribute type. "+this.debugInfo(q));if(!U)throw new Error("Missing DTD attribute default. "+this.debugInfo(q));if(U.indexOf("#")!==0)U="#"+U;if(!U.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(q));if(R&&!U.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(q));if(this.elementName=this.stringify.name(q),this.type=$.AttributeDeclaration,this.attributeName=this.stringify.name(V),this.attributeType=this.stringify.dtdAttType(W),R)this.defaultValue=this.stringify.dtdAttDefault(R);this.defaultValueType=U}return G.prototype.toString=function(H){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(H))},G}(K)}).call(lV)});var d$=l((iV,oV)=>{(function(){var $,J,K,Z,Q=function(G,H){for(var q in H)if(Y.call(H,q))G[q]=H[q];function V(){this.constructor=G}return V.prototype=H.prototype,G.prototype=new V,G.__super__=H.prototype,G},Y={}.hasOwnProperty;Z=d8().isObject,K=z8(),$=p0(),oV.exports=J=function(G){Q(H,G);function H(q,V,W,U){if(H.__super__.constructor.call(this,q),W==null)throw new Error("Missing DTD entity name. "+this.debugInfo(W));if(U==null)throw new Error("Missing DTD entity value. "+this.debugInfo(W));if(this.pe=!!V,this.name=this.stringify.name(W),this.type=$.EntityDeclaration,!Z(U))this.value=this.stringify.dtdEntityValue(U),this.internal=!0;else{if(!U.pubID&&!U.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(W));if(U.pubID&&!U.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(W));if(this.internal=!1,U.pubID!=null)this.pubID=this.stringify.dtdPubID(U.pubID);if(U.sysID!=null)this.sysID=this.stringify.dtdSysID(U.sysID);if(U.nData!=null)this.nData=this.stringify.dtdNData(U.nData);if(this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(W))}}return Object.defineProperty(H.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(H.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(H.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(H.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(H.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(H.prototype,"xmlVersion",{get:function(){return null}}),H.prototype.toString=function(q){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(q))},H}(K)}).call(iV)});var p$=l((rV,sV)=>{(function(){var $,J,K,Z=function(Y,G){for(var H in G)if(Q.call(G,H))Y[H]=G[H];function q(){this.constructor=Y}return q.prototype=G.prototype,Y.prototype=new q,Y.__super__=G.prototype,Y},Q={}.hasOwnProperty;K=z8(),$=p0(),sV.exports=J=function(Y){Z(G,Y);function G(H,q,V){if(G.__super__.constructor.call(this,H),q==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(!V)V="(#PCDATA)";if(Array.isArray(V))V="("+V.join(",")+")";this.name=this.stringify.name(q),this.type=$.ElementDeclaration,this.value=this.stringify.dtdElementValue(V)}return G.prototype.toString=function(H){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(H))},G}(K)}).call(rV)});var l$=l((aV,tV)=>{(function(){var $,J,K,Z=function(Y,G){for(var H in G)if(Q.call(G,H))Y[H]=G[H];function q(){this.constructor=Y}return q.prototype=G.prototype,Y.prototype=new q,Y.__super__=G.prototype,Y},Q={}.hasOwnProperty;K=z8(),$=p0(),tV.exports=J=function(Y){Z(G,Y);function G(H,q,V){if(G.__super__.constructor.call(this,H),q==null)throw new Error("Missing DTD notation name. "+this.debugInfo(q));if(!V.pubID&&!V.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(q));if(this.name=this.stringify.name(q),this.type=$.NotationDeclaration,V.pubID!=null)this.pubID=this.stringify.dtdPubID(V.pubID);if(V.sysID!=null)this.sysID=this.stringify.dtdSysID(V.sysID)}return Object.defineProperty(G.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(G.prototype,"systemId",{get:function(){return this.sysID}}),G.prototype.toString=function(H){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(H))},G}(K)}).call(aV)});var n$=l((eV,$W)=>{(function(){var $,J,K,Z,Q,Y,G,H,q,V=function(U,R){for(var O in R)if(W.call(R,O))U[O]=R[O];function B(){this.constructor=U}return B.prototype=R.prototype,U.prototype=new B,U.__super__=R.prototype,U},W={}.hasOwnProperty;q=d8().isObject,H=z8(),$=p0(),J=c$(),Z=d$(),K=p$(),Q=l$(),G=h$(),$W.exports=Y=function(U){V(R,U);function R(O,B,M){var C,E,T,L,X,z;if(R.__super__.constructor.call(this,O),this.type=$.DocType,O.children){L=O.children;for(E=0,T=L.length;E<T;E++)if(C=L[E],C.type===$.Element){this.name=C.name;break}}if(this.documentObject=O,q(B))X=B,B=X.pubID,M=X.sysID;if(M==null)z=[B,M],M=z[0],B=z[1];if(B!=null)this.pubID=this.stringify.dtdPubID(B);if(M!=null)this.sysID=this.stringify.dtdSysID(M)}return Object.defineProperty(R.prototype,"entities",{get:function(){var O,B,M,C,E;C={},E=this.children;for(B=0,M=E.length;B<M;B++)if(O=E[B],O.type===$.EntityDeclaration&&!O.pe)C[O.name]=O;return new G(C)}}),Object.defineProperty(R.prototype,"notations",{get:function(){var O,B,M,C,E;C={},E=this.children;for(B=0,M=E.length;B<M;B++)if(O=E[B],O.type===$.NotationDeclaration)C[O.name]=O;return new G(C)}}),Object.defineProperty(R.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(R.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(R.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),R.prototype.element=function(O,B){var M=new K(this,O,B);return this.children.push(M),this},R.prototype.attList=function(O,B,M,C,E){var T=new J(this,O,B,M,C,E);return this.children.push(T),this},R.prototype.entity=function(O,B){var M=new Z(this,!1,O,B);return this.children.push(M),this},R.prototype.pEntity=function(O,B){var M=new Z(this,!0,O,B);return this.children.push(M),this},R.prototype.notation=function(O,B){var M=new Q(this,O,B);return this.children.push(M),this},R.prototype.toString=function(O){return this.options.writer.docType(this,this.options.writer.filterOptions(O))},R.prototype.ele=function(O,B){return this.element(O,B)},R.prototype.att=function(O,B,M,C,E){return this.attList(O,B,M,C,E)},R.prototype.ent=function(O,B){return this.entity(O,B)},R.prototype.pent=function(O,B){return this.pEntity(O,B)},R.prototype.not=function(O,B){return this.notation(O,B)},R.prototype.up=function(){return this.root()||this.documentObject},R.prototype.isEqualNode=function(O){if(!R.__super__.isEqualNode.apply(this,arguments).isEqualNode(O))return!1;if(O.name!==this.name)return!1;if(O.publicId!==this.publicId)return!1;if(O.systemId!==this.systemId)return!1;return!0},R}(H)}).call(eV)});var i$=l((JW,KW)=>{(function(){var $,J,K,Z=function(Y,G){for(var H in G)if(Q.call(G,H))Y[H]=G[H];function q(){this.constructor=Y}return q.prototype=G.prototype,Y.prototype=new q,Y.__super__=G.prototype,Y},Q={}.hasOwnProperty;$=p0(),J=z8(),KW.exports=K=function(Y){Z(G,Y);function G(H,q){if(G.__super__.constructor.call(this,H),q==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=$.Raw,this.value=this.stringify.raw(q)}return G.prototype.clone=function(){return Object.create(this)},G.prototype.toString=function(H){return this.options.writer.raw(this,this.options.writer.filterOptions(H))},G}(J)}).call(JW)});var o$=l((ZW,QW)=>{(function(){var $,J,K,Z=function(Y,G){for(var H in G)if(Q.call(G,H))Y[H]=G[H];function q(){this.constructor=Y}return q.prototype=G.prototype,Y.prototype=new q,Y.__super__=G.prototype,Y},Q={}.hasOwnProperty;$=p0(),J=t6(),QW.exports=K=function(Y){Z(G,Y);function G(H,q){if(G.__super__.constructor.call(this,H),q==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=$.Text,this.value=this.stringify.text(q)}return Object.defineProperty(G.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(G.prototype,"wholeText",{get:function(){var H,q,V;V="",q=this.previousSibling;while(q)V=q.data+V,q=q.previousSibling;V+=this.data,H=this.nextSibling;while(H)V=V+H.data,H=H.nextSibling;return V}}),G.prototype.clone=function(){return Object.create(this)},G.prototype.toString=function(H){return this.options.writer.text(this,this.options.writer.filterOptions(H))},G.prototype.splitText=function(H){throw new Error("This DOM method is not implemented."+this.debugInfo())},G.prototype.replaceWholeText=function(H){throw new Error("This DOM method is not implemented."+this.debugInfo())},G}(J)}).call(ZW)});var r$=l((YW,GW)=>{(function(){var $,J,K,Z=function(Y,G){for(var H in G)if(Q.call(G,H))Y[H]=G[H];function q(){this.constructor=Y}return q.prototype=G.prototype,Y.prototype=new q,Y.__super__=G.prototype,Y},Q={}.hasOwnProperty;$=p0(),J=t6(),GW.exports=K=function(Y){Z(G,Y);function G(H,q,V){if(G.__super__.constructor.call(this,H),q==null)throw new Error("Missing instruction target. "+this.debugInfo());if(this.type=$.ProcessingInstruction,this.target=this.stringify.insTarget(q),this.name=this.target,V)this.value=this.stringify.insValue(V)}return G.prototype.clone=function(){return Object.create(this)},G.prototype.toString=function(H){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(H))},G.prototype.isEqualNode=function(H){if(!G.__super__.isEqualNode.apply(this,arguments).isEqualNode(H))return!1;if(H.target!==this.target)return!1;return!0},G}(J)}).call(YW)});var lJ=l((HW,qW)=>{(function(){var $,J,K,Z=function(Y,G){for(var H in G)if(Q.call(G,H))Y[H]=G[H];function q(){this.constructor=Y}return q.prototype=G.prototype,Y.prototype=new q,Y.__super__=G.prototype,Y},Q={}.hasOwnProperty;K=z8(),$=p0(),qW.exports=J=function(Y){Z(G,Y);function G(H){G.__super__.constructor.call(this,H),this.type=$.Dummy}return G.prototype.clone=function(){return Object.create(this)},G.prototype.toString=function(H){return""},G}(K)}).call(HW)});var UW=l((VW,WW)=>{(function(){var $;WW.exports=$=function(){function J(K){this.nodes=K}return Object.defineProperty(J.prototype,"length",{get:function(){return this.nodes.length||0}}),J.prototype.clone=function(){return this.nodes=null},J.prototype.item=function(K){return this.nodes[K]||null},J}()}).call(VW)});var zW=l((RW,OW)=>{(function(){OW.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(RW)});var z8=l((NW,PW)=>{(function(){var $,J,K,Z,Q,Y,G,H,q,V,W,U,R,O,B,M,C,E,T,L={}.hasOwnProperty;T=d8(),E=T.isObject,C=T.isFunction,M=T.isEmpty,B=T.getValue,H=null,K=null,Z=null,Q=null,Y=null,R=null,O=null,U=null,G=null,J=null,W=null,q=null,$=null,PW.exports=V=function(){function X(z){if(this.parent=z,this.parent)this.options=this.parent.options,this.stringify=this.parent.stringify;if(this.value=null,this.children=[],this.baseURI=null,!H)H=b$(),K=u$(),Z=m$(),Q=f$(),Y=n$(),R=i$(),O=o$(),U=r$(),G=lJ(),J=p0(),W=UW(),q=h$(),$=zW()}return Object.defineProperty(X.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(X.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(X.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(X.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(X.prototype,"childNodes",{get:function(){if(!this.childNodeList||!this.childNodeList.nodes)this.childNodeList=new W(this.children);return this.childNodeList}}),Object.defineProperty(X.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(X.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(X.prototype,"previousSibling",{get:function(){var z=this.parent.children.indexOf(this);return this.parent.children[z-1]||null}}),Object.defineProperty(X.prototype,"nextSibling",{get:function(){var z=this.parent.children.indexOf(this);return this.parent.children[z+1]||null}}),Object.defineProperty(X.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(X.prototype,"textContent",{get:function(){var z,N,P,S,k;if(this.nodeType===J.Element||this.nodeType===J.DocumentFragment){k="",S=this.children;for(N=0,P=S.length;N<P;N++)if(z=S[N],z.textContent)k+=z.textContent;return k}else return null},set:function(z){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),X.prototype.setParent=function(z){var N,P,S,k,w;if(this.parent=z,z)this.options=z.options,this.stringify=z.stringify;k=this.children,w=[];for(P=0,S=k.length;P<S;P++)N=k[P],w.push(N.setParent(this));return w},X.prototype.element=function(z,N,P){var S,k,w,j,v,_,x,b,y,p,g;if(_=null,N===null&&P==null)y=[{},null],N=y[0],P=y[1];if(N==null)N={};if(N=B(N),!E(N))p=[N,P],P=p[0],N=p[1];if(z!=null)z=B(z);if(Array.isArray(z))for(w=0,x=z.length;w<x;w++)k=z[w],_=this.element(k);else if(C(z))_=this.element(z.apply());else if(E(z))for(v in z){if(!L.call(z,v))continue;if(g=z[v],C(g))g=g.apply();if(!this.options.ignoreDecorators&&this.stringify.convertAttKey&&v.indexOf(this.stringify.convertAttKey)===0)_=this.attribute(v.substr(this.stringify.convertAttKey.length),g);else if(!this.options.separateArrayItems&&Array.isArray(g)&&M(g))_=this.dummy();else if(E(g)&&M(g))_=this.element(v);else if(!this.options.keepNullNodes&&g==null)_=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(g))for(j=0,b=g.length;j<b;j++)k=g[j],S={},S[v]=k,_=this.element(S);else if(E(g))if(!this.options.ignoreDecorators&&this.stringify.convertTextKey&&v.indexOf(this.stringify.convertTextKey)===0)_=this.element(g);else _=this.element(v),_.element(g);else _=this.element(v,g)}else if(!this.options.keepNullNodes&&P===null)_=this.dummy();else if(!this.options.ignoreDecorators&&this.stringify.convertTextKey&&z.indexOf(this.stringify.convertTextKey)===0)_=this.text(P);else if(!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&z.indexOf(this.stringify.convertCDataKey)===0)_=this.cdata(P);else if(!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&z.indexOf(this.stringify.convertCommentKey)===0)_=this.comment(P);else if(!this.options.ignoreDecorators&&this.stringify.convertRawKey&&z.indexOf(this.stringify.convertRawKey)===0)_=this.raw(P);else if(!this.options.ignoreDecorators&&this.stringify.convertPIKey&&z.indexOf(this.stringify.convertPIKey)===0)_=this.instruction(z.substr(this.stringify.convertPIKey.length),P);else _=this.node(z,N,P);if(_==null)throw new Error("Could not create any elements with: "+z+". "+this.debugInfo());return _},X.prototype.insertBefore=function(z,N,P){var S,k,w,j,v;if(z!=null?z.type:void 0){if(w=z,j=N,w.setParent(this),j)k=children.indexOf(j),v=children.splice(k),children.push(w),Array.prototype.push.apply(children,v);else children.push(w);return w}else{if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(z));return k=this.parent.children.indexOf(this),v=this.parent.children.splice(k),S=this.parent.element(z,N,P),Array.prototype.push.apply(this.parent.children,v),S}},X.prototype.insertAfter=function(z,N,P){var S,k,w;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(z));return k=this.parent.children.indexOf(this),w=this.parent.children.splice(k+1),S=this.parent.element(z,N,P),Array.prototype.push.apply(this.parent.children,w),S},X.prototype.remove=function(){var z,N;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return z=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[z,z-z+1].concat(N=[])),this.parent},X.prototype.node=function(z,N,P){var S,k;if(z!=null)z=B(z);if(N||(N={}),N=B(N),!E(N))k=[N,P],P=k[0],N=k[1];if(S=new H(this,z,N),P!=null)S.text(P);return this.children.push(S),S},X.prototype.text=function(z){var N;if(E(z))this.element(z);return N=new O(this,z),this.children.push(N),this},X.prototype.cdata=function(z){var N=new K(this,z);return this.children.push(N),this},X.prototype.comment=function(z){var N=new Z(this,z);return this.children.push(N),this},X.prototype.commentBefore=function(z){var N,P,S;return P=this.parent.children.indexOf(this),S=this.parent.children.splice(P),N=this.parent.comment(z),Array.prototype.push.apply(this.parent.children,S),this},X.prototype.commentAfter=function(z){var N,P,S;return P=this.parent.children.indexOf(this),S=this.parent.children.splice(P+1),N=this.parent.comment(z),Array.prototype.push.apply(this.parent.children,S),this},X.prototype.raw=function(z){var N=new R(this,z);return this.children.push(N),this},X.prototype.dummy=function(){var z=new G(this);return z},X.prototype.instruction=function(z,N){var P,S,k,w,j;if(z!=null)z=B(z);if(N!=null)N=B(N);if(Array.isArray(z))for(w=0,j=z.length;w<j;w++)P=z[w],this.instruction(P);else if(E(z))for(P in z){if(!L.call(z,P))continue;S=z[P],this.instruction(P,S)}else{if(C(N))N=N.apply();k=new U(this,z,N),this.children.push(k)}return this},X.prototype.instructionBefore=function(z,N){var P,S,k;return S=this.parent.children.indexOf(this),k=this.parent.children.splice(S),P=this.parent.instruction(z,N),Array.prototype.push.apply(this.parent.children,k),this},X.prototype.instructionAfter=function(z,N){var P,S,k;return S=this.parent.children.indexOf(this),k=this.parent.children.splice(S+1),P=this.parent.instruction(z,N),Array.prototype.push.apply(this.parent.children,k),this},X.prototype.declaration=function(z,N,P){var S,k;if(S=this.document(),k=new Q(S,z,N,P),S.children.length===0)S.children.unshift(k);else if(S.children[0].type===J.Declaration)S.children[0]=k;else S.children.unshift(k);return S.root()||S},X.prototype.dtd=function(z,N){var P,S,k,w,j,v,_,x,b,y;S=this.document(),k=new Y(S,z,N),b=S.children;for(w=j=0,_=b.length;j<_;w=++j)if(P=b[w],P.type===J.DocType)return S.children[w]=k,k;y=S.children;for(w=v=0,x=y.length;v<x;w=++v)if(P=y[w],P.isRoot)return S.children.splice(w,0,k),k;return S.children.push(k),k},X.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},X.prototype.root=function(){var z=this;while(z)if(z.type===J.Document)return z.rootObject;else if(z.isRoot)return z;else z=z.parent},X.prototype.document=function(){var z=this;while(z)if(z.type===J.Document)return z;else z=z.parent},X.prototype.end=function(z){return this.document().end(z)},X.prototype.prev=function(){var z=this.parent.children.indexOf(this);if(z<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[z-1]},X.prototype.next=function(){var z=this.parent.children.indexOf(this);if(z===-1||z===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[z+1]},X.prototype.importDocument=function(z){var N=z.root().clone();return N.parent=this,N.isRoot=!1,this.children.push(N),this},X.prototype.debugInfo=function(z){var N,P;if(z=z||this.name,z==null&&!((N=this.parent)!=null?N.name:void 0))return"";else if(z==null)return"parent: <"+this.parent.name+">";else if(!((P=this.parent)!=null?P.name:void 0))return"node: <"+z+">";else return"node: <"+z+">, parent: <"+this.parent.name+">"},X.prototype.ele=function(z,N,P){return this.element(z,N,P)},X.prototype.nod=function(z,N,P){return this.node(z,N,P)},X.prototype.txt=function(z){return this.text(z)},X.prototype.dat=function(z){return this.cdata(z)},X.prototype.com=function(z){return this.comment(z)},X.prototype.ins=function(z,N){return this.instruction(z,N)},X.prototype.doc=function(){return this.document()},X.prototype.dec=function(z,N,P){return this.declaration(z,N,P)},X.prototype.e=function(z,N,P){return this.element(z,N,P)},X.prototype.n=function(z,N,P){return this.node(z,N,P)},X.prototype.t=function(z){return this.text(z)},X.prototype.d=function(z){return this.cdata(z)},X.prototype.c=function(z){return this.comment(z)},X.prototype.r=function(z){return this.raw(z)},X.prototype.i=function(z,N){return this.instruction(z,N)},X.prototype.u=function(){return this.up()},X.prototype.importXMLBuilder=function(z){return this.importDocument(z)},X.prototype.replaceChild=function(z,N){throw new Error("This DOM method is not implemented."+this.debugInfo())},X.prototype.removeChild=function(z){throw new Error("This DOM method is not implemented."+this.debugInfo())},X.prototype.appendChild=function(z){throw new Error("This DOM method is not implemented."+this.debugInfo())},X.prototype.hasChildNodes=function(){return this.children.length!==0},X.prototype.cloneNode=function(z){throw new Error("This DOM method is not implemented."+this.debugInfo())},X.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},X.prototype.isSupported=function(z,N){return!0},X.prototype.hasAttributes=function(){return this.attribs.length!==0},X.prototype.compareDocumentPosition=function(z){var N,P;if(N=this,N===z)return 0;else if(this.document()!==z.document()){if(P=$.Disconnected|$.ImplementationSpecific,Math.random()<0.5)P|=$.Preceding;else P|=$.Following;return P}else if(N.isAncestor(z))return $.Contains|$.Preceding;else if(N.isDescendant(z))return $.Contains|$.Following;else if(N.isPreceding(z))return $.Preceding;else return $.Following},X.prototype.isSameNode=function(z){throw new Error("This DOM method is not implemented."+this.debugInfo())},X.prototype.lookupPrefix=function(z){throw new Error("This DOM method is not implemented."+this.debugInfo())},X.prototype.isDefaultNamespace=function(z){throw new Error("This DOM method is not implemented."+this.debugInfo())},X.prototype.lookupNamespaceURI=function(z){throw new Error("This DOM method is not implemented."+this.debugInfo())},X.prototype.isEqualNode=function(z){var N,P,S;if(z.nodeType!==this.nodeType)return!1;if(z.children.length!==this.children.length)return!1;for(N=P=0,S=this.children.length-1;0<=S?P<=S:P>=S;N=0<=S?++P:--P)if(!this.children[N].isEqualNode(z.children[N]))return!1;return!0},X.prototype.getFeature=function(z,N){throw new Error("This DOM method is not implemented."+this.debugInfo())},X.prototype.setUserData=function(z,N,P){throw new Error("This DOM method is not implemented."+this.debugInfo())},X.prototype.getUserData=function(z){throw new Error("This DOM method is not implemented."+this.debugInfo())},X.prototype.contains=function(z){if(!z)return!1;return z===this||this.isDescendant(z)},X.prototype.isDescendant=function(z){var N,P,S,k,w;w=this.children;for(S=0,k=w.length;S<k;S++){if(N=w[S],z===N)return!0;if(P=N.isDescendant(z),P)return!0}return!1},X.prototype.isAncestor=function(z){return z.isDescendant(this)},X.prototype.isPreceding=function(z){var N,P;if(N=this.treePosition(z),P=this.treePosition(this),N===-1||P===-1)return!1;else return N<P},X.prototype.isFollowing=function(z){var N,P;if(N=this.treePosition(z),P=this.treePosition(this),N===-1||P===-1)return!1;else return N>P},X.prototype.treePosition=function(z){var N,P;if(P=0,N=!1,this.foreachTreeNode(this.document(),function(S){if(P++,!N&&S===z)return N=!0}),N)return P;else return-1},X.prototype.foreachTreeNode=function(z,N){var P,S,k,w,j;z||(z=this.document()),w=z.children;for(S=0,k=w.length;S<k;S++)if(P=w[S],j=N(P))return j;else if(j=this.foreachTreeNode(P,N),j)return j},X}()}).call(NW)});var nJ=l((AW,BW)=>{(function(){var $,J=function(Z,Q){return function(){return Z.apply(Q,arguments)}},K={}.hasOwnProperty;BW.exports=$=function(){function Z(Q){this.assertLegalName=J(this.assertLegalName,this),this.assertLegalChar=J(this.assertLegalChar,this);var Y,G,H;if(Q||(Q={}),this.options=Q,!this.options.version)this.options.version="1.0";G=Q.stringify||{};for(Y in G){if(!K.call(G,Y))continue;H=G[Y],this[Y]=H}}return Z.prototype.name=function(Q){if(this.options.noValidation)return Q;return this.assertLegalName(""+Q||"")},Z.prototype.text=function(Q){if(this.options.noValidation)return Q;return this.assertLegalChar(this.textEscape(""+Q||""))},Z.prototype.cdata=function(Q){if(this.options.noValidation)return Q;return Q=""+Q||"",Q=Q.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(Q)},Z.prototype.comment=function(Q){if(this.options.noValidation)return Q;if(Q=""+Q||"",Q.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+Q);return this.assertLegalChar(Q)},Z.prototype.raw=function(Q){if(this.options.noValidation)return Q;return""+Q||""},Z.prototype.attValue=function(Q){if(this.options.noValidation)return Q;return this.assertLegalChar(this.attEscape(Q=""+Q||""))},Z.prototype.insTarget=function(Q){if(this.options.noValidation)return Q;return this.assertLegalChar(""+Q||"")},Z.prototype.insValue=function(Q){if(this.options.noValidation)return Q;if(Q=""+Q||"",Q.match(/\?>/))throw new Error("Invalid processing instruction value: "+Q);return this.assertLegalChar(Q)},Z.prototype.xmlVersion=function(Q){if(this.options.noValidation)return Q;if(Q=""+Q||"",!Q.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+Q);return Q},Z.prototype.xmlEncoding=function(Q){if(this.options.noValidation)return Q;if(Q=""+Q||"",!Q.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+Q);return this.assertLegalChar(Q)},Z.prototype.xmlStandalone=function(Q){if(this.options.noValidation)return Q;if(Q)return"yes";else return"no"},Z.prototype.dtdPubID=function(Q){if(this.options.noValidation)return Q;return this.assertLegalChar(""+Q||"")},Z.prototype.dtdSysID=function(Q){if(this.options.noValidation)return Q;return this.assertLegalChar(""+Q||"")},Z.prototype.dtdElementValue=function(Q){if(this.options.noValidation)return Q;return this.assertLegalChar(""+Q||"")},Z.prototype.dtdAttType=function(Q){if(this.options.noValidation)return Q;return this.assertLegalChar(""+Q||"")},Z.prototype.dtdAttDefault=function(Q){if(this.options.noValidation)return Q;return this.assertLegalChar(""+Q||"")},Z.prototype.dtdEntityValue=function(Q){if(this.options.noValidation)return Q;return this.assertLegalChar(""+Q||"")},Z.prototype.dtdNData=function(Q){if(this.options.noValidation)return Q;return this.assertLegalChar(""+Q||"")},Z.prototype.convertAttKey="@",Z.prototype.convertPIKey="?",Z.prototype.convertTextKey="#text",Z.prototype.convertCDataKey="#cdata",Z.prototype.convertCommentKey="#comment",Z.prototype.convertRawKey="#raw",Z.prototype.assertLegalChar=function(Q){var Y,G;if(this.options.noValidation)return Q;if(Y="",this.options.version==="1.0"){if(Y=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,G=Q.match(Y))throw new Error("Invalid character in string: "+Q+" at index "+G.index)}else if(this.options.version==="1.1"){if(Y=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,G=Q.match(Y))throw new Error("Invalid character in string: "+Q+" at index "+G.index)}return Q},Z.prototype.assertLegalName=function(Q){var Y;if(this.options.noValidation)return Q;if(this.assertLegalChar(Q),Y=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!Q.match(Y))throw new Error("Invalid character in name");return Q},Z.prototype.textEscape=function(Q){var Y;if(this.options.noValidation)return Q;return Y=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,Q.replace(Y,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},Z.prototype.attEscape=function(Q){var Y;if(this.options.noValidation)return Q;return Y=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,Q.replace(Y,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},Z}()}).call(AW)});var e6=l((FW,XW)=>{(function(){XW.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(FW)});var iJ=l((EW,CW)=>{(function(){var $,J,K,Z,Q,Y,G,H,q,V,W,U,R,O,B,M,C,E={}.hasOwnProperty;C=d8().assign,$=p0(),q=f$(),V=n$(),K=u$(),Z=m$(),U=b$(),O=i$(),B=o$(),R=r$(),W=lJ(),Q=c$(),Y=p$(),G=d$(),H=l$(),J=e6(),CW.exports=M=function(){function T(L){var X,z,N;L||(L={}),this.options=L,z=L.writer||{};for(X in z){if(!E.call(z,X))continue;N=z[X],this["_"+X]=this[X],this[X]=N}}return T.prototype.filterOptions=function(L){var X,z,N,P,S,k,w,j;if(L||(L={}),L=C({},this.options,L),X={writer:this},X.pretty=L.pretty||!1,X.allowEmpty=L.allowEmpty||!1,X.indent=(z=L.indent)!=null?z:"  ",X.newline=(N=L.newline)!=null?N:"\n",X.offset=(P=L.offset)!=null?P:0,X.dontPrettyTextNodes=(S=(k=L.dontPrettyTextNodes)!=null?k:L.dontprettytextnodes)!=null?S:0,X.spaceBeforeSlash=(w=(j=L.spaceBeforeSlash)!=null?j:L.spacebeforeslash)!=null?w:"",X.spaceBeforeSlash===!0)X.spaceBeforeSlash=" ";return X.suppressPrettyCount=0,X.user={},X.state=J.None,X},T.prototype.indent=function(L,X,z){var N;if(!X.pretty||X.suppressPrettyCount)return"";else if(X.pretty){if(N=(z||0)+X.offset+1,N>0)return new Array(N).join(X.indent)}return""},T.prototype.endline=function(L,X,z){if(!X.pretty||X.suppressPrettyCount)return"";else return X.newline},T.prototype.attribute=function(L,X,z){var N;return this.openAttribute(L,X,z),N=" "+L.name+'="'+L.value+'"',this.closeAttribute(L,X,z),N},T.prototype.cdata=function(L,X,z){var N;return this.openNode(L,X,z),X.state=J.OpenTag,N=this.indent(L,X,z)+"<![CDATA[",X.state=J.InsideTag,N+=L.value,X.state=J.CloseTag,N+="]]>"+this.endline(L,X,z),X.state=J.None,this.closeNode(L,X,z),N},T.prototype.comment=function(L,X,z){var N;return this.openNode(L,X,z),X.state=J.OpenTag,N=this.indent(L,X,z)+"<!-- ",X.state=J.InsideTag,N+=L.value,X.state=J.CloseTag,N+=" -->"+this.endline(L,X,z),X.state=J.None,this.closeNode(L,X,z),N},T.prototype.declaration=function(L,X,z){var N;if(this.openNode(L,X,z),X.state=J.OpenTag,N=this.indent(L,X,z)+"<?xml",X.state=J.InsideTag,N+=' version="'+L.version+'"',L.encoding!=null)N+=' encoding="'+L.encoding+'"';if(L.standalone!=null)N+=' standalone="'+L.standalone+'"';return X.state=J.CloseTag,N+=X.spaceBeforeSlash+"?>",N+=this.endline(L,X,z),X.state=J.None,this.closeNode(L,X,z),N},T.prototype.docType=function(L,X,z){var N,P,S,k,w;if(z||(z=0),this.openNode(L,X,z),X.state=J.OpenTag,k=this.indent(L,X,z),k+="<!DOCTYPE "+L.root().name,L.pubID&&L.sysID)k+=' PUBLIC "'+L.pubID+'" "'+L.sysID+'"';else if(L.sysID)k+=' SYSTEM "'+L.sysID+'"';if(L.children.length>0){k+=" [",k+=this.endline(L,X,z),X.state=J.InsideTag,w=L.children;for(P=0,S=w.length;P<S;P++)N=w[P],k+=this.writeChildNode(N,X,z+1);X.state=J.CloseTag,k+="]"}return X.state=J.CloseTag,k+=X.spaceBeforeSlash+">",k+=this.endline(L,X,z),X.state=J.None,this.closeNode(L,X,z),k},T.prototype.element=function(L,X,z){var N,P,S,k,w,j,v,_,x,b,y,p,g,n;z||(z=0),b=!1,y="",this.openNode(L,X,z),X.state=J.OpenTag,y+=this.indent(L,X,z)+"<"+L.name,p=L.attribs;for(x in p){if(!E.call(p,x))continue;N=p[x],y+=this.attribute(N,X,z)}if(S=L.children.length,k=S===0?null:L.children[0],S===0||L.children.every(function(e){return(e.type===$.Text||e.type===$.Raw)&&e.value===""}))if(X.allowEmpty)y+=">",X.state=J.CloseTag,y+="</"+L.name+">"+this.endline(L,X,z);else X.state=J.CloseTag,y+=X.spaceBeforeSlash+"/>"+this.endline(L,X,z);else if(X.pretty&&S===1&&(k.type===$.Text||k.type===$.Raw)&&k.value!=null)y+=">",X.state=J.InsideTag,X.suppressPrettyCount++,b=!0,y+=this.writeChildNode(k,X,z+1),X.suppressPrettyCount--,b=!1,X.state=J.CloseTag,y+="</"+L.name+">"+this.endline(L,X,z);else{if(X.dontPrettyTextNodes){g=L.children;for(w=0,v=g.length;w<v;w++)if(P=g[w],(P.type===$.Text||P.type===$.Raw)&&P.value!=null){X.suppressPrettyCount++,b=!0;break}}y+=">"+this.endline(L,X,z),X.state=J.InsideTag,n=L.children;for(j=0,_=n.length;j<_;j++)P=n[j],y+=this.writeChildNode(P,X,z+1);if(X.state=J.CloseTag,y+=this.indent(L,X,z)+"</"+L.name+">",b)X.suppressPrettyCount--;y+=this.endline(L,X,z),X.state=J.None}return this.closeNode(L,X,z),y},T.prototype.writeChildNode=function(L,X,z){switch(L.type){case $.CData:return this.cdata(L,X,z);case $.Comment:return this.comment(L,X,z);case $.Element:return this.element(L,X,z);case $.Raw:return this.raw(L,X,z);case $.Text:return this.text(L,X,z);case $.ProcessingInstruction:return this.processingInstruction(L,X,z);case $.Dummy:return"";case $.Declaration:return this.declaration(L,X,z);case $.DocType:return this.docType(L,X,z);case $.AttributeDeclaration:return this.dtdAttList(L,X,z);case $.ElementDeclaration:return this.dtdElement(L,X,z);case $.EntityDeclaration:return this.dtdEntity(L,X,z);case $.NotationDeclaration:return this.dtdNotation(L,X,z);default:throw new Error("Unknown XML node type: "+L.constructor.name)}},T.prototype.processingInstruction=function(L,X,z){var N;if(this.openNode(L,X,z),X.state=J.OpenTag,N=this.indent(L,X,z)+"<?",X.state=J.InsideTag,N+=L.target,L.value)N+=" "+L.value;return X.state=J.CloseTag,N+=X.spaceBeforeSlash+"?>",N+=this.endline(L,X,z),X.state=J.None,this.closeNode(L,X,z),N},T.prototype.raw=function(L,X,z){var N;return this.openNode(L,X,z),X.state=J.OpenTag,N=this.indent(L,X,z),X.state=J.InsideTag,N+=L.value,X.state=J.CloseTag,N+=this.endline(L,X,z),X.state=J.None,this.closeNode(L,X,z),N},T.prototype.text=function(L,X,z){var N;return this.openNode(L,X,z),X.state=J.OpenTag,N=this.indent(L,X,z),X.state=J.InsideTag,N+=L.value,X.state=J.CloseTag,N+=this.endline(L,X,z),X.state=J.None,this.closeNode(L,X,z),N},T.prototype.dtdAttList=function(L,X,z){var N;if(this.openNode(L,X,z),X.state=J.OpenTag,N=this.indent(L,X,z)+"<!ATTLIST",X.state=J.InsideTag,N+=" "+L.elementName+" "+L.attributeName+" "+L.attributeType,L.defaultValueType!=="#DEFAULT")N+=" "+L.defaultValueType;if(L.defaultValue)N+=' "'+L.defaultValue+'"';return X.state=J.CloseTag,N+=X.spaceBeforeSlash+">"+this.endline(L,X,z),X.state=J.None,this.closeNode(L,X,z),N},T.prototype.dtdElement=function(L,X,z){var N;return this.openNode(L,X,z),X.state=J.OpenTag,N=this.indent(L,X,z)+"<!ELEMENT",X.state=J.InsideTag,N+=" "+L.name+" "+L.value,X.state=J.CloseTag,N+=X.spaceBeforeSlash+">"+this.endline(L,X,z),X.state=J.None,this.closeNode(L,X,z),N},T.prototype.dtdEntity=function(L,X,z){var N;if(this.openNode(L,X,z),X.state=J.OpenTag,N=this.indent(L,X,z)+"<!ENTITY",X.state=J.InsideTag,L.pe)N+=" %";if(N+=" "+L.name,L.value)N+=' "'+L.value+'"';else{if(L.pubID&&L.sysID)N+=' PUBLIC "'+L.pubID+'" "'+L.sysID+'"';else if(L.sysID)N+=' SYSTEM "'+L.sysID+'"';if(L.nData)N+=" NDATA "+L.nData}return X.state=J.CloseTag,N+=X.spaceBeforeSlash+">"+this.endline(L,X,z),X.state=J.None,this.closeNode(L,X,z),N},T.prototype.dtdNotation=function(L,X,z){var N;if(this.openNode(L,X,z),X.state=J.OpenTag,N=this.indent(L,X,z)+"<!NOTATION",X.state=J.InsideTag,N+=" "+L.name,L.pubID&&L.sysID)N+=' PUBLIC "'+L.pubID+'" "'+L.sysID+'"';else if(L.pubID)N+=' PUBLIC "'+L.pubID+'"';else if(L.sysID)N+=' SYSTEM "'+L.sysID+'"';return X.state=J.CloseTag,N+=X.spaceBeforeSlash+">"+this.endline(L,X,z),X.state=J.None,this.closeNode(L,X,z),N},T.prototype.openNode=function(L,X,z){},T.prototype.closeNode=function(L,X,z){},T.prototype.openAttribute=function(L,X,z){},T.prototype.closeAttribute=function(L,X,z){},T}()}).call(EW)});var s$=l((LW,MW)=>{(function(){var $,J,K=function(Q,Y){for(var G in Y)if(Z.call(Y,G))Q[G]=Y[G];function H(){this.constructor=Q}return H.prototype=Y.prototype,Q.prototype=new H,Q.__super__=Y.prototype,Q},Z={}.hasOwnProperty;J=iJ(),MW.exports=$=function(Q){K(Y,Q);function Y(G){Y.__super__.constructor.call(this,G)}return Y.prototype.document=function(G,H){var q,V,W,U,R;H=this.filterOptions(H),U="",R=G.children;for(V=0,W=R.length;V<W;V++)q=R[V],U+=this.writeChildNode(q,H,0);if(H.pretty&&U.slice(-H.newline.length)===H.newline)U=U.slice(0,-H.newline.length);return U},Y}(J)}).call(LW)});var oJ=l((SW,jW)=>{(function(){var $,J,K,Z,Q,Y,G,H,q=function(W,U){for(var R in U)if(V.call(U,R))W[R]=U[R];function O(){this.constructor=W}return O.prototype=U.prototype,W.prototype=new O,W.__super__=U.prototype,W},V={}.hasOwnProperty;H=d8().isPlainObject,K=dJ(),J=TV(),Q=z8(),$=p0(),G=nJ(),Y=s$(),jW.exports=Z=function(W){q(U,W);function U(R){if(U.__super__.constructor.call(this,null),this.name="#document",this.type=$.Document,this.documentURI=null,this.domConfig=new J,R||(R={}),!R.writer)R.writer=new Y;this.options=R,this.stringify=new G(R)}return Object.defineProperty(U.prototype,"implementation",{value:new K}),Object.defineProperty(U.prototype,"doctype",{get:function(){var R,O,B,M;M=this.children;for(O=0,B=M.length;O<B;O++)if(R=M[O],R.type===$.DocType)return R;return null}}),Object.defineProperty(U.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(U.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(U.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(U.prototype,"xmlEncoding",{get:function(){if(this.children.length!==0&&this.children[0].type===$.Declaration)return this.children[0].encoding;else return null}}),Object.defineProperty(U.prototype,"xmlStandalone",{get:function(){if(this.children.length!==0&&this.children[0].type===$.Declaration)return this.children[0].standalone==="yes";else return!1}}),Object.defineProperty(U.prototype,"xmlVersion",{get:function(){if(this.children.length!==0&&this.children[0].type===$.Declaration)return this.children[0].version;else return"1.0"}}),Object.defineProperty(U.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(U.prototype,"origin",{get:function(){return null}}),Object.defineProperty(U.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(U.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(U.prototype,"contentType",{get:function(){return null}}),U.prototype.end=function(R){var O={};if(!R)R=this.options.writer;else if(H(R))O=R,R=this.options.writer;return R.document(this,R.filterOptions(O))},U.prototype.toString=function(R){return this.options.writer.document(this,this.options.writer.filterOptions(R))},U.prototype.createElement=function(R){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.createTextNode=function(R){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.createComment=function(R){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.createCDATASection=function(R){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.createProcessingInstruction=function(R,O){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.createAttribute=function(R){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.createEntityReference=function(R){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.getElementsByTagName=function(R){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.importNode=function(R,O){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.createElementNS=function(R,O){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.createAttributeNS=function(R,O){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.getElementsByTagNameNS=function(R,O){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.getElementById=function(R){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.adoptNode=function(R){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.renameNode=function(R,O,B){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.getElementsByClassName=function(R){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.createEvent=function(R){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.createNodeIterator=function(R,O,B){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.createTreeWalker=function(R,O,B){throw new Error("This DOM method is not implemented."+this.debugInfo())},U}(Q)}).call(SW)});var wW=l((IW,TW)=>{(function(){var $,J,K,Z,Q,Y,G,H,q,V,W,U,R,O,B,M,C,E,T,L,X,z,N,P,S={}.hasOwnProperty;P=d8(),z=P.isObject,X=P.isFunction,N=P.isPlainObject,L=P.getValue,$=p0(),U=oJ(),O=b$(),Z=u$(),Q=m$(),M=i$(),T=o$(),B=r$(),V=f$(),W=n$(),Y=c$(),H=d$(),G=p$(),q=l$(),K=pJ(),E=nJ(),C=s$(),J=e6(),TW.exports=R=function(){function k(w,j,v){var _;if(this.name="?xml",this.type=$.Document,w||(w={}),_={},!w.writer)w.writer=new C;else if(N(w.writer))_=w.writer,w.writer=new C;this.options=w,this.writer=w.writer,this.writerOptions=this.writer.filterOptions(_),this.stringify=new E(w),this.onDataCallback=j||function(){},this.onEndCallback=v||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return k.prototype.createChildNode=function(w){var j,v,_,x,b,y,p,g;switch(w.type){case $.CData:this.cdata(w.value);break;case $.Comment:this.comment(w.value);break;case $.Element:_={},p=w.attribs;for(v in p){if(!S.call(p,v))continue;j=p[v],_[v]=j.value}this.node(w.name,_);break;case $.Dummy:this.dummy();break;case $.Raw:this.raw(w.value);break;case $.Text:this.text(w.value);break;case $.ProcessingInstruction:this.instruction(w.target,w.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+w.constructor.name)}g=w.children;for(b=0,y=g.length;b<y;b++)if(x=g[b],this.createChildNode(x),x.type===$.Element)this.up();return this},k.prototype.dummy=function(){return this},k.prototype.node=function(w,j,v){var _;if(w==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(w));if(this.openCurrent(),w=L(w),j==null)j={};if(j=L(j),!z(j))_=[j,v],v=_[0],j=_[1];if(this.currentNode=new O(this,w,j),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,v!=null)this.text(v);return this},k.prototype.element=function(w,j,v){var _,x,b,y,p,g;if(this.currentNode&&this.currentNode.type===$.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(w)||z(w)||X(w)){y=this.options.noValidation,this.options.noValidation=!0,g=new U(this.options).element("TEMP_ROOT"),g.element(w),this.options.noValidation=y,p=g.children;for(x=0,b=p.length;x<b;x++)if(_=p[x],this.createChildNode(_),_.type===$.Element)this.up()}else this.node(w,j,v);return this},k.prototype.attribute=function(w,j){var v,_;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(w));if(w!=null)w=L(w);if(z(w))for(v in w){if(!S.call(w,v))continue;_=w[v],this.attribute(v,_)}else{if(X(j))j=j.apply();if(this.options.keepNullAttributes&&j==null)this.currentNode.attribs[w]=new K(this,w,"");else if(j!=null)this.currentNode.attribs[w]=new K(this,w,j)}return this},k.prototype.text=function(w){var j;return this.openCurrent(),j=new T(this,w),this.onData(this.writer.text(j,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.cdata=function(w){var j;return this.openCurrent(),j=new Z(this,w),this.onData(this.writer.cdata(j,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.comment=function(w){var j;return this.openCurrent(),j=new Q(this,w),this.onData(this.writer.comment(j,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.raw=function(w){var j;return this.openCurrent(),j=new M(this,w),this.onData(this.writer.raw(j,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.instruction=function(w,j){var v,_,x,b,y;if(this.openCurrent(),w!=null)w=L(w);if(j!=null)j=L(j);if(Array.isArray(w))for(v=0,b=w.length;v<b;v++)_=w[v],this.instruction(_);else if(z(w))for(_ in w){if(!S.call(w,_))continue;x=w[_],this.instruction(_,x)}else{if(X(j))j=j.apply();y=new B(this,w,j),this.onData(this.writer.processingInstruction(y,this.writerOptions,this.currentLevel+1),this.currentLevel+1)}return this},k.prototype.declaration=function(w,j,v){var _;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return _=new V(this,w,j,v),this.onData(this.writer.declaration(_,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.doctype=function(w,j,v){if(this.openCurrent(),w==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new W(this,j,v),this.currentNode.rootNodeName=w,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},k.prototype.dtdElement=function(w,j){var v;return this.openCurrent(),v=new G(this,w,j),this.onData(this.writer.dtdElement(v,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.attList=function(w,j,v,_,x){var b;return this.openCurrent(),b=new Y(this,w,j,v,_,x),this.onData(this.writer.dtdAttList(b,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.entity=function(w,j){var v;return this.openCurrent(),v=new H(this,!1,w,j),this.onData(this.writer.dtdEntity(v,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.pEntity=function(w,j){var v;return this.openCurrent(),v=new H(this,!0,w,j),this.onData(this.writer.dtdEntity(v,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.notation=function(w,j){var v;return this.openCurrent(),v=new q(this,w,j),this.onData(this.writer.dtdNotation(v,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");if(this.currentNode){if(this.currentNode.children)this.closeNode(this.currentNode);else this.openNode(this.currentNode);this.currentNode=null}else this.closeNode(this.openTags[this.currentLevel]);return delete this.openTags[this.currentLevel],this.currentLevel--,this},k.prototype.end=function(){while(this.currentLevel>=0)this.up();return this.onEnd()},k.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},k.prototype.openNode=function(w){var j,v,_,x;if(!w.isOpen){if(!this.root&&this.currentLevel===0&&w.type===$.Element)this.root=w;if(v="",w.type===$.Element){this.writerOptions.state=J.OpenTag,v=this.writer.indent(w,this.writerOptions,this.currentLevel)+"<"+w.name,x=w.attribs;for(_ in x){if(!S.call(x,_))continue;j=x[_],v+=this.writer.attribute(j,this.writerOptions,this.currentLevel)}v+=(w.children?">":"/>")+this.writer.endline(w,this.writerOptions,this.currentLevel),this.writerOptions.state=J.InsideTag}else{if(this.writerOptions.state=J.OpenTag,v=this.writer.indent(w,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+w.rootNodeName,w.pubID&&w.sysID)v+=' PUBLIC "'+w.pubID+'" "'+w.sysID+'"';else if(w.sysID)v+=' SYSTEM "'+w.sysID+'"';if(w.children)v+=" [",this.writerOptions.state=J.InsideTag;else this.writerOptions.state=J.CloseTag,v+=">";v+=this.writer.endline(w,this.writerOptions,this.currentLevel)}return this.onData(v,this.currentLevel),w.isOpen=!0}},k.prototype.closeNode=function(w){var j;if(!w.isClosed){if(j="",this.writerOptions.state=J.CloseTag,w.type===$.Element)j=this.writer.indent(w,this.writerOptions,this.currentLevel)+"</"+w.name+">"+this.writer.endline(w,this.writerOptions,this.currentLevel);else j=this.writer.indent(w,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(w,this.writerOptions,this.currentLevel);return this.writerOptions.state=J.None,this.onData(j,this.currentLevel),w.isClosed=!0}},k.prototype.onData=function(w,j){return this.documentStarted=!0,this.onDataCallback(w,j+1)},k.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},k.prototype.debugInfo=function(w){if(w==null)return"";else return"node: <"+w+">"},k.prototype.ele=function(){return this.element.apply(this,arguments)},k.prototype.nod=function(w,j,v){return this.node(w,j,v)},k.prototype.txt=function(w){return this.text(w)},k.prototype.dat=function(w){return this.cdata(w)},k.prototype.com=function(w){return this.comment(w)},k.prototype.ins=function(w,j){return this.instruction(w,j)},k.prototype.dec=function(w,j,v){return this.declaration(w,j,v)},k.prototype.dtd=function(w,j,v){return this.doctype(w,j,v)},k.prototype.e=function(w,j,v){return this.element(w,j,v)},k.prototype.n=function(w,j,v){return this.node(w,j,v)},k.prototype.t=function(w){return this.text(w)},k.prototype.d=function(w){return this.cdata(w)},k.prototype.c=function(w){return this.comment(w)},k.prototype.r=function(w){return this.raw(w)},k.prototype.i=function(w,j){return this.instruction(w,j)},k.prototype.att=function(){if(this.currentNode&&this.currentNode.type===$.DocType)return this.attList.apply(this,arguments);else return this.attribute.apply(this,arguments)},k.prototype.a=function(){if(this.currentNode&&this.currentNode.type===$.DocType)return this.attList.apply(this,arguments);else return this.attribute.apply(this,arguments)},k.prototype.ent=function(w,j){return this.entity(w,j)},k.prototype.pent=function(w,j){return this.pEntity(w,j)},k.prototype.not=function(w,j){return this.notation(w,j)},k}()}).call(IW)});var vW=l((DW,kW)=>{(function(){var $,J,K,Z,Q=function(G,H){for(var q in H)if(Y.call(H,q))G[q]=H[q];function V(){this.constructor=G}return V.prototype=H.prototype,G.prototype=new V,G.__super__=H.prototype,G},Y={}.hasOwnProperty;$=p0(),Z=iJ(),J=e6(),kW.exports=K=function(G){Q(H,G);function H(q,V){this.stream=q,H.__super__.constructor.call(this,V)}return H.prototype.endline=function(q,V,W){if(q.isLastRootNode&&V.state===J.CloseTag)return"";else return H.__super__.endline.call(this,q,V,W)},H.prototype.document=function(q,V){var W,U,R,O,B,M,C,E,T;C=q.children;for(U=R=0,B=C.length;R<B;U=++R)W=C[U],W.isLastRootNode=U===q.children.length-1;V=this.filterOptions(V),E=q.children,T=[];for(O=0,M=E.length;O<M;O++)W=E[O],T.push(this.writeChildNode(W,V,0));return T},H.prototype.attribute=function(q,V,W){return this.stream.write(H.__super__.attribute.call(this,q,V,W))},H.prototype.cdata=function(q,V,W){return this.stream.write(H.__super__.cdata.call(this,q,V,W))},H.prototype.comment=function(q,V,W){return this.stream.write(H.__super__.comment.call(this,q,V,W))},H.prototype.declaration=function(q,V,W){return this.stream.write(H.__super__.declaration.call(this,q,V,W))},H.prototype.docType=function(q,V,W){var U,R,O,B;if(W||(W=0),this.openNode(q,V,W),V.state=J.OpenTag,this.stream.write(this.indent(q,V,W)),this.stream.write("<!DOCTYPE "+q.root().name),q.pubID&&q.sysID)this.stream.write(' PUBLIC "'+q.pubID+'" "'+q.sysID+'"');else if(q.sysID)this.stream.write(' SYSTEM "'+q.sysID+'"');if(q.children.length>0){this.stream.write(" ["),this.stream.write(this.endline(q,V,W)),V.state=J.InsideTag,B=q.children;for(R=0,O=B.length;R<O;R++)U=B[R],this.writeChildNode(U,V,W+1);V.state=J.CloseTag,this.stream.write("]")}return V.state=J.CloseTag,this.stream.write(V.spaceBeforeSlash+">"),this.stream.write(this.endline(q,V,W)),V.state=J.None,this.closeNode(q,V,W)},H.prototype.element=function(q,V,W){var U,R,O,B,M,C,E,T,L,X;W||(W=0),this.openNode(q,V,W),V.state=J.OpenTag,this.stream.write(this.indent(q,V,W)+"<"+q.name),L=q.attribs;for(E in L){if(!Y.call(L,E))continue;U=L[E],this.attribute(U,V,W)}if(O=q.children.length,B=O===0?null:q.children[0],O===0||q.children.every(function(z){return(z.type===$.Text||z.type===$.Raw)&&z.value===""}))if(V.allowEmpty)this.stream.write(">"),V.state=J.CloseTag,this.stream.write("</"+q.name+">");else V.state=J.CloseTag,this.stream.write(V.spaceBeforeSlash+"/>");else if(V.pretty&&O===1&&(B.type===$.Text||B.type===$.Raw)&&B.value!=null)this.stream.write(">"),V.state=J.InsideTag,V.suppressPrettyCount++,T=!0,this.writeChildNode(B,V,W+1),V.suppressPrettyCount--,T=!1,V.state=J.CloseTag,this.stream.write("</"+q.name+">");else{this.stream.write(">"+this.endline(q,V,W)),V.state=J.InsideTag,X=q.children;for(M=0,C=X.length;M<C;M++)R=X[M],this.writeChildNode(R,V,W+1);V.state=J.CloseTag,this.stream.write(this.indent(q,V,W)+"</"+q.name+">")}return this.stream.write(this.endline(q,V,W)),V.state=J.None,this.closeNode(q,V,W)},H.prototype.processingInstruction=function(q,V,W){return this.stream.write(H.__super__.processingInstruction.call(this,q,V,W))},H.prototype.raw=function(q,V,W){return this.stream.write(H.__super__.raw.call(this,q,V,W))},H.prototype.text=function(q,V,W){return this.stream.write(H.__super__.text.call(this,q,V,W))},H.prototype.dtdAttList=function(q,V,W){return this.stream.write(H.__super__.dtdAttList.call(this,q,V,W))},H.prototype.dtdElement=function(q,V,W){return this.stream.write(H.__super__.dtdElement.call(this,q,V,W))},H.prototype.dtdEntity=function(q,V,W){return this.stream.write(H.__super__.dtdEntity.call(this,q,V,W))},H.prototype.dtdNotation=function(q,V,W){return this.stream.write(H.__super__.dtdNotation.call(this,q,V,W))},H}(Z)}).call(DW)});var yW=l((_W,A5)=>{(function(){var $,J,K,Z,Q,Y,G,H,q,V;V=d8(),H=V.assign,q=V.isFunction,K=dJ(),Z=oJ(),Q=wW(),G=s$(),Y=vW(),$=p0(),J=e6(),_W.create=function(W,U,R,O){var B,M;if(W==null)throw new Error("Root element needs a name.");if(O=H({},U,R,O),B=new Z(O),M=B.element(W),!O.headless){if(B.declaration(O),O.pubID!=null||O.sysID!=null)B.dtd(O)}return M},_W.begin=function(W,U,R){var O;if(q(W))O=[W,U],U=O[0],R=O[1],W={};if(U)return new Q(W,U,R);else return new Z(W)},_W.stringWriter=function(W){return new G(W)},_W.streamWriter=function(W,U){return new Y(W,U)},_W.implementation=new K,_W.nodeType=$,_W.writerState=J}).call(_W)});var gW=l((xW)=>{(function(){var $,J,K,Z,Q,Y={}.hasOwnProperty;$=yW(),J=g$().defaults,Z=function(G){return typeof G==="string"&&(G.indexOf("&")>=0||G.indexOf(">")>=0||G.indexOf("<")>=0)},Q=function(G){return"<![CDATA["+K(G)+"]]>"},K=function(G){return G.replace("]]>","]]]]><![CDATA[>")},xW.Builder=function(){function G(H){var q,V,W;this.options={},V=J["0.2"];for(q in V){if(!Y.call(V,q))continue;W=V[q],this.options[q]=W}for(q in H){if(!Y.call(H,q))continue;W=H[q],this.options[q]=W}}return G.prototype.buildObject=function(H){var q,V,W,U,R;if(q=this.options.attrkey,V=this.options.charkey,Object.keys(H).length===1&&this.options.rootName===J["0.2"].rootName)R=Object.keys(H)[0],H=H[R];else R=this.options.rootName;return W=function(O){return function(B,M){var C,E,T,L,X,z;if(typeof M!=="object")if(O.options.cdata&&Z(M))B.raw(Q(M));else B.txt(M);else if(Array.isArray(M))for(L in M){if(!Y.call(M,L))continue;E=M[L];for(X in E)T=E[X],B=W(B.ele(X),T).up()}else for(X in M){if(!Y.call(M,X))continue;if(E=M[X],X===q){if(typeof E==="object")for(C in E)z=E[C],B=B.att(C,z)}else if(X===V)if(O.options.cdata&&Z(E))B=B.raw(Q(E));else B=B.txt(E);else if(Array.isArray(E))for(L in E){if(!Y.call(E,L))continue;if(T=E[L],typeof T==="string")if(O.options.cdata&&Z(T))B=B.ele(X).raw(Q(T)).up();else B=B.ele(X,T).up();else B=W(B.ele(X),T).up()}else if(typeof E==="object")B=W(B.ele(X),E).up();else if(typeof E==="string"&&O.options.cdata&&Z(E))B=B.ele(X).raw(Q(E)).up();else{if(E==null)E="";B=B.ele(X,E.toString()).up()}}return B}}(this),U=$.create(R,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),W(U,H).end(this.options.renderOpts)},G}()}).call(xW)});var hW=l((a$)=>{(function($){$.parser=function(F,A){return new K(F,A)},$.SAXParser=K,$.SAXStream=V,$.createStream=q,$.MAX_BUFFER_LENGTH=65536;var J=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];$.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function K(F,A){if(!(this instanceof K))return new K(F,A);var I=this;if(Q(I),I.q=I.c="",I.bufferCheckPosition=$.MAX_BUFFER_LENGTH,I.opt=A||{},I.opt.lowercase=I.opt.lowercase||I.opt.lowercasetags,I.looseCase=I.opt.lowercase?"toLowerCase":"toUpperCase",I.tags=[],I.closed=I.closedRoot=I.sawRoot=!1,I.tag=I.error=null,I.strict=!!F,I.noscript=!!(F||I.opt.noscript),I.state=S.BEGIN,I.strictEntities=I.opt.strictEntities,I.ENTITIES=I.strictEntities?Object.create($.XML_ENTITIES):Object.create($.ENTITIES),I.attribList=[],I.opt.xmlns)I.ns=Object.create(B);if(I.trackPosition=I.opt.position!==!1,I.trackPosition)I.position=I.line=I.column=0;w(I,"onready")}if(!Object.create)Object.create=function(F){function A(){}A.prototype=F;var I=new A;return I};if(!Object.keys)Object.keys=function(F){var A=[];for(var I in F)if(F.hasOwnProperty(I))A.push(I);return A};function Z(F){var A=Math.max($.MAX_BUFFER_LENGTH,10),I=0;for(var D=0,c=J.length;D<c;D++){var m=F[J[D]].length;if(m>A)switch(J[D]){case"textNode":v(F);break;case"cdata":j(F,"oncdata",F.cdata),F.cdata="";break;case"script":j(F,"onscript",F.script),F.script="";break;default:x(F,"Max buffer length exceeded: "+J[D])}I=Math.max(I,m)}var f=$.MAX_BUFFER_LENGTH-I;F.bufferCheckPosition=f+F.position}function Q(F){for(var A=0,I=J.length;A<I;A++)F[J[A]]=""}function Y(F){if(v(F),F.cdata!=="")j(F,"oncdata",F.cdata),F.cdata="";if(F.script!=="")j(F,"onscript",F.script),F.script=""}K.prototype={end:function(){b(this)},write:u,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){Y(this)}};var G;try{G=import.meta.require("stream").Stream}catch(F){G=function(){}}if(!G)G=function(){};var H=$.EVENTS.filter(function(F){return F!=="error"&&F!=="end"});function q(F,A){return new V(F,A)}function V(F,A){if(!(this instanceof V))return new V(F,A);G.apply(this),this._parser=new K(F,A),this.writable=!0,this.readable=!0;var I=this;this._parser.onend=function(){I.emit("end")},this._parser.onerror=function(D){I.emit("error",D),I._parser.error=null},this._decoder=null,H.forEach(function(D){Object.defineProperty(I,"on"+D,{get:function(){return I._parser["on"+D]},set:function(c){if(!c)return I.removeAllListeners(D),I._parser["on"+D]=c,c;I.on(D,c)},enumerable:!0,configurable:!1})})}V.prototype=Object.create(G.prototype,{constructor:{value:V}}),V.prototype.write=function(F){if(typeof Buffer==="function"&&typeof Buffer.isBuffer==="function"&&Buffer.isBuffer(F)){if(!this._decoder){var A=import.meta.require("string_decoder").StringDecoder;this._decoder=new A("utf8")}F=this._decoder.write(F)}return this._parser.write(F.toString()),this.emit("data",F),!0},V.prototype.end=function(F){if(F&&F.length)this.write(F);return this._parser.end(),!0},V.prototype.on=function(F,A){var I=this;if(!I._parser["on"+F]&&H.indexOf(F)!==-1)I._parser["on"+F]=function(){var D=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);D.splice(0,0,F),I.emit.apply(I,D)};return G.prototype.on.call(I,F,A)};var W="[CDATA[",U="DOCTYPE",R="http://www.w3.org/XML/1998/namespace",O="http://www.w3.org/2000/xmlns/",B={xml:R,xmlns:O},M=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,C=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,E=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function L(F){return F===" "||F==="\n"||F==="\r"||F==="\t"}function X(F){return F==='"'||F==="\'"}function z(F){return F===">"||L(F)}function N(F,A){return F.test(A)}function P(F,A){return!N(F,A)}var S=0;$.STATE={BEGIN:S++,BEGIN_WHITESPACE:S++,TEXT:S++,TEXT_ENTITY:S++,OPEN_WAKA:S++,SGML_DECL:S++,SGML_DECL_QUOTED:S++,DOCTYPE:S++,DOCTYPE_QUOTED:S++,DOCTYPE_DTD:S++,DOCTYPE_DTD_QUOTED:S++,COMMENT_STARTING:S++,COMMENT:S++,COMMENT_ENDING:S++,COMMENT_ENDED:S++,CDATA:S++,CDATA_ENDING:S++,CDATA_ENDING_2:S++,PROC_INST:S++,PROC_INST_BODY:S++,PROC_INST_ENDING:S++,OPEN_TAG:S++,OPEN_TAG_SLASH:S++,ATTRIB:S++,ATTRIB_NAME:S++,ATTRIB_NAME_SAW_WHITE:S++,ATTRIB_VALUE:S++,ATTRIB_VALUE_QUOTED:S++,ATTRIB_VALUE_CLOSED:S++,ATTRIB_VALUE_UNQUOTED:S++,ATTRIB_VALUE_ENTITY_Q:S++,ATTRIB_VALUE_ENTITY_U:S++,CLOSE_TAG:S++,CLOSE_TAG_SAW_WHITE:S++,SCRIPT:S++,SCRIPT_ENDING:S++},$.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},$.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys($.ENTITIES).forEach(function(F){var A=$.ENTITIES[F],I=typeof A==="number"?String.fromCharCode(A):A;$.ENTITIES[F]=I});for(var k in $.STATE)$.STATE[$.STATE[k]]=k;S=$.STATE;function w(F,A,I){F[A]&&F[A](I)}function j(F,A,I){if(F.textNode)v(F);w(F,A,I)}function v(F){if(F.textNode=_(F.opt,F.textNode),F.textNode)w(F,"ontext",F.textNode);F.textNode=""}function _(F,A){if(F.trim)A=A.trim();if(F.normalize)A=A.replace(/\s+/g," ");return A}function x(F,A){if(v(F),F.trackPosition)A+="\nLine: "+F.line+"\nColumn: "+F.column+"\nChar: "+F.c;return A=new Error(A),F.error=A,w(F,"onerror",A),F}function b(F){if(F.sawRoot&&!F.closedRoot)y(F,"Unclosed root tag");if(F.state!==S.BEGIN&&F.state!==S.BEGIN_WHITESPACE&&F.state!==S.TEXT)x(F,"Unexpected end");return v(F),F.c="",F.closed=!0,w(F,"onend"),K.call(F,F.strict,F.opt),F}function y(F,A){if(typeof F!=="object"||!(F instanceof K))throw new Error("bad call to strictFail");if(F.strict)x(F,A)}function p(F){if(!F.strict)F.tagName=F.tagName[F.looseCase]();var A=F.tags[F.tags.length-1]||F,I=F.tag={name:F.tagName,attributes:{}};if(F.opt.xmlns)I.ns=A.ns;F.attribList.length=0,j(F,"onopentagstart",I)}function g(F,A){var I=F.indexOf(":"),D=I<0?["",F]:F.split(":"),c=D[0],m=D[1];if(A&&F==="xmlns")c="xmlns",m="";return{prefix:c,local:m}}function n(F){if(!F.strict)F.attribName=F.attribName[F.looseCase]();if(F.attribList.indexOf(F.attribName)!==-1||F.tag.attributes.hasOwnProperty(F.attribName)){F.attribName=F.attribValue="";return}if(F.opt.xmlns){var A=g(F.attribName,!0),I=A.prefix,D=A.local;if(I==="xmlns")if(D==="xml"&&F.attribValue!==R)y(F,"xml: prefix must be bound to "+R+"\nActual: "+F.attribValue);else if(D==="xmlns"&&F.attribValue!==O)y(F,"xmlns: prefix must be bound to "+O+"\nActual: "+F.attribValue);else{var c=F.tag,m=F.tags[F.tags.length-1]||F;if(c.ns===m.ns)c.ns=Object.create(m.ns);c.ns[D]=F.attribValue}F.attribList.push([F.attribName,F.attribValue])}else F.tag.attributes[F.attribName]=F.attribValue,j(F,"onattribute",{name:F.attribName,value:F.attribValue});F.attribName=F.attribValue=""}function e(F,A){if(F.opt.xmlns){var I=F.tag,D=g(F.tagName);if(I.prefix=D.prefix,I.local=D.local,I.uri=I.ns[D.prefix]||"",I.prefix&&!I.uri)y(F,"Unbound namespace prefix: "+JSON.stringify(F.tagName)),I.uri=D.prefix;var c=F.tags[F.tags.length-1]||F;if(I.ns&&c.ns!==I.ns)Object.keys(I.ns).forEach(function(q0){j(F,"onopennamespace",{prefix:q0,uri:I.ns[q0]})});for(var m=0,f=F.attribList.length;m<f;m++){var i=F.attribList[m],a=i[0],$0=i[1],Q0=g(a,!0),W0=Q0.prefix,r=Q0.local,G0=W0===""?"":I.ns[W0]||"",K0={name:a,value:$0,prefix:W0,local:r,uri:G0};if(W0&&W0!=="xmlns"&&!G0)y(F,"Unbound namespace prefix: "+JSON.stringify(W0)),K0.uri=W0;F.tag.attributes[a]=K0,j(F,"onattribute",K0)}F.attribList.length=0}if(F.tag.isSelfClosing=!!A,F.sawRoot=!0,F.tags.push(F.tag),j(F,"onopentag",F.tag),!A){if(!F.noscript&&F.tagName.toLowerCase()==="script")F.state=S.SCRIPT;else F.state=S.TEXT;F.tag=null,F.tagName=""}F.attribName=F.attribValue="",F.attribList.length=0}function o(F){if(!F.tagName){y(F,"Weird empty close tag."),F.textNode+="</>",F.state=S.TEXT;return}if(F.script){if(F.tagName!=="script"){F.script+="</"+F.tagName+">",F.tagName="",F.state=S.SCRIPT;return}j(F,"onscript",F.script),F.script=""}var A=F.tags.length,I=F.tagName;if(!F.strict)I=I[F.looseCase]();var D=I;while(A--){var c=F.tags[A];if(c.name!==D)y(F,"Unexpected close tag");else break}if(A<0){y(F,"Unmatched closing tag: "+F.tagName),F.textNode+="</"+F.tagName+">",F.state=S.TEXT;return}F.tagName=I;var m=F.tags.length;while(m-- >A){var f=F.tag=F.tags.pop();F.tagName=F.tag.name,j(F,"onclosetag",F.tagName);var i={};for(var a in f.ns)i[a]=f.ns[a];var $0=F.tags[F.tags.length-1]||F;if(F.opt.xmlns&&f.ns!==$0.ns)Object.keys(f.ns).forEach(function(Q0){var W0=f.ns[Q0];j(F,"onclosenamespace",{prefix:Q0,uri:W0})})}if(A===0)F.closedRoot=!0;F.tagName=F.attribValue=F.attribName="",F.attribList.length=0,F.state=S.TEXT}function t(F){var A=F.entity,I=A.toLowerCase(),D,c="";if(F.ENTITIES[A])return F.ENTITIES[A];if(F.ENTITIES[I])return F.ENTITIES[I];if(A=I,A.charAt(0)==="#")if(A.charAt(1)==="x")A=A.slice(2),D=parseInt(A,16),c=D.toString(16);else A=A.slice(1),D=parseInt(A,10),c=D.toString(10);if(A=A.replace(/^0+/,""),isNaN(D)||c.toLowerCase()!==A)return y(F,"Invalid character entity"),"&"+F.entity+";";return String.fromCodePoint(D)}function d(F,A){if(A==="<")F.state=S.OPEN_WAKA,F.startTagPosition=F.position;else if(!L(A))y(F,"Non-whitespace before first tag."),F.textNode=A,F.state=S.TEXT}function h(F,A){var I="";if(A<F.length)I=F.charAt(A);return I}function u(F){var A=this;if(this.error)throw this.error;if(A.closed)return x(A,"Cannot write after close. Assign an onready handler.");if(F===null)return b(A);if(typeof F==="object")F=F.toString();var I=0,D="";while(!0){if(D=h(F,I++),A.c=D,!D)break;if(A.trackPosition)if(A.position++,D==="\n")A.line++,A.column=0;else A.column++;switch(A.state){case S.BEGIN:if(A.state=S.BEGIN_WHITESPACE,D==="\uFEFF")continue;d(A,D);continue;case S.BEGIN_WHITESPACE:d(A,D);continue;case S.TEXT:if(A.sawRoot&&!A.closedRoot){var c=I-1;while(D&&D!=="<"&&D!=="&")if(D=h(F,I++),D&&A.trackPosition)if(A.position++,D==="\n")A.line++,A.column=0;else A.column++;A.textNode+=F.substring(c,I-1)}if(D==="<"&&!(A.sawRoot&&A.closedRoot&&!A.strict))A.state=S.OPEN_WAKA,A.startTagPosition=A.position;else{if(!L(D)&&(!A.sawRoot||A.closedRoot))y(A,"Text data outside of root node.");if(D==="&")A.state=S.TEXT_ENTITY;else A.textNode+=D}continue;case S.SCRIPT:if(D==="<")A.state=S.SCRIPT_ENDING;else A.script+=D;continue;case S.SCRIPT_ENDING:if(D==="/")A.state=S.CLOSE_TAG;else A.script+="<"+D,A.state=S.SCRIPT;continue;case S.OPEN_WAKA:if(D==="!")A.state=S.SGML_DECL,A.sgmlDecl="";else if(L(D));else if(N(M,D))A.state=S.OPEN_TAG,A.tagName=D;else if(D==="/")A.state=S.CLOSE_TAG,A.tagName="";else if(D==="?")A.state=S.PROC_INST,A.procInstName=A.procInstBody="";else{if(y(A,"Unencoded <"),A.startTagPosition+1<A.position){var m=A.position-A.startTagPosition;D=new Array(m).join(" ")+D}A.textNode+="<"+D,A.state=S.TEXT}continue;case S.SGML_DECL:if((A.sgmlDecl+D).toUpperCase()===W)j(A,"onopencdata"),A.state=S.CDATA,A.sgmlDecl="",A.cdata="";else if(A.sgmlDecl+D==="--")A.state=S.COMMENT,A.comment="",A.sgmlDecl="";else if((A.sgmlDecl+D).toUpperCase()===U){if(A.state=S.DOCTYPE,A.doctype||A.sawRoot)y(A,"Inappropriately located doctype declaration");A.doctype="",A.sgmlDecl=""}else if(D===">")j(A,"onsgmldeclaration",A.sgmlDecl),A.sgmlDecl="",A.state=S.TEXT;else if(X(D))A.state=S.SGML_DECL_QUOTED,A.sgmlDecl+=D;else A.sgmlDecl+=D;continue;case S.SGML_DECL_QUOTED:if(D===A.q)A.state=S.SGML_DECL,A.q="";A.sgmlDecl+=D;continue;case S.DOCTYPE:if(D===">")A.state=S.TEXT,j(A,"ondoctype",A.doctype),A.doctype=!0;else if(A.doctype+=D,D==="[")A.state=S.DOCTYPE_DTD;else if(X(D))A.state=S.DOCTYPE_QUOTED,A.q=D;continue;case S.DOCTYPE_QUOTED:if(A.doctype+=D,D===A.q)A.q="",A.state=S.DOCTYPE;continue;case S.DOCTYPE_DTD:if(A.doctype+=D,D==="]")A.state=S.DOCTYPE;else if(X(D))A.state=S.DOCTYPE_DTD_QUOTED,A.q=D;continue;case S.DOCTYPE_DTD_QUOTED:if(A.doctype+=D,D===A.q)A.state=S.DOCTYPE_DTD,A.q="";continue;case S.COMMENT:if(D==="-")A.state=S.COMMENT_ENDING;else A.comment+=D;continue;case S.COMMENT_ENDING:if(D==="-"){if(A.state=S.COMMENT_ENDED,A.comment=_(A.opt,A.comment),A.comment)j(A,"oncomment",A.comment);A.comment=""}else A.comment+="-"+D,A.state=S.COMMENT;continue;case S.COMMENT_ENDED:if(D!==">")y(A,"Malformed comment"),A.comment+="--"+D,A.state=S.COMMENT;else A.state=S.TEXT;continue;case S.CDATA:if(D==="]")A.state=S.CDATA_ENDING;else A.cdata+=D;continue;case S.CDATA_ENDING:if(D==="]")A.state=S.CDATA_ENDING_2;else A.cdata+="]"+D,A.state=S.CDATA;continue;case S.CDATA_ENDING_2:if(D===">"){if(A.cdata)j(A,"oncdata",A.cdata);j(A,"onclosecdata"),A.cdata="",A.state=S.TEXT}else if(D==="]")A.cdata+="]";else A.cdata+="]]"+D,A.state=S.CDATA;continue;case S.PROC_INST:if(D==="?")A.state=S.PROC_INST_ENDING;else if(L(D))A.state=S.PROC_INST_BODY;else A.procInstName+=D;continue;case S.PROC_INST_BODY:if(!A.procInstBody&&L(D))continue;else if(D==="?")A.state=S.PROC_INST_ENDING;else A.procInstBody+=D;continue;case S.PROC_INST_ENDING:if(D===">")j(A,"onprocessinginstruction",{name:A.procInstName,body:A.procInstBody}),A.procInstName=A.procInstBody="",A.state=S.TEXT;else A.procInstBody+="?"+D,A.state=S.PROC_INST_BODY;continue;case S.OPEN_TAG:if(N(C,D))A.tagName+=D;else if(p(A),D===">")e(A);else if(D==="/")A.state=S.OPEN_TAG_SLASH;else{if(!L(D))y(A,"Invalid character in tag name");A.state=S.ATTRIB}continue;case S.OPEN_TAG_SLASH:if(D===">")e(A,!0),o(A);else y(A,"Forward-slash in opening tag not followed by >"),A.state=S.ATTRIB;continue;case S.ATTRIB:if(L(D))continue;else if(D===">")e(A);else if(D==="/")A.state=S.OPEN_TAG_SLASH;else if(N(M,D))A.attribName=D,A.attribValue="",A.state=S.ATTRIB_NAME;else y(A,"Invalid attribute name");continue;case S.ATTRIB_NAME:if(D==="=")A.state=S.ATTRIB_VALUE;else if(D===">")y(A,"Attribute without value"),A.attribValue=A.attribName,n(A),e(A);else if(L(D))A.state=S.ATTRIB_NAME_SAW_WHITE;else if(N(C,D))A.attribName+=D;else y(A,"Invalid attribute name");continue;case S.ATTRIB_NAME_SAW_WHITE:if(D==="=")A.state=S.ATTRIB_VALUE;else if(L(D))continue;else if(y(A,"Attribute without value"),A.tag.attributes[A.attribName]="",A.attribValue="",j(A,"onattribute",{name:A.attribName,value:""}),A.attribName="",D===">")e(A);else if(N(M,D))A.attribName=D,A.state=S.ATTRIB_NAME;else y(A,"Invalid attribute name"),A.state=S.ATTRIB;continue;case S.ATTRIB_VALUE:if(L(D))continue;else if(X(D))A.q=D,A.state=S.ATTRIB_VALUE_QUOTED;else y(A,"Unquoted attribute value"),A.state=S.ATTRIB_VALUE_UNQUOTED,A.attribValue=D;continue;case S.ATTRIB_VALUE_QUOTED:if(D!==A.q){if(D==="&")A.state=S.ATTRIB_VALUE_ENTITY_Q;else A.attribValue+=D;continue}n(A),A.q="",A.state=S.ATTRIB_VALUE_CLOSED;continue;case S.ATTRIB_VALUE_CLOSED:if(L(D))A.state=S.ATTRIB;else if(D===">")e(A);else if(D==="/")A.state=S.OPEN_TAG_SLASH;else if(N(M,D))y(A,"No whitespace between attributes"),A.attribName=D,A.attribValue="",A.state=S.ATTRIB_NAME;else y(A,"Invalid attribute name");continue;case S.ATTRIB_VALUE_UNQUOTED:if(!z(D)){if(D==="&")A.state=S.ATTRIB_VALUE_ENTITY_U;else A.attribValue+=D;continue}if(n(A),D===">")e(A);else A.state=S.ATTRIB;continue;case S.CLOSE_TAG:if(!A.tagName)if(L(D))continue;else if(P(M,D))if(A.script)A.script+="</"+D,A.state=S.SCRIPT;else y(A,"Invalid tagname in closing tag.");else A.tagName=D;else if(D===">")o(A);else if(N(C,D))A.tagName+=D;else if(A.script)A.script+="</"+A.tagName,A.tagName="",A.state=S.SCRIPT;else{if(!L(D))y(A,"Invalid tagname in closing tag");A.state=S.CLOSE_TAG_SAW_WHITE}continue;case S.CLOSE_TAG_SAW_WHITE:if(L(D))continue;if(D===">")o(A);else y(A,"Invalid characters in closing tag");continue;case S.TEXT_ENTITY:case S.ATTRIB_VALUE_ENTITY_Q:case S.ATTRIB_VALUE_ENTITY_U:var f,i;switch(A.state){case S.TEXT_ENTITY:f=S.TEXT,i="textNode";break;case S.ATTRIB_VALUE_ENTITY_Q:f=S.ATTRIB_VALUE_QUOTED,i="attribValue";break;case S.ATTRIB_VALUE_ENTITY_U:f=S.ATTRIB_VALUE_UNQUOTED,i="attribValue";break}if(D===";")if(A.opt.unparsedEntities){var a=t(A);A.entity="",A.state=f,A.write(a)}else A[i]+=t(A),A.entity="",A.state=f;else if(N(A.entity.length?T:E,D))A.entity+=D;else y(A,"Invalid character in entity name"),A[i]+="&"+A.entity+D,A.entity="",A.state=f;continue;default:throw new Error(A,"Unknown state: "+A.state)}}if(A.position>=A.bufferCheckPosition)Z(A);return A}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */if(!String.fromCodePoint)(function(){var F=String.fromCharCode,A=Math.floor,I=function(){var D=16384,c=[],m,f,i=-1,a=arguments.length;if(!a)return"";var $0="";while(++i<a){var Q0=Number(arguments[i]);if(!isFinite(Q0)||Q0<0||Q0>1114111||A(Q0)!==Q0)throw RangeError("Invalid code point: "+Q0);if(Q0<=65535)c.push(Q0);else Q0-=65536,m=(Q0>>10)+55296,f=Q0%1024+56320,c.push(m,f);if(i+1===a||c.length>D)$0+=F.apply(null,c),c.length=0}return $0};if(Object.defineProperty)Object.defineProperty(String,"fromCodePoint",{value:I,configurable:!0,writable:!0});else String.fromCodePoint=I})()})(typeof a$==="undefined"?a$.sax={}:a$)});var uW=l((bW)=>{(function(){bW.stripBOM=function($){if($[0]==="\uFEFF")return $.substring(1);else return $}}).call(bW)});var rJ=l((mW)=>{(function(){var $=new RegExp(/(?!xmlns)^.*:/);mW.normalize=function(J){return J.toLowerCase()},mW.firstCharLowerCase=function(J){return J.charAt(0).toLowerCase()+J.slice(1)},mW.stripPrefix=function(J){return J.replace($,"")},mW.parseNumbers=function(J){if(!isNaN(J))J=J%1===0?parseInt(J,10):parseFloat(J);return J},mW.parseBooleans=function(J){if(/^(?:true|false)$/i.test(J))J=J.toLowerCase()==="true";return J}}).call(mW)});var cW=l((fW)=>{(function(){var $,J,K,Z,Q,Y,G,H,q=function(U,R){return function(){return U.apply(R,arguments)}},V=function(U,R){for(var O in R)if(W.call(R,O))U[O]=R[O];function B(){this.constructor=U}return B.prototype=R.prototype,U.prototype=new B,U.__super__=R.prototype,U},W={}.hasOwnProperty;G=hW(),K=import.meta.require("events"),$=uW(),Y=rJ(),H=import.meta.require("timers").setImmediate,J=g$().defaults,Z=function(U){return typeof U==="object"&&U!=null&&Object.keys(U).length===0},Q=function(U,R,O){var B,M,C;for(B=0,M=U.length;B<M;B++)C=U[B],R=C(R,O);return R},fW.Parser=function(U){V(R,U);function R(O){this.parseStringPromise=q(this.parseStringPromise,this),this.parseString=q(this.parseString,this),this.reset=q(this.reset,this),this.assignOrPush=q(this.assignOrPush,this),this.processAsync=q(this.processAsync,this);var B,M,C;if(!(this instanceof fW.Parser))return new fW.Parser(O);this.options={},M=J["0.2"];for(B in M){if(!W.call(M,B))continue;C=M[B],this.options[B]=C}for(B in O){if(!W.call(O,B))continue;C=O[B],this.options[B]=C}if(this.options.xmlns)this.options.xmlnskey=this.options.attrkey+"ns";if(this.options.normalizeTags){if(!this.options.tagNameProcessors)this.options.tagNameProcessors=[];this.options.tagNameProcessors.unshift(Y.normalize)}this.reset()}return R.prototype.processAsync=function(){var O,B;try{if(this.remaining.length<=this.options.chunkSize)return O=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(O),this.saxParser.close();else return O=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(O),H(this.processAsync)}catch(M){if(B=M,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(B)}},R.prototype.assignOrPush=function(O,B,M){if(!(B in O))if(!this.options.explicitArray)return O[B]=M;else return O[B]=[M];else{if(!(O[B]instanceof Array))O[B]=[O[B]];return O[B].push(M)}},R.prototype.reset=function(){var O,B,M,C;return this.removeAllListeners(),this.saxParser=G.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(E){return function(T){if(E.saxParser.resume(),!E.saxParser.errThrown)return E.saxParser.errThrown=!0,E.emit("error",T)}}(this),this.saxParser.onend=function(E){return function(){if(!E.saxParser.ended)return E.saxParser.ended=!0,E.emit("end",E.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,C=[],O=this.options.attrkey,B=this.options.charkey,this.saxParser.onopentag=function(E){return function(T){var L,X,z,N,P;if(z=Object.create(null),z[B]="",!E.options.ignoreAttrs){P=T.attributes;for(L in P){if(!W.call(P,L))continue;if(!(O in z)&&!E.options.mergeAttrs)z[O]=Object.create(null);if(X=E.options.attrValueProcessors?Q(E.options.attrValueProcessors,T.attributes[L],L):T.attributes[L],N=E.options.attrNameProcessors?Q(E.options.attrNameProcessors,L):L,E.options.mergeAttrs)E.assignOrPush(z,N,X);else z[O][N]=X}}if(z["#name"]=E.options.tagNameProcessors?Q(E.options.tagNameProcessors,T.name):T.name,E.options.xmlns)z[E.options.xmlnskey]={uri:T.uri,local:T.local};return C.push(z)}}(this),this.saxParser.onclosetag=function(E){return function(){var T,L,X,z,N,P,S,k,w,j;if(P=C.pop(),N=P["#name"],!E.options.explicitChildren||!E.options.preserveChildrenOrder)delete P["#name"];if(P.cdata===!0)T=P.cdata,delete P.cdata;if(w=C[C.length-1],P[B].match(/^\s*$/)&&!T)L=P[B],delete P[B];else{if(E.options.trim)P[B]=P[B].trim();if(E.options.normalize)P[B]=P[B].replace(/\s{2,}/g," ").trim();if(P[B]=E.options.valueProcessors?Q(E.options.valueProcessors,P[B],N):P[B],Object.keys(P).length===1&&B in P&&!E.EXPLICIT_CHARKEY)P=P[B]}if(Z(P))if(typeof E.options.emptyTag==="function")P=E.options.emptyTag();else P=E.options.emptyTag!==""?E.options.emptyTag:L;if(E.options.validator!=null)j="/"+function(){var v,_,x;x=[];for(v=0,_=C.length;v<_;v++)z=C[v],x.push(z["#name"]);return x}().concat(N).join("/"),function(){var v;try{return P=E.options.validator(j,w&&w[N],P)}catch(_){return v=_,E.emit("error",v)}}();if(E.options.explicitChildren&&!E.options.mergeAttrs&&typeof P==="object"){if(!E.options.preserveChildrenOrder){if(z=Object.create(null),E.options.attrkey in P)z[E.options.attrkey]=P[E.options.attrkey],delete P[E.options.attrkey];if(!E.options.charsAsChildren&&E.options.charkey in P)z[E.options.charkey]=P[E.options.charkey],delete P[E.options.charkey];if(Object.getOwnPropertyNames(P).length>0)z[E.options.childkey]=P;P=z}else if(w){w[E.options.childkey]=w[E.options.childkey]||[],S=Object.create(null);for(X in P){if(!W.call(P,X))continue;S[X]=P[X]}if(w[E.options.childkey].push(S),delete P["#name"],Object.keys(P).length===1&&B in P&&!E.EXPLICIT_CHARKEY)P=P[B]}}if(C.length>0)return E.assignOrPush(w,N,P);else{if(E.options.explicitRoot)k=P,P=Object.create(null),P[N]=k;return E.resultObject=P,E.saxParser.ended=!0,E.emit("end",E.resultObject)}}}(this),M=function(E){return function(T){var L,X;if(X=C[C.length-1],X){if(X[B]+=T,E.options.explicitChildren&&E.options.preserveChildrenOrder&&E.options.charsAsChildren&&(E.options.includeWhiteChars||T.replace(/\\n/g,"").trim()!=="")){if(X[E.options.childkey]=X[E.options.childkey]||[],L={"#name":"__text__"},L[B]=T,E.options.normalize)L[B]=L[B].replace(/\s{2,}/g," ").trim();X[E.options.childkey].push(L)}return X}}}(this),this.saxParser.ontext=M,this.saxParser.oncdata=function(E){return function(T){var L=M(T);if(L)return L.cdata=!0}}(this)},R.prototype.parseString=function(O,B){var M;if(B!=null&&typeof B==="function")this.on("end",function(C){return this.reset(),B(null,C)}),this.on("error",function(C){return this.reset(),B(C)});try{if(O=O.toString(),O.trim()==="")return this.emit("end",null),!0;if(O=$.stripBOM(O),this.options.async)return this.remaining=O,H(this.processAsync),this.saxParser;return this.saxParser.write(O).close()}catch(C){if(M=C,!(this.saxParser.errThrown||this.saxParser.ended))return this.emit("error",M),this.saxParser.errThrown=!0;else if(this.saxParser.ended)throw M}},R.prototype.parseStringPromise=function(O){return new Promise(function(B){return function(M,C){return B.parseString(O,function(E,T){if(E)return C(E);else return M(T)})}}(this))},R}(K),fW.parseString=function(U,R,O){var B,M,C;if(O!=null){if(typeof O==="function")B=O;if(typeof R==="object")M=R}else{if(typeof R==="function")B=R;M={}}return C=new fW.Parser(M),C.parseString(U,B)},fW.parseStringPromise=function(U,R){var O,B;if(typeof R==="object")O=R;return B=new fW.Parser(O),B.parseStringPromise(U)}}).call(fW)});var pW=l((dW)=>{(function(){var $,J,K,Z,Q=function(G,H){for(var q in H)if(Y.call(H,q))G[q]=H[q];function V(){this.constructor=G}return V.prototype=H.prototype,G.prototype=new V,G.__super__=H.prototype,G},Y={}.hasOwnProperty;J=g$(),$=gW(),K=cW(),Z=rJ(),dW.defaults=J.defaults,dW.processors=Z,dW.ValidationError=function(G){Q(H,G);function H(q){this.message=q}return H}(Error),dW.Builder=$.Builder,dW.Parser=K.Parser,dW.parseString=K.parseString,dW.parseStringPromise=K.parseStringPromise}).call(dW)});var nW=l((vI,lW)=>{var YC=function($){return $.split(",").map(function(J){return parseInt(J,10)})},sJ="chasrset";lW.exports=function $(J){if(J=Object.assign({},J),sJ in J)J.charset=J[sJ],delete J[sJ];for(var K in J)if(K==="face"||K==="charset")continue;else if(K==="padding"||K==="spacing")J[K]=YC(J[K]);else J[K]=parseInt(J[K],10);return J}});var oW=l((_I,iW)=>{var GC=pW(),e$=nW();iW.exports=function $(J){J=J.toString().trim();var K={pages:[],chars:[],kernings:[]};return GC.parseString(J,function(Z,Q){if(Z)throw Z;if(!Q.font)throw"XML bitmap font doesn't have <font> root";Q=Q.font,K.common=e$(Q.common[0].$),K.info=e$(Q.info[0].$);for(var Y=0;Y<Q.pages.length;Y++){var G=Q.pages[Y].page[0].$;if(typeof G.id==="undefined")throw new Error("malformed file -- needs page id=N");if(typeof G.file!=="string")throw new Error("malformed file -- needs page file=\"path\"");K.pages[parseInt(G.id,10)]=G.file}if(Q.chars){var H=Q.chars[0].char||[];for(var Y=0;Y<H.length;Y++)K.chars.push(e$(H[Y].$))}if(Q.kernings){var q=Q.kernings[0].kerning||[];for(var Y=0;Y<q.length;Y++)K.kernings.push(e$(q[Y].$))}}),K}});var aW=l((yI,sW)=>{var qC=function($,J,K){if(K>J.length-1)return 0;var Z=J.readUInt8(K++),Q=J.readInt32LE(K);switch(K+=4,Z){case 1:$.info=VC(J,K);break;case 2:$.common=WC(J,K);break;case 3:$.pages=UC(J,K,Q);break;case 4:$.chars=RC(J,K,Q);break;case 5:$.kernings=OC(J,K,Q);break}return 5+Q},VC=function($,J){var K={};K.size=$.readInt16LE(J);var Z=$.readUInt8(J+2);if(K.smooth=Z>>7&1,K.unicode=Z>>6&1,K.italic=Z>>5&1,K.bold=Z>>4&1,Z>>3&1)K.fixedHeight=1;return K.charset=$.readUInt8(J+3)||"",K.stretchH=$.readUInt16LE(J+4),K.aa=$.readUInt8(J+6),K.padding=[$.readInt8(J+7),$.readInt8(J+8),$.readInt8(J+9),$.readInt8(J+10)],K.spacing=[$.readInt8(J+11),$.readInt8(J+12)],K.outline=$.readUInt8(J+13),K.face=zC($,J+14),K},WC=function($,J){var K={};K.lineHeight=$.readUInt16LE(J),K.base=$.readUInt16LE(J+2),K.scaleW=$.readUInt16LE(J+4),K.scaleH=$.readUInt16LE(J+6),K.pages=$.readUInt16LE(J+8);var Z=$.readUInt8(J+10);return K.packed=0,K.alphaChnl=$.readUInt8(J+11),K.redChnl=$.readUInt8(J+12),K.greenChnl=$.readUInt8(J+13),K.blueChnl=$.readUInt8(J+14),K},UC=function($,J,K){var Z=[],Q=rW($,J),Y=Q.length+1,G=K/Y;for(var H=0;H<G;H++)Z[H]=$.slice(J,J+Q.length).toString("utf8"),J+=Y;return Z},RC=function($,J,K){var Z=[],Q=K/20;for(var Y=0;Y<Q;Y++){var G={},H=Y*20;G.id=$.readUInt32LE(J+0+H),G.x=$.readUInt16LE(J+4+H),G.y=$.readUInt16LE(J+6+H),G.width=$.readUInt16LE(J+8+H),G.height=$.readUInt16LE(J+10+H),G.xoffset=$.readInt16LE(J+12+H),G.yoffset=$.readInt16LE(J+14+H),G.xadvance=$.readInt16LE(J+16+H),G.page=$.readUInt8(J+18+H),G.chnl=$.readUInt8(J+19+H),Z[Y]=G}return Z},OC=function($,J,K){var Z=[],Q=K/10;for(var Y=0;Y<Q;Y++){var G={},H=Y*10;G.first=$.readUInt32LE(J+0+H),G.second=$.readUInt32LE(J+4+H),G.amount=$.readInt16LE(J+8+H),Z[Y]=G}return Z},rW=function($,J){var K=J;for(;K<$.length;K++)if($[K]===0)break;return $.slice(J,K)},zC=function($,J){return rW($,J).toString("utf8")},HC=[66,77,70];sW.exports=function $(J){if(J.length<6)throw new Error("invalid buffer length for BMFont");var K=HC.every(function(H,q){return J.readUInt8(q)===H});if(!K)throw new Error("BMFont missing BMF byte header");var Z=3,Q=J.readUInt8(Z++);if(Q>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");var Y={kernings:[],chars:[]};for(var G=0;G<5;G++)Z+=qC(Y,J,Z);return Y}});var tW=l((xI,NC)=>{NC.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/bdoc":["bdoc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/font-woff":[],"application/font-woff2":[],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/prs.cww":["cww"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":[],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":[],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":[],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":[],"application/x-msdownload":["com","bat"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["wmf","emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":[],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":[],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp3":[],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/wav":["wav"],"audio/wave":[],"audio/webm":["weba"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":[],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":[],"audio/x-wav":[],"audio/xm":["xm"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/g3fax":["g3"],"image/gif":["gif"],"image/ief":["ief"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/ktx":["ktx"],"image/png":["png"],"image/prs.btif":["btif"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/tiff":["tiff","tif"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":[],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/webp":["webp"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":[],"image/x-pcx":["pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/rfc822":["eml","mime"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.vtu":["vtu"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["x3db","x3dbz"],"model/x3d+vrml":["x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/hjson":["hjson"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/prs.lines.tag":["dsc"],"text/richtext":["rtx"],"text/rtf":[],"text/sgml":["sgml","sgm"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/vtt":["vtt"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":[],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"text/xml":[],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/webm":["webm"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}});var $2=l((hI,eW)=>{var U6=function(){this.types=Object.create(null),this.extensions=Object.create(null)},gI=import.meta.require("path"),PC=import.meta.require("fs");U6.prototype.define=function($){for(var J in $){var K=$[J];for(var Z=0;Z<K.length;Z++){if(process.env.DEBUG_MIME&&this.types[K[Z]])console.warn((this._loading||"define()").replace(/.*\//,""),'changes "'+K[Z]+'" extension type from '+this.types[K[Z]]+" to "+J);this.types[K[Z]]=J}if(!this.extensions[J])this.extensions[J]=K[0]}};U6.prototype.load=function($){this._loading=$;var J={},K=PC.readFileSync($,"ascii"),Z=K.split(/[\r\n]+/);Z.forEach(function(Q){var Y=Q.replace(/\s*#.*|^\s*|\s*$/g,"").split(/\s+/);J[Y.shift()]=Y}),this.define(J),this._loading=null};U6.prototype.lookup=function($,J){var K=$.replace(/^.*[\.\/\\]/,"").toLowerCase();return this.types[K]||J||this.default_type};U6.prototype.extension=function($){var J=$.match(/^\s*([^;\s]*)(?:;|\s|$)/)[1].toLowerCase();return this.extensions[J]};var W6=new U6;W6.define(tW());W6.default_type=W6.lookup("bin");W6.Mime=U6;W6.charsets={lookup:function($,J){return/^text\/|^application\/(javascript|json)/.test($)?"UTF-8":J}};eW.exports=W6});var Z2=l((bI,K2)=>{var J2=import.meta.require("buffer").Buffer;K2.exports=function($,J){if(!J2.isBuffer($))return;if(!J2.isBuffer(J))return;if(typeof $.equals==="function")return $.equals(J);if($.length!==J.length)return!1;for(var K=0;K<$.length;K++)if($[K]!==J[K])return!1;return!0}});var Y2=l((uI,Q2)=>{var AC=Z2(),BC=Buffer.from([66,77,70,3]);Q2.exports=function($){if(typeof $==="string")return $.substring(0,3)==="BMF";return $.length>4&&AC($.slice(0,4),BC)}});var V2=l((fI,q2)=>{var jC=function($,J,K){var Z,Q;if(SC(J)){if(typeof J==="string")J=Buffer.from(J,"binary");Q=!0}else J=J.toString().trim();try{if(Q)Z=MC(J);else if(/json/.test(G2.lookup($))||J.charAt(0)==="{")Z=JSON.parse(J);else if(/xml/.test(G2.lookup($))||J.charAt(0)==="<")Z=LC(J);else Z=CC(J)}catch(Y){K(Y),K=H2}K(null,Z)},FC=import.meta.require("fs"),XC=import.meta.require("url"),mI=import.meta.require("path"),EC=RV(),CC=NV(),LC=oW(),MC=aW(),G2=$2(),H2=function(){},SC=Y2();q2.exports=function $(J,K){if(K=typeof K==="function"?K:H2,typeof J==="string")J={uri:J,url:J};else if(!J)J={};var Z=J.uri||J.url;function Q(Y,G){if(Y)return K(Y);jC(Z,G.body||G,K)}if(XC.parse(Z).host)EC(J,Q);else FC.readFile(Z,J,Q)}});var O2=l((R2)=>{var W2=function($,J){let K=0;for(let Z=0;Z<J.length;Z++)if($.chars[J[Z]]){const Q=$.kernings[J[Z]]&&$.kernings[J[Z]][J[Z+1]]?$.kernings[J[Z]][J[Z+1]]:0;K+=($.chars[J[Z]].xadvance||0)+Q}return K},U2=function($,J,K){const Z=J.replace(/[\r\n]+/g," \n").split(" "),Q=[];let Y=[],G=0;return Z.forEach((H)=>{const q=[...Y,H].join(" "),V=W2($,q);if(V<=K&&!H.includes("\n")){if(V>G)G=V;Y.push(H)}else Q.push(Y),Y=[H.replace("\n","")]}),Q.push(Y),{lines:Q,longestLine:G}},IC=function($,J,K){const{lines:Z}=U2($,J,K);return Z.length*$.common.lineHeight};Object.defineProperty(R2,"__esModule",{value:!0});R2.measureText=W2;R2.measureTextHeight=IC;R2.splitLines=U2});var P2=l(($9,aJ)=>{var z2=function($){return $&&$.__esModule?$:{default:$}},vC=function($,J,K,Z,Q){if(Q===$.HORIZONTAL_ALIGN_LEFT)return 0;if(Q===$.HORIZONTAL_ALIGN_CENTER)return(Z-u5.measureText(J,K))/2;return Z-u5.measureText(J,K)},_C=function($,J,K,Z,Q){if(Q.width>0&&Q.height>0){const Y=J.pages[Q.page];$.blit(Y,K+Q.xoffset,Z+Q.yoffset,Q.x,Q.y,Q.width,Q.height)}return $},yC=function($,J,K,Z,Q){for(let Y=0;Y<Z.length;Y++){let G;if($.chars[Z[Y]])G=Z[Y];else if(/\s/.test(Z[Y]))G="";else G="?";const H=$.chars[G]||{},q=$.kernings[G];_C(this,$,J,K,H||{});const V=q&&q[Z[Y+1]]?q[Z[Y+1]]:0;J+=V+(H.xadvance||Q)}},xC=function($,J,K){const Z=K.map((Q)=>{return $.read(J+"/"+Q)});return Promise.all(Z)},__dirname="/mnt/Data/Coding/JavaScript/ASCII-Video/node_modules/@jimp/plugin-print/dist";Object.defineProperty($9,"__esModule",{value:!0});$9.default=void 0;var V8=z2(import.meta.require("path")),kC=z2(V2()),b5=h0(),u5=O2(),N8=process.env.DIRNAME||`${__dirname}/../`,gC=()=>({constants:{measureText:u5.measureText,measureTextHeight:u5.measureTextHeight,FONT_SANS_8_BLACK:V8.default.join(N8,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:V8.default.join(N8,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:V8.default.join(N8,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:V8.default.join(N8,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:V8.default.join(N8,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:V8.default.join(N8,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:V8.default.join(N8,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:V8.default.join(N8,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:V8.default.join(N8,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:V8.default.join(N8,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:V8.default.join(N8,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:V8.default.join(N8,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:V8.default.join(N8,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont($,J){if(typeof $!=="string")return b5.throwError.call(this,"file must be a string",J);return new Promise((K,Z)=>{J=J||function(Q,Y){if(Q)Z(Q);else K(Y)},kC.default($,(Q,Y)=>{const G={},H={};if(Q)return b5.throwError.call(this,Q,J);for(let q=0;q<Y.chars.length;q++)G[String.fromCharCode(Y.chars[q].id)]=Y.chars[q];for(let q=0;q<Y.kernings.length;q++){const V=String.fromCharCode(Y.kernings[q].first);H[V]=H[V]||{},H[V][String.fromCharCode(Y.kernings[q].second)]=Y.kernings[q].amount}xC(this,V8.default.dirname($),Y.pages).then((q)=>{J(null,{chars:G,kernings:H,pages:q,common:Y.common,info:Y.info})})})})}},class:{print($,J,K,Z,Q,Y,G){if(typeof Q==="function"&&typeof G==="undefined")G=Q,Q=Infinity;if(typeof Q==="undefined")Q=Infinity;if(typeof Y==="function"&&typeof G==="undefined")G=Y,Y=Infinity;if(typeof Y==="undefined")Y=Infinity;if(typeof $!=="object")return b5.throwError.call(this,"font must be a Jimp loadFont",G);if(typeof J!=="number"||typeof K!=="number"||typeof Q!=="number")return b5.throwError.call(this,"x, y and maxWidth must be numbers",G);if(typeof Q!=="number")return b5.throwError.call(this,"maxWidth must be a number",G);if(typeof Y!=="number")return b5.throwError.call(this,"maxHeight must be a number",G);let H,q;if(typeof Z==="object"&&Z.text!==null&&Z.text!==void 0)H=Z.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,q=Z.alignmentY||this.constructor.VERTICAL_ALIGN_TOP,{text:Z}=Z;else H=this.constructor.HORIZONTAL_ALIGN_LEFT,q=this.constructor.VERTICAL_ALIGN_TOP,Z=Z.toString();if(Y!==Infinity&&q===this.constructor.VERTICAL_ALIGN_BOTTOM)K+=Y-u5.measureTextHeight($,Z,Q);else if(Y!==Infinity&&q===this.constructor.VERTICAL_ALIGN_MIDDLE)K+=Y/2-u5.measureTextHeight($,Z,Q)/2;const V=Object.entries($.chars)[0][1].xadvance,{lines:W,longestLine:U}=u5.splitLines($,Z,Q);if(W.forEach((R)=>{const O=R.join(" "),B=vC(this.constructor,$,O,Q,H);yC.call(this,$,J+B,K,O,V),K+=$.common.lineHeight}),b5.isNodePattern(G))G.call(this,null,this,{x:J+U,y:K});return this}}});$9.default=gC;aJ.exports=$9.default;aJ.exports.default=$9.default});var B2=l((J9,tJ)=>{var n0=function($,J,K,Z,Q,Y,G){this.widthOriginal=Math.abs(Math.floor($)||0),this.heightOriginal=Math.abs(Math.floor(J)||0),this.targetWidth=Math.abs(Math.floor(K)||0),this.targetHeight=Math.abs(Math.floor(Z)||0),this.colorChannels=Q?4:3,this.interpolationPass=Boolean(Y),this.resizeCallback=typeof G==="function"?G:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()};Object.defineProperty(J9,"__esModule",{value:!0});J9.default=void 0;n0.prototype.initialize=function(){if(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0)this.configurePasses();else throw new Error("Invalid settings specified for the resizer.")};n0.prototype.configurePasses=function(){if(this.widthOriginal===this.targetWidth)this.resizeWidth=this.bypassResizer;else if(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass)this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB;else this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB;if(this.heightOriginal===this.targetHeight)this.resizeHeight=this.bypassResizer;else if(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass)this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated;else this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB};n0.prototype._resizeWidthInterpolatedRGBChannels=function($,J){const K=J?4:3,Z=this.ratioWeightWidthPass,Q=this.widthBuffer;let Y=0,G=0,H=0,q=0,V=0,W;for(W=0;Y<0.3333333333333333;W+=K,Y+=Z)for(G=W,H=0;G<this.widthPassResultSize;H+=this.originalWidthMultipliedByChannels,G+=this.targetWidthMultipliedByChannels)if(Q[G]=$[H],Q[G+1]=$[H+1],Q[G+2]=$[H+2],J)Q[G+3]=$[H+3];Y-=0.3333333333333333;let U;for(U=this.widthOriginal-1;Y<U;W+=K,Y+=Z){V=Y%1,q=1-V;for(G=W,H=Math.floor(Y)*K;G<this.widthPassResultSize;H+=this.originalWidthMultipliedByChannels,G+=this.targetWidthMultipliedByChannels)if(Q[G+0]=$[H+0]*q+$[H+K+0]*V,Q[G+1]=$[H+1]*q+$[H+K+1]*V,Q[G+2]=$[H+2]*q+$[H+K+2]*V,J)Q[G+3]=$[H+3]*q+$[H+K+3]*V}for(U=this.originalWidthMultipliedByChannels-K;W<this.targetWidthMultipliedByChannels;W+=K)for(G=W,H=U;G<this.widthPassResultSize;H+=this.originalWidthMultipliedByChannels,G+=this.targetWidthMultipliedByChannels)if(Q[G]=$[H],Q[G+1]=$[H+1],Q[G+2]=$[H+2],J)Q[G+3]=$[H+3];return Q};n0.prototype._resizeWidthRGBChannels=function($,J){const K=J?4:3,Z=this.ratioWeightWidthPass,Q=1/Z,Y=this.originalWidthMultipliedByChannels-K+1,G=this.targetWidthMultipliedByChannels-K+1,H=this.outputWidthWorkBench,q=this.widthBuffer,V=this.outputWidthWorkBenchOpaquePixelsCount;let W=0,U=0,R=0,O=0,B=0,M=0,C=0,E=1,T=0,L=0,X=0,z=0;do{for(B=0;B<this.originalHeightMultipliedByChannels;)if(H[B++]=0,H[B++]=0,H[B++]=0,J)H[B++]=0,V[B/K-1]=0;W=Z;do{U=1+R-O,E=Math.min(W,U);for(B=0,M=R;B<this.originalHeightMultipliedByChannels;M+=Y)if(T=$[M],L=$[++M],X=$[++M],z=J?$[++M]:255,H[B++]+=(z?T:0)*E,H[B++]+=(z?L:0)*E,H[B++]+=(z?X:0)*E,J)H[B++]+=z*E,V[B/K-1]+=z?E:0;if(W>=U)R+=K,O=R,W-=U;else{O+=W;break}}while(W>0&&R<this.originalWidthMultipliedByChannels);for(B=0,M=C;B<this.originalHeightMultipliedByChannels;M+=G)if(W=J?V[B/K]:1,E=J?W?1/W:0:Q,q[M]=H[B++]*E,q[++M]=H[B++]*E,q[++M]=H[B++]*E,J)q[++M]=H[B++]*Q;C+=K}while(C<this.targetWidthMultipliedByChannels);return q};n0.prototype._resizeHeightRGBChannels=function($,J){const K=this.ratioWeightHeightPass,Z=1/K,Q=this.outputHeightWorkBench,Y=this.heightBuffer,G=this.outputHeightWorkBenchOpaquePixelsCount;let H=0,q=0,V=0,W=0,U=0,R=0,O=0,B=1,M=0,C=0,E=0,T=0;do{for(U=0;U<this.targetWidthMultipliedByChannels;)if(Q[U++]=0,Q[U++]=0,Q[U++]=0,J)Q[U++]=0,G[U/4-1]=0;H=K;do{q=1+V-W,B=Math.min(H,q),O=V;for(U=0;U<this.targetWidthMultipliedByChannels;)if(M=$[O++],C=$[O++],E=$[O++],T=J?$[O++]:255,Q[U++]+=(T?M:0)*B,Q[U++]+=(T?C:0)*B,Q[U++]+=(T?E:0)*B,J)Q[U++]+=T*B,G[U/4-1]+=T?B:0;if(H>=q)V=O,W=V,H-=q;else{W+=H;break}}while(H>0&&V<this.widthPassResultSize);for(U=0;U<this.targetWidthMultipliedByChannels;)if(H=J?G[U/4]:1,B=J?H?1/H:0:Z,Y[R++]=Math.round(Q[U++]*B),Y[R++]=Math.round(Q[U++]*B),Y[R++]=Math.round(Q[U++]*B),J)Y[R++]=Math.round(Q[U++]*Z)}while(R<this.finalResultSize);return Y};n0.prototype.resizeWidthInterpolatedRGB=function($){return this._resizeWidthInterpolatedRGBChannels($,!1)};n0.prototype.resizeWidthInterpolatedRGBA=function($){return this._resizeWidthInterpolatedRGBChannels($,!0)};n0.prototype.resizeWidthRGB=function($){return this._resizeWidthRGBChannels($,!1)};n0.prototype.resizeWidthRGBA=function($){return this._resizeWidthRGBChannels($,!0)};n0.prototype.resizeHeightInterpolated=function($){const J=this.ratioWeightHeightPass,K=this.heightBuffer;let Z=0,Q=0,Y=0,G=0,H=0,q=0,V=0,W;for(;Z<0.3333333333333333;Z+=J)for(Y=0;Y<this.targetWidthMultipliedByChannels;)K[Q++]=Math.round($[Y++]);Z-=0.3333333333333333;for(W=this.heightOriginal-1;Z<W;Z+=J){V=Z%1,q=1-V,G=Math.floor(Z)*this.targetWidthMultipliedByChannels,H=G+this.targetWidthMultipliedByChannels;for(Y=0;Y<this.targetWidthMultipliedByChannels;++Y)K[Q++]=Math.round($[G++]*q+$[H++]*V)}while(Q<this.finalResultSize)for(Y=0,G=W*this.targetWidthMultipliedByChannels;Y<this.targetWidthMultipliedByChannels;++Y)K[Q++]=Math.round($[G++]);return K};n0.prototype.resizeHeightRGB=function($){return this._resizeHeightRGBChannels($,!1)};n0.prototype.resizeHeightRGBA=function($){return this._resizeHeightRGBChannels($,!0)};n0.prototype.resize=function($){this.resizeCallback(this.resizeHeight(this.resizeWidth($)))};n0.prototype.bypassResizer=function($){return $};n0.prototype.initializeFirstPassBuffers=function($){if(this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),!$){if(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3)this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)}};n0.prototype.initializeSecondPassBuffers=function($){if(this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),!$){if(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3)this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)}};n0.prototype.generateFloatBuffer=function($){try{return new Float32Array($)}catch(J){return[]}};n0.prototype.generateFloat64Buffer=function($){try{return new Float64Array($)}catch(J){return[]}};n0.prototype.generateUint8Buffer=function($){try{return new Uint8Array($)}catch(J){return[]}};var hC=n0;J9.default=hC;tJ.exports=J9.default;tJ.exports.default=J9.default});var X2=l((K9,eJ)=>{Object.defineProperty(K9,"__esModule",{value:!0});K9.default=void 0;var bC={nearestNeighbor($,J){const{width:K,height:Z}=$,Q=J.width,Y=J.height,G=$.data,H=J.data;for(let q=0;q<Y;q++)for(let V=0;V<Q;V++){let W=(q*Q+V)*4;const U=Math.floor(q*Z/Y),R=Math.floor(V*K/Q);let O=(U*K+R)*4;H[W++]=G[O++],H[W++]=G[O++],H[W++]=G[O++],H[W++]=G[O++]}},bilinearInterpolation($,J){const{width:K,height:Z}=$,Q=J.width,Y=J.height,G=$.data,H=J.data,q=function(W,U,R,O,B){if(U===O)return R;return Math.round((W-U)*B+(O-W)*R)},V=function(W,U,R,O,B,M,C,E){let T=(C*K+O)*4+U,L=(C*K+B)*4+U;const X=q(R,O,G[T],B,G[L]);if(E===C)H[W+U]=X;else{T=(E*K+O)*4+U,L=(E*K+B)*4+U;const z=q(R,O,G[T],B,G[L]);H[W+U]=q(M,C,X,E,z)}};for(let W=0;W<Y;W++)for(let U=0;U<Q;U++){const R=(W*Q+U)*4,O=U*K/Q,B=Math.floor(O),M=Math.min(Math.ceil(O),K-1),C=W*Z/Y,E=Math.floor(C),T=Math.min(Math.ceil(C),Z-1);V(R,0,O,B,M,C,E,T),V(R,1,O,B,M,C,E,T),V(R,2,O,B,M,C,E,T),V(R,3,O,B,M,C,E,T)}},_interpolate2D($,J,K,Z){const Q=$.data,Y=J.data,G=$.width,H=$.height,q=J.width,V=J.height,W=Math.max(1,Math.floor(G/q)),U=q*W,R=Math.max(1,Math.floor(H/V)),O=V*R,B=Buffer.alloc(U*H*4);for(let E=0;E<H;E++)for(let T=0;T<U;T++){const L=T*(G-1)/U,X=Math.floor(L),z=L-X,N=(E*G+X)*4,P=(E*U+T)*4;for(let S=0;S<4;S++){const k=N+S,w=X>0?Q[k-4]:2*Q[k]-Q[k+4],j=Q[k],v=Q[k+4],_=X<G-2?Q[k+8]:2*Q[k+4]-Q[k];B[P+S]=Z(w,j,v,_,z)}}const M=Buffer.alloc(U*O*4);for(let E=0;E<O;E++)for(let T=0;T<U;T++){const L=E*(H-1)/O,X=Math.floor(L),z=L-X,N=(X*U+T)*4,P=(E*U+T)*4;for(let S=0;S<4;S++){const k=N+S,w=X>0?B[k-U*4]:2*B[k]-B[k+U*4],j=B[k],v=B[k+U*4],_=X<H-2?B[k+U*8]:2*B[k+U*4]-B[k];M[P+S]=Z(w,j,v,_,z)}}const C=W*R;if(C>1)for(let E=0;E<V;E++)for(let T=0;T<q;T++){let L=0,X=0,z=0,N=0,P=0;for(let k=0;k<R;k++){const w=E*R+k;for(let j=0;j<W;j++){const v=T*W+j,_=(w*U+v)*4,x=M[_+3];if(x)L+=M[_],X+=M[_+1],z+=M[_+2],P++;N+=x}}const S=(E*q+T)*4;Y[S]=P?Math.round(L/P):0,Y[S+1]=P?Math.round(X/P):0,Y[S+2]=P?Math.round(z/P):0,Y[S+3]=Math.round(N/C)}else J.data=M},bicubicInterpolation($,J,K){const Z=function(Q,Y,G,H,q){const V=H-G-Q+Y,W=Q-Y-V,U=G-Q,R=Y;return Math.max(0,Math.min(255,V*(q*q*q)+W*(q*q)+U*q+R))};return this._interpolate2D($,J,K,Z)},hermiteInterpolation($,J,K){const Z=function(Q,Y,G,H,q){const V=Y,W=0.5*(G-Q),U=Q-2.5*Y+2*G-0.5*H,R=0.5*(H-Q)+1.5*(Y-G);return Math.max(0,Math.min(255,Math.round(((R*q+U)*q+W)*q+V)))};return this._interpolate2D($,J,K,Z)},bezierInterpolation($,J,K){const Z=function(Q,Y,G,H,q){const V=Y+(G-Q)/4,W=G-(H-Y)/4,U=1-q,R=Y*U*U*U,O=3*V*U*U*q,B=3*W*U*q*q,M=G*q*q*q;return Math.max(0,Math.min(255,Math.round(R+O+B+M)))};return this._interpolate2D($,J,K,Z)}},uC=bC;K9.default=uC;eJ.exports=K9.default;eJ.exports.default=K9.default});var M2=l((Q9,$4)=>{var C2=function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(Q9,"__esModule",{value:!0});Q9.default=void 0;var Z9=h0(),mC=C2(B2()),E2=C2(X2()),fC=()=>({constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize($,J,K,Z){if(typeof $!=="number"||typeof J!=="number")return Z9.throwError.call(this,"w and h must be numbers",Z);if(typeof K==="function"&&typeof Z==="undefined")Z=K,K=null;if($===this.constructor.AUTO&&J===this.constructor.AUTO)return Z9.throwError.call(this,"w and h cannot both be set to auto",Z);if($===this.constructor.AUTO)$=this.bitmap.width*(J/this.bitmap.height);if(J===this.constructor.AUTO)J=this.bitmap.height*($/this.bitmap.width);if($<0||J<0)return Z9.throwError.call(this,"w and h must be positive numbers",Z);if($=Math.round($)||1,J=Math.round(J)||1,typeof E2.default[K]==="function"){const Q={data:Buffer.alloc($*J*4),width:$,height:J};E2.default[K](this.bitmap,Q),this.bitmap=Q}else{const Q=this;new mC.default(this.bitmap.width,this.bitmap.height,$,J,!0,!0,(G)=>{Q.bitmap.data=Buffer.from(G),Q.bitmap.width=$,Q.bitmap.height=J}).resize(this.bitmap.data)}if(Z9.isNodePattern(Z))Z.call(this,null,this);return this}}});Q9.default=fC;$4.exports=Q9.default;$4.exports.default=Q9.default});var j2=l((Y9,K4)=>{var cC=function($){if(Math.abs($)%90!==0)throw new Error("Unsupported matrix rotation degree");if($%=360,Math.abs($)===0)return;const J=this.bitmap.width,K=this.bitmap.height;let Z;switch($){case 90:case-270:Z=90;break;case 180:case-180:Z=180;break;case 270:case-90:Z=-90;break;default:throw new Error("Unsupported matrix rotation degree")}const Q=Z===180?J:K,Y=Z===180?K:J,G=Buffer.alloc(this.bitmap.data.length);function H(W,U){return function(R,O){return O*W+R<<2}}const q=H(J,K),V=H(Q,Y);for(let W=0;W<J;W++)for(let U=0;U<K;U++){const R=q(W,U),O=this.bitmap.data.readUInt32BE(R);let B;switch(Z){case 90:B=V(U,J-W-1);break;case-90:B=V(K-U-1,W);break;case 180:B=V(J-W-1,K-U-1);break;default:throw new Error("Unsupported matrix rotation angle")}G.writeUInt32BE(O,B)}this.bitmap.data=G,this.bitmap.width=Q,this.bitmap.height=Y},dC=function($,J){$%=360;const K=$*Math.PI/180,Z=Math.cos(K),Q=Math.sin(K);let Y=this.bitmap.width,G=this.bitmap.height;if(J===!0||typeof J==="string"){if(Y=Math.ceil(Math.abs(this.bitmap.width*Z)+Math.abs(this.bitmap.height*Q))+1,G=Math.ceil(Math.abs(this.bitmap.width*Q)+Math.abs(this.bitmap.height*Z))+1,Y%2!==0)Y++;if(G%2!==0)G++;const O=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(M,C,E){this.bitmap.data.writeUInt32BE(this._background,E)});const B=Math.max(Y,G,this.bitmap.width,this.bitmap.height);this.resize(B,B,J),this.blit(O,this.bitmap.width/2-O.bitmap.width/2,this.bitmap.height/2-O.bitmap.height/2)}const H=this.bitmap.width,q=this.bitmap.height,V=Buffer.alloc(this.bitmap.data.length);function W(O,B){return function(M,C){return{x:M+O,y:C+B}}}const U=W(-(H/2),-(q/2)),R=W(H/2+0.5,q/2+0.5);for(let O=1;O<=q;O++)for(let B=1;B<=H;B++){const M=U(B,O),C=R(Z*M.x-Q*M.y,Z*M.y+Q*M.x),E=H*(O-1)+B-1<<2;if(C.x>=0&&C.x<H&&C.y>=0&&C.y<q){const T=(H*(C.y|0)+C.x|0)<<2,L=this.bitmap.data.readUInt32BE(T);V.writeUInt32BE(L,E)}else V.writeUInt32BE(this._background,E)}if(this.bitmap.data=V,J===!0||typeof J==="string"){const O=H/2-Y/2,B=q/2-G/2;this.crop(O,B,Y,G)}};Object.defineProperty(Y9,"__esModule",{value:!0});Y9.default=void 0;var J4=h0(),pC=()=>({rotate($,J,K){if(typeof J==="undefined"||J===null)J=!0;if(typeof J==="function"&&typeof K==="undefined")K=J,J=!0;if(typeof $!=="number")return J4.throwError.call(this,"deg must be a number",K);if(typeof J!=="boolean"&&typeof J!=="string")return J4.throwError.call(this,"mode must be a boolean or a string",K);if($%90===0&&(J||this.bitmap.width===this.bitmap.height||$%180===0))cC.call(this,$);else dC.call(this,$,J,K);if(J4.isNodePattern(K))K.call(this,null,this);return this}});Y9.default=pC;K4.exports=Y9.default;K4.exports.default=Y9.default});var T2=l((G9,Z4)=>{Object.defineProperty(G9,"__esModule",{value:!0});G9.default=void 0;var $1=h0(),lC=()=>({scale($,J,K){if(typeof $!=="number")return $1.throwError.call(this,"f must be a number",K);if($<0)return $1.throwError.call(this,"f must be a positive number",K);if(typeof J==="function"&&typeof K==="undefined")K=J,J=null;const Z=this.bitmap.width*$,Q=this.bitmap.height*$;if(this.resize(Z,Q,J),$1.isNodePattern(K))K.call(this,null,this);return this},scaleToFit($,J,K,Z){if(typeof $!=="number"||typeof J!=="number")return $1.throwError.call(this,"w and h must be numbers",Z);if(typeof K==="function"&&typeof Z==="undefined")Z=K,K=null;const Q=$/J>this.bitmap.width/this.bitmap.height?J/this.bitmap.height:$/this.bitmap.width;if(this.scale(Q,K),$1.isNodePattern(Z))Z.call(this,null,this);return this}});G9.default=lC;Z4.exports=G9.default;Z4.exports.default=G9.default});var D2=l((H9,Q4)=>{Object.defineProperty(H9,"__esModule",{value:!0});H9.default=void 0;var nC=h0(),iC=()=>({shadow(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=arguments.length>1?arguments[1]:void 0;if(typeof $==="function")J=$,$={};const{opacity:K=0.7,size:Z=1.1,x:Q=-25,y:Y=25,blur:G=5}=$,H=this.clone(),q=this.clone();if(q.scan(0,0,q.bitmap.width,q.bitmap.height,(V,W,U)=>{q.bitmap.data[U]=0,q.bitmap.data[U+1]=0,q.bitmap.data[U+2]=0,q.bitmap.data[U+3]=q.constructor.limit255(q.bitmap.data[U+3]*K),this.bitmap.data[U]=0,this.bitmap.data[U+1]=0,this.bitmap.data[U+2]=0,this.bitmap.data[U+3]=0}),q.resize(q.bitmap.width*Z,q.bitmap.height*Z).blur(G),this.composite(q,Q,Y),this.composite(H,0,0),nC.isNodePattern(J))J.call(this,null,this);return this}});H9.default=iC;Q4.exports=H9.default;Q4.exports.default=H9.default});var v2=l((V9,Y4)=>{Object.defineProperty(V9,"__esModule",{value:!0});V9.default=void 0;var q9=h0(),oC=()=>({threshold($,J){let{max:K,replace:Z=255,autoGreyscale:Q=!0}=$;if(typeof K!=="number")return q9.throwError.call(this,"max must be a number",J);if(typeof Z!=="number")return q9.throwError.call(this,"replace must be a number",J);if(typeof Q!=="boolean")return q9.throwError.call(this,"autoGreyscale must be a boolean",J);if(K=this.constructor.limit255(K),Z=this.constructor.limit255(Z),Q)this.greyscale();if(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(Y,G,H)=>{const q=this.bitmap.data[H]<K?this.bitmap.data[H]:Z;this.bitmap.data[H]=q,this.bitmap.data[H+1]=q,this.bitmap.data[H+2]=q}),q9.isNodePattern(J))J.call(this,null,this);return this}});V9.default=oC;Y4.exports=V9.default;Y4.exports.default=V9.default});var y2=l((W9,G4)=>{var l0=function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(W9,"__esModule",{value:!0});W9.default=void 0;var rC=$7(),sC=l0(Eq()),aC=l0(Iq()),tC=l0(wq()),eC=l0(gq()),$L=l0(bq()),JL=l0(mq()),KL=l0(fq()),ZL=l0(dq()),QL=l0(nq()),YL=l0(oq()),GL=l0(tq()),HL=l0($V()),qL=l0(KV()),VL=l0(QV()),WL=l0(GV()),UL=l0(P2()),RL=l0(M2()),OL=l0(j2()),zL=l0(T2()),NL=l0(D2()),PL=l0(v2()),AL=[sC.default,aC.default,tC.default,eC.default,$L.default,JL.default,KL.default,ZL.default,QL.default,YL.default,GL.default,HL.default,qL.default,VL.default,WL.default,UL.default,RL.default,OL.default,zL.default,NL.default,PL.default],BL=($)=>{const J=AL.map((K)=>{let Z=K($)||{};if(!Z.class&&!Z.constants)Z={class:Z};return Z});return rC.mergeDeep(...J)};W9.default=BL;G4.exports=W9.default;G4.exports.default=W9.default});var g2=l((U9,q4)=>{var H4=function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(U9,"__esModule",{value:!0});U9.default=void 0;var FL=H4(hZ()),XL=H4(Fq()),EL=H4(y2()),CL=FL.default({types:[XL.default],plugins:[EL.default]});U9.default=CL;q4.exports=U9.default;q4.exports.default=U9.default});var V4=l((dI,h2)=>{h2.exports=function(){}});var u2=l((pI,b2)=>{var LL=V4();(function(){var $="name";if(typeof LL.name==="string")return;try{Object.defineProperty(Function.prototype,$,{get:function J(){var K=this.toString().trim().match(/^function\s*([^\s(]+)/),Z=K?K[1]:"";return Object.defineProperty(this,$,{value:Z}),Z}})}catch(J){}})();b2.exports=function $(J){return J.name}});var R9=l((lI,m2)=>{var R6=function($,J){if(arguments.length===2)return R6.is($,J);return R6.get($,!0)};u2();R6.is=function($,J){return R6.get($,typeof J==="string")===J};R6.get=function($,J){if(typeof $==="string")return J?"string":String;if($===null)return J?"null":null;if($===void 0)return J?"undefined":void 0;if($!==$)return J?"nan":NaN;return J?$.constructor.name.toLowerCase():$.constructor};m2.exports=R6});var c2=l((nI,f2)=>{f2.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var W4=l((iI,n2)=>{var ML=function($,J){return Math.pow($[0]-J[0],2)+Math.pow($[1]-J[1],2)+Math.pow($[2]-J[2],2)},m5=c2(),l2={};for(O9 in m5)if(m5.hasOwnProperty(O9))l2[m5[O9]]=O9;var O9,O0=n2.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(Y8 in O0)if(O0.hasOwnProperty(Y8)){if(!("channels"in O0[Y8]))throw new Error("missing channels property: "+Y8);if(!("labels"in O0[Y8]))throw new Error("missing channel labels property: "+Y8);if(O0[Y8].labels.length!==O0[Y8].channels)throw new Error("channel and label counts mismatch: "+Y8);d2=O0[Y8].channels,p2=O0[Y8].labels,delete O0[Y8].channels,delete O0[Y8].labels,Object.defineProperty(O0[Y8],"channels",{value:d2}),Object.defineProperty(O0[Y8],"labels",{value:p2})}var d2,p2,Y8;O0.rgb.hsl=function($){var J=$[0]/255,K=$[1]/255,Z=$[2]/255,Q=Math.min(J,K,Z),Y=Math.max(J,K,Z),G=Y-Q,H,q,V;if(Y===Q)H=0;else if(J===Y)H=(K-Z)/G;else if(K===Y)H=2+(Z-J)/G;else if(Z===Y)H=4+(J-K)/G;if(H=Math.min(H*60,360),H<0)H+=360;if(V=(Q+Y)/2,Y===Q)q=0;else if(V<=0.5)q=G/(Y+Q);else q=G/(2-Y-Q);return[H,q*100,V*100]};O0.rgb.hsv=function($){var J,K,Z,Q,Y,G=$[0]/255,H=$[1]/255,q=$[2]/255,V=Math.max(G,H,q),W=V-Math.min(G,H,q),U=function(R){return(V-R)/6/W+0.5};if(W===0)Q=Y=0;else{if(Y=W/V,J=U(G),K=U(H),Z=U(q),G===V)Q=Z-K;else if(H===V)Q=0.3333333333333333+J-Z;else if(q===V)Q=0.6666666666666666+K-J;if(Q<0)Q+=1;else if(Q>1)Q-=1}return[Q*360,Y*100,V*100]};O0.rgb.hwb=function($){var J=$[0],K=$[1],Z=$[2],Q=O0.rgb.hsl($)[0],Y=0.00392156862745098*Math.min(J,Math.min(K,Z));return Z=1-0.00392156862745098*Math.max(J,Math.max(K,Z)),[Q,Y*100,Z*100]};O0.rgb.cmyk=function($){var J=$[0]/255,K=$[1]/255,Z=$[2]/255,Q,Y,G,H;return H=Math.min(1-J,1-K,1-Z),Q=(1-J-H)/(1-H)||0,Y=(1-K-H)/(1-H)||0,G=(1-Z-H)/(1-H)||0,[Q*100,Y*100,G*100,H*100]};O0.rgb.keyword=function($){var J=l2[$];if(J)return J;var K=Infinity,Z;for(var Q in m5)if(m5.hasOwnProperty(Q)){var Y=m5[Q],G=ML($,Y);if(G<K)K=G,Z=Q}return Z};O0.keyword.rgb=function($){return m5[$]};O0.rgb.xyz=function($){var J=$[0]/255,K=$[1]/255,Z=$[2]/255;J=J>0.04045?Math.pow((J+0.055)/1.055,2.4):J/12.92,K=K>0.04045?Math.pow((K+0.055)/1.055,2.4):K/12.92,Z=Z>0.04045?Math.pow((Z+0.055)/1.055,2.4):Z/12.92;var Q=J*0.4124+K*0.3576+Z*0.1805,Y=J*0.2126+K*0.7152+Z*0.0722,G=J*0.0193+K*0.1192+Z*0.9505;return[Q*100,Y*100,G*100]};O0.rgb.lab=function($){var J=O0.rgb.xyz($),K=J[0],Z=J[1],Q=J[2],Y,G,H;return K/=95.047,Z/=100,Q/=108.883,K=K>0.008856?Math.pow(K,0.3333333333333333):7.787*K+0.13793103448275862,Z=Z>0.008856?Math.pow(Z,0.3333333333333333):7.787*Z+0.13793103448275862,Q=Q>0.008856?Math.pow(Q,0.3333333333333333):7.787*Q+0.13793103448275862,Y=116*Z-16,G=500*(K-Z),H=200*(Z-Q),[Y,G,H]};O0.hsl.rgb=function($){var J=$[0]/360,K=$[1]/100,Z=$[2]/100,Q,Y,G,H,q;if(K===0)return q=Z*255,[q,q,q];if(Z<0.5)Y=Z*(1+K);else Y=Z+K-Z*K;Q=2*Z-Y,H=[0,0,0];for(var V=0;V<3;V++){if(G=J+0.3333333333333333*-(V-1),G<0)G++;if(G>1)G--;if(6*G<1)q=Q+(Y-Q)*6*G;else if(2*G<1)q=Y;else if(3*G<2)q=Q+(Y-Q)*(0.6666666666666666-G)*6;else q=Q;H[V]=q*255}return H};O0.hsl.hsv=function($){var J=$[0],K=$[1]/100,Z=$[2]/100,Q=K,Y=Math.max(Z,0.01),G,H;return Z*=2,K*=Z<=1?Z:2-Z,Q*=Y<=1?Y:2-Y,H=(Z+K)/2,G=Z===0?2*Q/(Y+Q):2*K/(Z+K),[J,G*100,H*100]};O0.hsv.rgb=function($){var J=$[0]/60,K=$[1]/100,Z=$[2]/100,Q=Math.floor(J)%6,Y=J-Math.floor(J),G=255*Z*(1-K),H=255*Z*(1-K*Y),q=255*Z*(1-K*(1-Y));switch(Z*=255,Q){case 0:return[Z,q,G];case 1:return[H,Z,G];case 2:return[G,Z,q];case 3:return[G,H,Z];case 4:return[q,G,Z];case 5:return[Z,G,H]}};O0.hsv.hsl=function($){var J=$[0],K=$[1]/100,Z=$[2]/100,Q=Math.max(Z,0.01),Y,G,H;return H=(2-K)*Z,Y=(2-K)*Q,G=K*Q,G/=Y<=1?Y:2-Y,G=G||0,H/=2,[J,G*100,H*100]};O0.hwb.rgb=function($){var J=$[0]/360,K=$[1]/100,Z=$[2]/100,Q=K+Z,Y,G,H,q;if(Q>1)K/=Q,Z/=Q;if(Y=Math.floor(6*J),G=1-Z,H=6*J-Y,(Y&1)!==0)H=1-H;q=K+H*(G-K);var V,W,U;switch(Y){default:case 6:case 0:V=G,W=q,U=K;break;case 1:V=q,W=G,U=K;break;case 2:V=K,W=G,U=q;break;case 3:V=K,W=q,U=G;break;case 4:V=q,W=K,U=G;break;case 5:V=G,W=K,U=q;break}return[V*255,W*255,U*255]};O0.cmyk.rgb=function($){var J=$[0]/100,K=$[1]/100,Z=$[2]/100,Q=$[3]/100,Y,G,H;return Y=1-Math.min(1,J*(1-Q)+Q),G=1-Math.min(1,K*(1-Q)+Q),H=1-Math.min(1,Z*(1-Q)+Q),[Y*255,G*255,H*255]};O0.xyz.rgb=function($){var J=$[0]/100,K=$[1]/100,Z=$[2]/100,Q,Y,G;return Q=J*3.2406+K*-1.5372+Z*-0.4986,Y=J*-0.9689+K*1.8758+Z*0.0415,G=J*0.0557+K*-0.204+Z*1.057,Q=Q>0.0031308?1.055*Math.pow(Q,0.4166666666666667)-0.055:Q*12.92,Y=Y>0.0031308?1.055*Math.pow(Y,0.4166666666666667)-0.055:Y*12.92,G=G>0.0031308?1.055*Math.pow(G,0.4166666666666667)-0.055:G*12.92,Q=Math.min(Math.max(0,Q),1),Y=Math.min(Math.max(0,Y),1),G=Math.min(Math.max(0,G),1),[Q*255,Y*255,G*255]};O0.xyz.lab=function($){var J=$[0],K=$[1],Z=$[2],Q,Y,G;return J/=95.047,K/=100,Z/=108.883,J=J>0.008856?Math.pow(J,0.3333333333333333):7.787*J+0.13793103448275862,K=K>0.008856?Math.pow(K,0.3333333333333333):7.787*K+0.13793103448275862,Z=Z>0.008856?Math.pow(Z,0.3333333333333333):7.787*Z+0.13793103448275862,Q=116*K-16,Y=500*(J-K),G=200*(K-Z),[Q,Y,G]};O0.lab.xyz=function($){var J=$[0],K=$[1],Z=$[2],Q,Y,G;Y=(J+16)/116,Q=K/500+Y,G=Y-Z/200;var H=Math.pow(Y,3),q=Math.pow(Q,3),V=Math.pow(G,3);return Y=H>0.008856?H:(Y-0.13793103448275862)/7.787,Q=q>0.008856?q:(Q-0.13793103448275862)/7.787,G=V>0.008856?V:(G-0.13793103448275862)/7.787,Q*=95.047,Y*=100,G*=108.883,[Q,Y,G]};O0.lab.lch=function($){var J=$[0],K=$[1],Z=$[2],Q,Y,G;if(Q=Math.atan2(Z,K),Y=Q*360/2/Math.PI,Y<0)Y+=360;return G=Math.sqrt(K*K+Z*Z),[J,G,Y]};O0.lch.lab=function($){var J=$[0],K=$[1],Z=$[2],Q,Y,G;return G=Z/360*2*Math.PI,Q=K*Math.cos(G),Y=K*Math.sin(G),[J,Q,Y]};O0.rgb.ansi16=function($){var J=$[0],K=$[1],Z=$[2],Q=1 in arguments?arguments[1]:O0.rgb.hsv($)[2];if(Q=Math.round(Q/50),Q===0)return 30;var Y=30+(Math.round(Z/255)<<2|Math.round(K/255)<<1|Math.round(J/255));if(Q===2)Y+=60;return Y};O0.hsv.ansi16=function($){return O0.rgb.ansi16(O0.hsv.rgb($),$[2])};O0.rgb.ansi256=function($){var J=$[0],K=$[1],Z=$[2];if(J===K&&K===Z){if(J<8)return 16;if(J>248)return 231;return Math.round((J-8)/247*24)+232}var Q=16+36*Math.round(J/255*5)+6*Math.round(K/255*5)+Math.round(Z/255*5);return Q};O0.ansi16.rgb=function($){var J=$%10;if(J===0||J===7){if($>50)J+=3.5;return J=J/10.5*255,[J,J,J]}var K=(~~($>50)+1)*0.5,Z=(J&1)*K*255,Q=(J>>1&1)*K*255,Y=(J>>2&1)*K*255;return[Z,Q,Y]};O0.ansi256.rgb=function($){if($>=232){var J=($-232)*10+8;return[J,J,J]}$-=16;var K,Z=Math.floor($/36)/5*255,Q=Math.floor((K=$%36)/6)/5*255,Y=K%6/5*255;return[Z,Q,Y]};O0.rgb.hex=function($){var J=((Math.round($[0])&255)<<16)+((Math.round($[1])&255)<<8)+(Math.round($[2])&255),K=J.toString(16).toUpperCase();return"000000".substring(K.length)+K};O0.hex.rgb=function($){var J=$.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!J)return[0,0,0];var K=J[0];if(J[0].length===3)K=K.split("").map(function(H){return H+H}).join("");var Z=parseInt(K,16),Q=Z>>16&255,Y=Z>>8&255,G=Z&255;return[Q,Y,G]};O0.rgb.hcg=function($){var J=$[0]/255,K=$[1]/255,Z=$[2]/255,Q=Math.max(Math.max(J,K),Z),Y=Math.min(Math.min(J,K),Z),G=Q-Y,H,q;if(G<1)H=Y/(1-G);else H=0;if(G<=0)q=0;else if(Q===J)q=(K-Z)/G%6;else if(Q===K)q=2+(Z-J)/G;else q=4+(J-K)/G+4;return q/=6,q%=1,[q*360,G*100,H*100]};O0.hsl.hcg=function($){var J=$[1]/100,K=$[2]/100,Z=1,Q=0;if(K<0.5)Z=2*J*K;else Z=2*J*(1-K);if(Z<1)Q=(K-0.5*Z)/(1-Z);return[$[0],Z*100,Q*100]};O0.hsv.hcg=function($){var J=$[1]/100,K=$[2]/100,Z=J*K,Q=0;if(Z<1)Q=(K-Z)/(1-Z);return[$[0],Z*100,Q*100]};O0.hcg.rgb=function($){var J=$[0]/360,K=$[1]/100,Z=$[2]/100;if(K===0)return[Z*255,Z*255,Z*255];var Q=[0,0,0],Y=J%1*6,G=Y%1,H=1-G,q=0;switch(Math.floor(Y)){case 0:Q[0]=1,Q[1]=G,Q[2]=0;break;case 1:Q[0]=H,Q[1]=1,Q[2]=0;break;case 2:Q[0]=0,Q[1]=1,Q[2]=G;break;case 3:Q[0]=0,Q[1]=H,Q[2]=1;break;case 4:Q[0]=G,Q[1]=0,Q[2]=1;break;default:Q[0]=1,Q[1]=0,Q[2]=H}return q=(1-K)*Z,[(K*Q[0]+q)*255,(K*Q[1]+q)*255,(K*Q[2]+q)*255]};O0.hcg.hsv=function($){var J=$[1]/100,K=$[2]/100,Z=J+K*(1-J),Q=0;if(Z>0)Q=J/Z;return[$[0],Q*100,Z*100]};O0.hcg.hsl=function($){var J=$[1]/100,K=$[2]/100,Z=K*(1-J)+0.5*J,Q=0;if(Z>0&&Z<0.5)Q=J/(2*Z);else if(Z>=0.5&&Z<1)Q=J/(2*(1-Z));return[$[0],Q*100,Z*100]};O0.hcg.hwb=function($){var J=$[1]/100,K=$[2]/100,Z=J+K*(1-J);return[$[0],(Z-J)*100,(1-Z)*100]};O0.hwb.hcg=function($){var J=$[1]/100,K=$[2]/100,Z=1-K,Q=Z-J,Y=0;if(Q<1)Y=(Z-Q)/(1-Q);return[$[0],Q*100,Y*100]};O0.apple.rgb=function($){return[$[0]/65535*255,$[1]/65535*255,$[2]/65535*255]};O0.rgb.apple=function($){return[$[0]/255*65535,$[1]/255*65535,$[2]/255*65535]};O0.gray.rgb=function($){return[$[0]/100*255,$[0]/100*255,$[0]/100*255]};O0.gray.hsl=O0.gray.hsv=function($){return[0,0,$[0]]};O0.gray.hwb=function($){return[0,100,$[0]]};O0.gray.cmyk=function($){return[0,0,0,$[0]]};O0.gray.lab=function($){return[$[0],0,0]};O0.gray.hex=function($){var J=Math.round($[0]/100*255)&255,K=(J<<16)+(J<<8)+J,Z=K.toString(16).toUpperCase();return"000000".substring(Z.length)+Z};O0.rgb.gray=function($){var J=($[0]+$[1]+$[2])/3;return[J/255*100]}});var o2=l((oI,i2)=>{var SL=function(){var $={},J=Object.keys(z9);for(var K=J.length,Z=0;Z<K;Z++)$[J[Z]]={distance:-1,parent:null};return $},jL=function($){var J=SL(),K=[$];J[$].distance=0;while(K.length){var Z=K.pop(),Q=Object.keys(z9[Z]);for(var Y=Q.length,G=0;G<Y;G++){var H=Q[G],q=J[H];if(q.distance===-1)q.distance=J[Z].distance+1,q.parent=Z,K.unshift(H)}}return J},IL=function($,J){return function(K){return J($(K))}},TL=function($,J){var K=[J[$].parent,$],Z=z9[J[$].parent][$],Q=J[$].parent;while(J[Q].parent)K.unshift(J[Q].parent),Z=IL(z9[J[Q].parent][Q],Z),Q=J[Q].parent;return Z.conversion=K,Z},z9=W4();i2.exports=function($){var J=jL($),K={},Z=Object.keys(J);for(var Q=Z.length,Y=0;Y<Q;Y++){var G=Z[Y],H=J[G];if(H.parent===null)continue;K[G]=TL(G,J)}return K}});var R4=l((rI,r2)=>{var kL=function($){var J=function(K){if(K===void 0||K===null)return K;if(arguments.length>1)K=Array.prototype.slice.call(arguments);return $(K)};if("conversion"in $)J.conversion=$.conversion;return J},vL=function($){var J=function(K){if(K===void 0||K===null)return K;if(arguments.length>1)K=Array.prototype.slice.call(arguments);var Z=$(K);if(typeof Z==="object")for(var Q=Z.length,Y=0;Y<Q;Y++)Z[Y]=Math.round(Z[Y]);return Z};if("conversion"in $)J.conversion=$.conversion;return J},U4=W4(),wL=o2(),O6={},DL=Object.keys(U4);DL.forEach(function($){O6[$]={},Object.defineProperty(O6[$],"channels",{value:U4[$].channels}),Object.defineProperty(O6[$],"labels",{value:U4[$].labels});var J=wL($),K=Object.keys(J);K.forEach(function(Z){var Q=J[Z];O6[$][Z]=vL(Q),O6[$][Z].raw=kL(Q)})});r2.exports=O6});var a2=l((sI,s2)=>{s2.exports=function($,J){J=J||process.argv;var K=J.indexOf("--"),Z=/^--/.test($)?"":"--",Q=J.indexOf(Z+$);return Q!==-1&&(K!==-1?Q<K:!0)}});var e2=l((aI,t2)=>{var w8=a2(),_L=function($){if($===0)return!1;return{level:$,hasBasic:!0,has256:$>=2,has16m:$>=3}},O4=function(){if(w8("no-color")||w8("no-colors")||w8("color=false"))return 0;if(w8("color=16m")||w8("color=full")||w8("color=truecolor"))return 3;if(w8("color=256"))return 2;if(w8("color")||w8("colors")||w8("color=true")||w8("color=always"))return 1;if(process.stdout&&!process.stdout.isTTY)return 0;if(process.platform==="win32")return 1;if("CI"in process.env){if("TRAVIS"in process.env||process.env.CI==="Travis")return 1;return 0}if("TEAMCITY_VERSION"in process.env)return process.env.TEAMCITY_VERSION.match(/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/)===null?0:1;if(/^(screen|xterm)-256(?:color)?/.test("xterm-256color"))return 2;if(/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test("xterm-256color"))return 1;if("COLORTERM"in process.env)return 1;return 0}();if(O4===0&&"FORCE_COLOR"in process.env)O4=1;t2.exports=process&&_L(O4)});var JU=l((tI,$U)=>{var yL=function(){const $=new Map,J={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};J.color.grey=J.color.gray;for(let Q of Object.keys(J)){const Y=J[Q];for(let G of Object.keys(Y)){const H=Y[G];J[G]={open:`\x1B[${H[0]}m`,close:`\x1B[${H[1]}m`},Y[G]=J[G],$.set(H[0],H[1])}Object.defineProperty(J,Q,{value:Y,enumerable:!1}),Object.defineProperty(J,"codes",{value:$,enumerable:!1})}const K=(Q)=>Q,Z=(Q,Y,G)=>[Q,Y,G];J.color.close="\x1B[39m",J.bgColor.close="\x1B[49m",J.color.ansi={ansi:N9(K,0)},J.color.ansi256={ansi256:P9(K,0)},J.color.ansi16m={rgb:A9(Z,0)},J.bgColor.ansi={ansi:N9(K,10)},J.bgColor.ansi256={ansi256:P9(K,10)},J.bgColor.ansi16m={rgb:A9(Z,10)};for(let Q of Object.keys(z6)){if(typeof z6[Q]!=="object")continue;const Y=z6[Q];if(Q==="ansi16")Q="ansi";if("ansi16"in Y)J.color.ansi[Q]=N9(Y.ansi16,0),J.bgColor.ansi[Q]=N9(Y.ansi16,10);if("ansi256"in Y)J.color.ansi256[Q]=P9(Y.ansi256,0),J.bgColor.ansi256[Q]=P9(Y.ansi256,10);if("rgb"in Y)J.color.ansi16m[Q]=A9(Y.rgb,0),J.bgColor.ansi16m[Q]=A9(Y.rgb,10)}return J},z6=R4(),N9=($,J)=>function(){return`\x1B[${$.apply(z6,arguments)+J}m`},P9=($,J)=>function(){const K=$.apply(z6,arguments);return`\x1B[${38+J};5;${K}m`},A9=($,J)=>function(){const K=$.apply(z6,arguments);return`\x1B[${38+J};2;${K[0]};${K[1]};${K[2]}m`};Object.defineProperty($U,"exports",{enumerable:!0,get:yL})});var ZU=l((eI,KU)=>{var xL=function($,J,K){if(typeof J==="function")return J($);if(K=z4(K)==="boolean"?{empty:K}:{empty:!1},K.empty)return $||J;if(z4($)===z4(J))return $;return J},z4=R9();KU.exports=xL});var HU=l((JT,GU)=>{var gL=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol==="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},QU=R9(),YU=ZU(),$T=GU.exports={merge:function $(J,K,Z){var Q={};K=YU(K,{}),J=YU(J,{});for(var Y in K)Q[Y]=K[Y];for(var G in J){if(J[G]===void 0)continue;Q[G]=J[G]}return Q},deepMerge:function $(){var J={},K=null,Z=null,Q=[].splice.call(arguments,0);while(Q.length>0){if(K=Q.splice(-1)[0],!QU(K,Object))continue;for(Z in K){if(!K.hasOwnProperty(Z))continue;if(QU(K[Z],Object))J[Z]=this.deepMerge(K[Z],J[Z]||{});else if(K[Z]!==void 0)J[Z]=K[Z]}}return J},clone:function $(J){if(!J)return J;var K=[Number,String,Boolean],Z=void 0;for(var Q=0;Q<K.length;++Q){var Y=K[Q];if(J instanceof Y)Z=Y(J)}if(typeof Z=="undefined")if(Array.isArray(J)){Z=[];for(var G=0;G<J.length;++G)Z[G]=this.clone(J[G])}else if((typeof J==="undefined"?"undefined":gL(J))=="object")if(!J.prototype)if(J instanceof Date)Z=new Date(J);else{Z={};for(G in J)Z[G]=this.clone(J[G])}else Z=J;else Z=J;return Z},HOME_DIR:process.env[process.platform=="win32"?"USERPROFILE":"HOME"],home:function $(){return this.HOME_DIR}}});var VU=l((KT,qU)=>{var hL=V4();qU.exports=function $(J){if(J===void 0)return hL;return function(){return J}}});var RU=l((ZT,UU)=>{var B9=e2(),B5=JU(),WU=HU(),bL=VU(),D8=bL(""),F9={rgb:D8,hsl:D8,hsv:D8,hwb:D8,cmyk:D8,xyz:D8,lab:D8,lch:D8,hex:D8,keyword:D8,ansi16:D8},J1=UU.exports=[{fg:F9,bg:F9},{fg:B5.color.ansi,bg:B5.bgColor.ansi},{fg:B5.color.ansi256,bg:B5.bgColor.ansi256},{fg:B5.color.ansi16m,bg:B5.bgColor.ansi16m}][B9?B9.level:0];J1.fg=WU.merge(J1.fg,F9);J1.bg=WU.merge(J1.bg,F9);J1.close={fg:B9?B5.color.close:"",bg:B9?B5.bgColor.close:""}});var zU=l((QT,OU)=>{var mL=function($,J){var K=0,Z=[];if(Array.isArray($)){for(;K<$.length;++K)if(J($[K],K,$)===!1)break}else if((typeof $==="undefined"?"undefined":uL($))==="object"&&$!==null){Z=Object.keys($);for(;K<Z.length;++K)if(J($[Z[K]],Z[K],$)===!1)break}},uL=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol==="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $};OU.exports=mL});var XU=l((YT,FU)=>{var K5=function($,J){if(!F5(this,K5)||F5(this,void 0)){if(F5(J,Array)||F5(J,String))return K5.fg($,J);return new K5($,J)}this.text=$,this.styles=[]},fL=function($,J,K,Z){if(F5(this.text)==="string")J=$,$=this.text;var Q={color:"",text:$};if(F5(J,Array))Q.color=NU.rgb.hex(J);else if(F5(J,Number))Q.color=NU.rgb.hex(J,K,Z);else Q.color=J;return Q},BU=function($,J,K,Z){if($==="fg")$=X9.fg.hex(J),Z=X9.close.fg,J="";else if($==="bg")$=X9.bg.hex(J),Z=X9.close.bg,J="";return[$,J,K,Z].join("")},cL=function($,J,K){return function(Z,Q,Y,G){var H=fL.apply(this,arguments);if(F5(this.text,String))return this.styles.push([$,J,H]),this;return BU($,H.color,H.text,J)}},F5=R9(),NU=R4(),X9=RU(),PU=zU(),AU={bold:["\x1B[1m","\x1B[22m"],italic:["\x1B[3m","\x1B[23m"],underline:["\x1B[4m","\x1B[24m"],inverse:["\x1B[7m","\x1B[27m"],strike:["\x1B[9m","\x1B[29m"],fg:["fg","fg"],bg:["bg","bg"]};K5.prototype.toString=function(){var $=this.text;return this.styles.forEach(function(J){$=BU(J[0],J[2].color,$,J[1])}),$};PU(AU,function($,J){K5[J]=K5.prototype[J]=cL($[0],$[1],J)});K5.proto=function(){PU(AU,function($,J){String.prototype[J]=function(K,Z,Q){return K5[J](String(this),K,Z,Q)}})};FU.exports=K5});var CU=l((N4,EU)=>{/*! is-windows v0.1.0 | MIT LICENSE (c) 2015 | https://github.com/jonschlinkert/is-windows */(function($,J){if(typeof define==="function"&&define.amd)define(J);else if(typeof N4==="object")EU.exports=J;else $.isWindows=J()})(N4,function(){return function $(){if(typeof process==="undefined"||!process)return!1;return process.platform==="win32"}()})});var MU=l((GT,LU)=>{var dL=CU();LU.exports=dL()?0.714:0.5});var IU=l((HT,jU)=>{var pL="Function.prototype.bind called on incompatible ",lL=Object.prototype.toString,nL=Math.max,iL="[object Function]",SU=function $(J,K){var Z=[];for(var Q=0;Q<J.length;Q+=1)Z[Q]=J[Q];for(var Y=0;Y<K.length;Y+=1)Z[Y+J.length]=K[Y];return Z},oL=function $(J,K){var Z=[];for(var Q=K||0,Y=0;Q<J.length;Q+=1,Y+=1)Z[Y]=J[Q];return Z},rL=function($,J){var K="";for(var Z=0;Z<$.length;Z+=1)if(K+=$[Z],Z+1<$.length)K+=J;return K};jU.exports=function $(J){var K=this;if(typeof K!=="function"||lL.apply(K)!==iL)throw new TypeError(pL+K);var Z=oL(arguments,1),Q,Y=function(){if(this instanceof Q){var W=K.apply(this,SU(Z,arguments));if(Object(W)===W)return W;return this}return K.apply(J,SU(Z,arguments))},G=nL(0,K.length-Z.length),H=[];for(var q=0;q<G;q++)H[q]="$"+q;if(Q=Function("binder","return function ("+rL(H,",")+"){ return binder.apply(this,arguments); }")(Y),K.prototype){var V=function W(){};V.prototype=K.prototype,Q.prototype=new V,V.prototype=null}return Q}});var wU=l((qT,TU)=>{var sL=IU();TU.exports=Function.prototype.bind||sL});var P4=l((VT,DU)=>{var aL=Function.prototype.call,tL=Object.prototype.hasOwnProperty,eL=wU();DU.exports=eL.call(aL,tL)});var _U=l((WT,vU)=>{var X5=P4(),kU={__proto__:null,configurable:"boolean",enumerable:"boolean",get:"function",set:"function"};vU.exports=function $(J,K){if(typeof K==="string"){var Z=Object.getOwnPropertyDescriptor(J,K);return typeof Z!=="undefined"}if(!J||typeof J!=="object")return!1;if(X5(J,"value")||X5(J,"writable"))return!1;if((!X5(J,"get")||typeof J.get!=="function")&&(!X5(J,"set")||typeof J.set!=="function"))return!1;if(X5(J,"get")&&typeof J.get!=="function"&&typeof J.get!=="undefined"||X5(J,"set")&&typeof J.set!=="function"&&typeof J.set!=="undefined")return!1;for(var Q in J)if(X5(J,Q)&&X5(kU,Q)&&typeof J[Q]!==kU[Q]&&typeof J[Q]!=="undefined")return!1;return!0}});var hU=l((UT,gU)=>{var yU=P4(),xU={__proto__:null,configurable:"boolean",enumerable:"boolean",writable:"boolean"};gU.exports=function $(J,K){if(!J||typeof J!=="object")return!1;if(typeof K==="string"){var Z=Object.getOwnPropertyDescriptor(J,K);return typeof Z!=="undefined"}if(!("value"in J)&&!("writable"in J)||"get"in J||"set"in J)return!1;for(var Q in J)if(Q!=="value"&&yU(J,Q)&&yU(xU,Q)&&typeof J[Q]!==xU[Q]&&typeof J[Q]!=="undefined")return!1;return!0}});var uU=l((RT,bU)=>{var $M=_U(),JM=hU();bU.exports=function $(J,K){if(!J||typeof J!=="object"&&typeof J!=="function")return!1;if("get"in J||"set"in J)return $M(J,K);return JM(J,K)}});var fU=l((OT,mU)=>{/*!
 * define-property <https://github.com/jonschlinkert/define-property>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var KM=uU();mU.exports=function $(J,K,Z){if(typeof J!=="object"&&typeof J!=="function")throw new TypeError("expected an object or function.");if(typeof K!=="string")throw new TypeError("expected `prop` to be a string.");if(KM(Z)&&(("set"in Z)||("get"in Z)))return Object.defineProperty(J,K,Z);return Object.defineProperty(J,K,{configurable:!0,enumerable:!1,writable:!0,value:Z})}});var pU=l((zT,dU)=>{var cU=function($){return!!$.constructor&&typeof $.constructor.isBuffer==="function"&&$.constructor.isBuffer($)},ZM=function($){return typeof $.readFloatLE==="function"&&typeof $.slice==="function"&&cU($.slice(0,0))};/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */dU.exports=function($){return $!=null&&(cU($)||ZM($)||!!$._isBuffer)}});var nU=l((NT,lU)=>{var QM=pU(),YM=Object.prototype.toString;lU.exports=function $(J){if(typeof J==="undefined")return"undefined";if(J===null)return"null";if(J===!0||J===!1||J instanceof Boolean)return"boolean";if(typeof J==="string"||J instanceof String)return"string";if(typeof J==="number"||J instanceof Number)return"number";if(typeof J==="function"||J instanceof Function)return"function";if(typeof Array.isArray!=="undefined"&&Array.isArray(J))return"array";if(J instanceof RegExp)return"regexp";if(J instanceof Date)return"date";var K=YM.call(J);if(K==="[object RegExp]")return"regexp";if(K==="[object Date]")return"date";if(K==="[object Arguments]")return"arguments";if(K==="[object Error]")return"error";if(QM(J))return"buffer";if(K==="[object Set]")return"set";if(K==="[object WeakSet]")return"weakset";if(K==="[object Map]")return"map";if(K==="[object WeakMap]")return"weakmap";if(K==="[object Symbol]")return"symbol";if(K==="[object Int8Array]")return"int8array";if(K==="[object Uint8Array]")return"uint8array";if(K==="[object Uint8ClampedArray]")return"uint8clampedarray";if(K==="[object Int16Array]")return"int16array";if(K==="[object Uint16Array]")return"uint16array";if(K==="[object Int32Array]")return"int32array";if(K==="[object Uint32Array]")return"uint32array";if(K==="[object Float32Array]")return"float32array";if(K==="[object Float64Array]")return"float64array";return"object"}});var oU=l((PT,iU)=>{/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var GM=nU();iU.exports=function $(J){var K=GM(J);if(K==="string"){if(!J.trim())return!1}else if(K!=="number")return!1;return J-J+1>=0}});var JR=l((AT,$R)=>{var qM=function($){return $=$||{},sU($,"stdout")||sU($,"stderr")||tU()||eU($)},sU=function($,J){var K=process&&process[J]||$[J],Z;if(!K)return;if(typeof K.getWindowSize==="function"){if(Z=K.getWindowSize(),N6(Z))return{width:Z[0],height:Z[1],type:J}}if(Z=[K.columns,K.rows],N6(Z))return{width:Number(Z[0]),height:Number(Z[1]),type:J}},tU=function(){if(process&&process.env){var $=[process.env.COLUMNS,process.env.ROWS];if(N6($))return{width:Number($[0]),height:Number($[1]),type:"process.env"}}},eU=function($,J){var K=$.tty||import.meta.require("tty");if(K&&typeof K.getWindowSize==="function"){var Z=K.getWindowSize(J);if(N6(Z))return{width:Number(Z[1]),height:Number(Z[0]),type:"tty"}}},VM=function(){if(HM.release().startsWith("10")){var $="wmic path Win32_VideoController get CurrentHorizontalResolution,CurrentVerticalResolution",J=/\d+/g,K=aU.execSync($).toString(),Z=K.match(J);if(N6(Z))return{width:Number(Z[0]),height:Number(Z[1]),type:"windows"}}},WM=function(){try{var $=aU.execSync("tput cols && tput lines",{stdio:["ignore","pipe",process.stderr]}),J=$.toString().trim().split("\n");if(N6(J))return{width:Number(J[0]),height:Number(J[1]),type:"tput"}}catch(K){}},N6=function($){return Array.isArray($)&&rU($[0])&&rU($[1])};/*!
 * window-size <https://github.com/jonschlinkert/window-size>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var HM=import.meta.require("os"),rU=oU(),aU=import.meta.require("child_process");$R.exports={get:qM,env:tU,tty:eU,tput:WM,win:VM}});var KR=l((BT,E5)=>{/*!
 * window-size <https://github.com/jonschlinkert/window-size>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var K1=fU(),P6=JR();E5.exports=P6.get();if(E5.exports)K1(E5.exports,"get",P6.get),K1(E5.exports,"env",P6.env),K1(E5.exports,"tty",P6.tty),K1(E5.exports,"tput",P6.tput),K1(E5.exports,"win",P6.win)});var HR=l((FT,GR)=>{var A4=g2(),UM=XU(),RM=MU(),ZR=KR(),YR=" .,:;i1tfLCG08@",OM=YR.length-1;GR.exports=function($,J,K){var Z={},Q;if(typeof J==="object"){if(Z=J,typeof K==="function")Q=K}else if(typeof J==="function")Q=J;if(!Q)return new Promise(function(Y,G){QR($,Z,function(H,q){if(H)return G(H);if(q)return Y(q)})});QR($,Z,Q||console.log)};var QR=function($,J,K){A4.read($,function(Z,Q){if(Z)return K("Error loading image: "+Z);if(J.width&&J.width.toString().substr(-1)==="%")J.width=Math.floor(parseInt(J.width.slice(0,-1))/100*(ZR.width*RM));if(J.height&&J.height.toString().substr(-1)==="%")J.height=Math.floor(parseInt(J.height.slice(0,-1))/100*ZR.height);var Y={fit:J.fit?J.fit:"original",width:J.width?parseInt(J.width):Q.bitmap.width,height:J.height?parseInt(J.height):Q.bitmap.height,c_ratio:J.c_ratio?parseInt(J.c_ratio):2,color:J.color==!1?!1:!0,as_string:J.format==="array"?!1:!0},G=zM(Q,Y);Q.resize(G[0],G[1]);var H="";if(!Y.as_string)H=[];var q=1020/OM,V,W,U;for(W=0;W<Q.bitmap.height;W++){if(!Y.as_string)H.push([]);for(V=0;V<Q.bitmap.width;V++)for(U=0;U<Y.c_ratio;U++){var R=YR.charAt(Math.round(NM(Q,V,W)/q));if(Y.color){var O=A4.intToRGBA(Q.getPixelColor(V,W));R=UM.fg(R,O.r,O.g,O.b)}if(Y.as_string)H+=R;else H[W].push(R)}if(Y.as_string&&W!=Q.bitmap.height-1)H+="\n"}K(null,H)})},zM=function($,J){switch(J.fit){case"width":return[J.width,$.bitmap.height*(J.width/$.bitmap.width)];case"height":return[$.bitmap.width*(J.height/$.bitmap.height),J.height];case"none":return[J.width,J.height];case"box":var K=$.bitmap.width/J.width,Z=$.bitmap.height/J.height,Q,Y;if(K>Z)Y=Math.round($.bitmap.height/K),Q=J.width;else Q=Math.round($.bitmap.width/Z),Y=J.height;return[Q,Y];case"original":default:if(J.fit!=="original")console.error('Invalid option "fit", assuming "original"');return[$.bitmap.width,$.bitmap.height]}},NM=function($,J,K){var Z=A4.intToRGBA($.getPixelColor(J,K));return Z.r+Z.g+Z.b+Z.a}});var qR=OR(HR(),1);var{$:PM}=globalThis.Bun;import B4 from"fs";async function CT($,J,K=AM,Z=15){if(!B4.existsSync(`${K}/${J}/`))B4.mkdirSync(`${K}/${J}/`);const Q=PM`ffmpeg -i pipe:0 -vf fps=1/${Z} %d.png`;Q.stdin.getWriter().write($);const Y=await Q;if(Y.exitCode!==0)return Y.stderr;const G=B4.readdirSync(`${K}/${J}/`).map((q)=>`${K}/${J}/${q}`),H=[];for(let q of G)H.push(await qR.default(q));return H}var AM="/tmp/videoToAscii/";export{CT as create};
